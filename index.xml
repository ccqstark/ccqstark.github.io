<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>ccq&#39;s blog</title>
        <link>https://ccqstark.github.io/</link>
        <description>Recent content on ccq&#39;s blog</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en-us</language>
        <lastBuildDate>Thu, 30 Dec 2021 00:52:42 +0800</lastBuildDate><atom:link href="https://ccqstark.github.io/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>çº¢é»‘æ ‘ï¼Œè¿™æ¬¡ç»ˆäºæ‹¿ä¸‹äº†</title>
        <link>https://ccqstark.github.io/p/red_black_tree/</link>
        <pubDate>Thu, 30 Dec 2021 00:52:42 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/red_black_tree/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/red_black_tree/cover.png" alt="Featured image of post çº¢é»‘æ ‘ï¼Œè¿™æ¬¡ç»ˆäºæ‹¿ä¸‹äº†" /&gt;&lt;h2 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;ç”±äºæœ€è¿‘åœ¨çœ‹Javaçš„å®¹å™¨ï¼Œçœ‹åˆ°HashMapï¼Œå‘ç°å®ƒåº•å±‚æœ‰ç”¨åˆ°çº¢é»‘æ ‘ï¼Œæƒ³èµ·äº†ä¸€äº›æ®µå­ä»¥åŠå¾ˆä¹…ä¹‹å‰æ›¾ç»æŒ‘æˆ˜è¿‡å­¦ä¹ å®ƒä½†æ˜¯æ²¡æœ‰æˆåŠŸï¼Œäºæ˜¯è¿™æ¬¡æ‰“ç®—å†æ¬¡æŒ‘æˆ˜ä¸€æ³¢ï¼Œå¹¶å†™æˆåšå®¢ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åº”ç”¨åœºæ™¯&#34;&gt;åº”ç”¨åœºæ™¯&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;JDKçš„HashMapã€TreeMapå’ŒTreeSet&lt;/li&gt;
&lt;li&gt;Linuxå†…æ ¸çš„è™šæ‹Ÿå†…å­˜ç®¡ç†&lt;/li&gt;
&lt;li&gt;Nginxçš„Timerç®¡ç†&lt;/li&gt;
&lt;li&gt;C++çš„STL&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°åœ¨å®é™…å·¥ç¨‹åœºæ™¯ä¸­è¿˜æ˜¯ç”¨å¾—å¾ˆå¤šçš„ä¸€ç§æ•°æ®ç»“æ„çš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;äº”å¤§åŸºæœ¬æ€§è´¨&#34;&gt;äº”å¤§åŸºæœ¬æ€§è´¨&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆçº¢é»‘æ ‘æ˜¯ä¸€é¢—äºŒå‰æœç´¢æ ‘ï¼Œç„¶åå†åŠ ä¸Šä¸‹é¢äº”å¤§æ€§è´¨ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;èŠ‚ç‚¹æœ‰çº¢è‰²å’Œé»‘è‰²ä¸¤ç§&lt;/li&gt;
&lt;li&gt;æ ¹èŠ‚ç‚¹ä¸€å®šæ˜¯é»‘è‰²çš„&lt;/li&gt;
&lt;li&gt;å¶å­èŠ‚ç‚¹ï¼ˆnilèŠ‚ç‚¹ï¼‰éƒ½æ˜¯é»‘è‰²çš„&lt;/li&gt;
&lt;li&gt;ä¸èƒ½æœ‰è¿ç»­çš„çº¢è‰²èŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;ä»»æ„èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹æ‰€ç»è¿‡çš„é»‘è‰²èŠ‚ç‚¹æ•°ç›¸åŒ&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;ç¬¬5ç‚¹å°±æ˜¯çº¢é»‘æ ‘ç»´æŒå¹³è¡¡çš„é‡è¦æ¡ä»¶ï¼Œæˆ‘ä»¬å¸¸è¯´çš„è¾¾åˆ°é»‘è‰²å¹³è¡¡æˆ–è€…çº¢é»‘æ ‘è¾¾åˆ°å¹³è¡¡ä¸»è¦è¯´çš„å°±æ˜¯è¾¾åˆ°è¿™ä¸ªæ¡ä»¶ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¦‚æœç²¾åŠ›å……è¶³çš„è¯å»ºè®®å¯ä»¥å†å»äº†è§£ä¸€ä¸‹2-3-4æ ‘ï¼Œçº¢é»‘æ ‘å°±æ˜¯å¯¹æ¦‚å¿µæ¨¡å‹2-3-4æ ‘çš„ä¸€ç§å®ç°ï¼Œè¿™é‡Œæ¨èæˆ‘å½“æ—¶çœ‹çš„&lt;a class=&#34;link&#34; href=&#34;https://www.zhihu.com/question/312327402&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æ•–ä¸™å†™çš„ä¸€ç¯‡æ–‡ç« &lt;/a&gt;ï¼Œä»‹ç»äº†2-3-4æ ‘çš„æ¦‚å¿µåŠå…¶ä¸çº¢é»‘æ ‘çš„è½¬åŒ–ï¼Œæœ€åä»‹ç»äº†çº¢é»‘æ ‘çš„ç®€åŒ–ç‰ˆâ€”â€”å·¦å€¾çº¢é»‘æ ‘çš„æ’å…¥ä¸åˆ é™¤ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æœ¬è´¨ä¸æ„ä¹‰&#34;&gt;æœ¬è´¨ä¸æ„ä¹‰&lt;/h2&gt;
&lt;p&gt;è¿™ä¸€éƒ¨åˆ†è¦è¯´çš„å°±æ˜¯é¢è¯•ç»å¸¸é—®çš„ï¼š&lt;strong&gt;ä¸ºä»€ä¹ˆæœ‰äº†äºŒæŸ¥æ‰¾æŸ¥æ‰¾æ ‘/å¹³è¡¡æ ‘è¿˜éœ€è¦çº¢é»‘æ ‘ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;h3 id=&#34;äºŒå‰æŸ¥æ‰¾æ ‘çš„ç¼ºç‚¹&#34;&gt;äºŒå‰æŸ¥æ‰¾æ ‘çš„ç¼ºç‚¹&lt;/h3&gt;
&lt;p&gt;äºŒå‰æŸ¥æ‰¾æ ‘å¤§å®¶åº”è¯¥å¾ˆç†Ÿæ‚‰ï¼Œç‰¹ç‚¹å°±æ˜¯å·¦å­æ ‘çš„èŠ‚ç‚¹éƒ½æ¯”çˆ¶èŠ‚ç‚¹å°ï¼Œè€Œå³å­æ ‘çš„èŠ‚ç‚¹å€¼éƒ½æ¯”çˆ¶èŠ‚ç‚¹å¤§ã€‚åŸºäºè¿™ä¸ªç‰¹ç‚¹ï¼Œæˆ‘ä»¬åœ¨äºŒå‰æŸ¥æ‰¾æ ‘æŸ¥æ‰¾æŸä¸€ä¸ªå€¼æ—¶ï¼Œé‡‡ç”¨ç±»ä¼¼äºŒåˆ†æŸ¥æ‰¾çš„æ€æƒ³ï¼Œæ—¶é—´å¤æ‚åº¦åªç”¨&lt;code&gt;O(logn)&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯è¿™æ˜¯æ­£å¸¸æƒ…å†µä¸‹ï¼Œå› ä¸ºäºŒå‰æŸ¥æ‰¾æ ‘æœ‰å¯èƒ½å‡ºç°ä¸€ç§æç«¯ï¼Œå°±æ˜¯æ‰€æœ‰èŠ‚ç‚¹éƒ½åŒä¸€æ–¹å‘ä¸Šï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œè¿™ä¸ªæ—¶å€™äºŒå‰æœç´¢æ ‘ä»¥åŠè¿‘ä¼¼é€€åŒ–ä¸ºä¸€æ¡é“¾è¡¨äº†ï¼ŒæŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦ä¹Ÿé¡¿æ—¶å˜æˆäº†&lt;code&gt;O(n)&lt;/code&gt; ï¼Œé‚£è¿™æ ·çš„è¯äºŒå‰æœç´¢æ ‘ä¹Ÿå°±å¤±å»äº†åŸæœ¬çš„æ„ä¹‰â€”â€”è®©æœç´¢å˜å¾—æ›´å¿«ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112292237974.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112292237974.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå‡ºç°äº†å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼ˆä¹Ÿå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„&lt;code&gt;AVLæ ‘&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;
&lt;h3 id=&#34;avlæ ‘&#34;&gt;AVLæ ‘&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†è§£å†³äºŒå‰æœç´¢æ ‘å¯èƒ½é€€åŒ–ä¸ºé“¾è¡¨çš„é—®é¢˜è€Œç”Ÿï¼Œæœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ‹¥æœ‰äºŒå‰æ ‘çš„å…¨éƒ¨ç‰¹æ€§&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªèŠ‚ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘çš„&lt;strong&gt;é«˜åº¦å·®ä¸è¶…è¿‡1&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç”±äºç¬¬äºŒç‚¹çš„çº¦æŸä½¿å¾—AVLæ ‘ä¸ä¼šå‡ºç°å¤§é‡èŠ‚ç‚¹ä¸€è¾¹å€’çš„æƒ…å†µï¼Œä½†æ˜¯åœ¨AVLæ ‘æ„å»ºçš„è¿‡ç¨‹ä¸­å°±éœ€è¦å¾ˆå¤šé¢å¤–çš„æ“ä½œæ¥ä¿è¯å…¶ç¬¦åˆè¿™ä¸ªç‰¹æ€§ï¼Œä½¿å¾—å…¶æœ€åæƒ…å†µä¸‹æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦ä¹Ÿè¿˜æ˜¯ä¸º&lt;code&gt;O(logn)&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä¸ºä»€ä¹ˆæœ‰äº†avlæ ‘è¿˜è¦çº¢é»‘æ ‘&#34;&gt;&lt;strong&gt;ä¸ºä»€ä¹ˆæœ‰äº†AVLæ ‘è¿˜è¦çº¢é»‘æ ‘ï¼Ÿ&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;è™½ç„¶AVLæ ‘è§£å†³äº†äºŒå‰æœç´¢æ ‘é€€åŒ–äº†è¿‘ä¼¼é“¾è¡¨çš„ç¼ºç‚¹ï¼Œä½†æ˜¯ç”±äºæ¯ä¸ªèŠ‚ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘çš„é«˜åº¦å·®ä¸è¶…è¿‡1è¿™ä¸ªè¦æ±‚å®åœ¨æ˜¯å¤ªä¸¥è‹›äº†ï¼Œå¯¼è‡´æ¯æ¬¡æ’å…¥å’Œåˆ é™¤èŠ‚ç‚¹çš„æ—¶å€™å¾ˆå®¹æ˜“å°±ç ´åäº†è¿™æ¡è§„åˆ™ï¼Œä¹‹åå°±éœ€è¦å·¦å¤§é‡çš„&lt;strong&gt;å·¦æ—‹&lt;/strong&gt;å’Œ&lt;strong&gt;å³æ—‹&lt;/strong&gt;æ¥è¿›è¡Œè°ƒæ•´æ—¶æœŸå†æ¬¡ç¬¦åˆAVLæ ‘çš„è¦æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥å¦‚æœåœ¨æ’å…¥å’Œåˆ é™¤å¾ˆé¢‘ç¹çš„åœºæ™¯ä¸­ï¼ŒAVLæ ‘éœ€è¦å¾ˆé¢‘ç¹åœ°è¿›è¡Œè°ƒæ•´ï¼Œè¿™æ ·çš„è¯æ•ˆç‡å°±å¤§å¤§é™ä½äº†ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜æ‰€ä»¥å‡ºç°äº†çº¢é»‘æ ‘ã€‚ï¼ˆå¦‚æœåœ¨é¢è¯•ä¸­æ¥ä¸‹æ¥è¿™é‡Œå°±å¯ä»¥è¯´å‡ºçº¢é»‘æ ‘çš„é‚£5ä¸ªç‰¹ç‚¹ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;æ­£ç”±äºçº¢é»‘æ ‘çš„è¿™äº›ç‰¹ç‚¹ï¼Œä½¿å…¶æœ€åæƒ…å†µä¸‹ä¸ä»…è¿˜èƒ½ç»´æŒç”¨&lt;code&gt;O(logn)&lt;/code&gt;çš„æ—¶é—´å¤æ‚åº¦æ‰¾åˆ°æŸä¸ªèŠ‚ç‚¹ï¼Œè€Œä¸”ä¸AVLæ ‘ç›¸æ¯”ï¼Œä¼˜åŠ¿å°±åœ¨äºä¸ä¼šé‚£ä¹ˆé¢‘ç¹åœ°ç ´åçº¢é»‘æ ‘çš„è§„åˆ™ï¼Œä»è€Œä¸ç”¨é‚£ä¹ˆé¢‘ç¹åœ°è¿›è¡Œè°ƒæ•´ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬å¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨çº¢é»‘æ ‘çš„åŸå› ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥çº¢é»‘æ ‘æ˜¯ä¸€ç§ç›¸å¯¹AVLæ ‘æ¥è¯´ä¸é‚£ä¹ˆä¸¥æ ¼çš„å¹³è¡¡æ ‘ï¼Œä¹Ÿå°±æ˜¯ä¸€ç§æŠ˜ä¸­çš„æ–¹æ¡ˆï¼Œä»‹äºæ™®é€šçš„äºŒå‰æœç´¢æ ‘å’ŒAVLæ ‘ä¹‹é—´ã€‚æç«¯æƒ…å†µä¸‹å·¦å³å­æ ‘çš„èŠ‚ç‚¹æ•°ï¼ˆä¹Ÿå°±æ˜¯æ·±åº¦ï¼‰ç›¸å·®ä¸€å€ï¼Œä¹Ÿå°±æ˜¯å·¦è¾¹éƒ½æœ‰é»‘èŠ‚ç‚¹ï¼Œå³è¾¹éƒ½æ˜¯çº¢é»‘ç›¸é—´ï¼Œå³å­æ ‘çš„èŠ‚ç‚¹æ•°æˆ–è€…è¯´æ·±åº¦å°±ä¹Ÿæ˜¯å·¦å­æ ‘çš„2å€ï¼Œè¿™ä¸ªè¦æ±‚å°±æ¯”AVLæ ‘çš„ç›¸å·®æœ€å¤šåªèƒ½ä¸º1å®½æ¾å¤šäº†ï¼Œå› æ­¤è°ƒæ•´ä¹Ÿå°±æ›´å°‘ï¼Œæ•ˆç‡ä¹Ÿå°±æ›´é«˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸ºä»€ä¹ˆçº¢é»‘æ ‘æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦è¿˜èƒ½ç»´æŒåœ¨ologn&#34;&gt;ä¸ºä»€ä¹ˆçº¢é»‘æ ‘æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦è¿˜èƒ½ç»´æŒåœ¨O(logn)ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬å¯¹æœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦è¿›è¡Œè®¡ç®—ã€‚&lt;/p&gt;
&lt;p&gt;æœ€åæƒ…å†µä¸‹å°±æ˜¯ä¸Šé¢è¯´çš„çº¢é»‘ç›¸é—´ï¼Œæ€»èŠ‚ç‚¹æ•°=çº¢èŠ‚ç‚¹æ•°+é»‘èŠ‚ç‚¹æ•°ï¼Œçº¢é»‘èŠ‚ç‚¹æ•°ä¸€è‡´ã€‚&lt;/p&gt;
&lt;p&gt;$$n = n_r + n_b$$&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æ—¶é—´å¤æ‚åº¦å°±æ˜¯&lt;/p&gt;
&lt;p&gt;$$O(2* \log n_b ) = O(2 * \log \frac{n}{2})$$&lt;/p&gt;
&lt;p&gt;å¸¸æ•°2ç›´æ¥å»æ‰&lt;/p&gt;
&lt;p&gt;$$O(\log \frac{n}{2}) = O(\log n - 1)$$&lt;/p&gt;
&lt;p&gt;ç„¶åå› ä¸ºè¿™é‡Œæ˜¯äºŒåˆ†ï¼Œæ‰€ä»¥logåº•æ•°å–2ï¼Œå°±è½¬æ¢ä¸ºå¦‚ä¸Šçš„æœ€ç»ˆå½¢å¼ï¼Œå»æ‰å¸¸æ•°-1åå¯ä»¥å‘ç°æ­¤æ—¶æœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦ä»ç„¶è¿˜æ˜¯&lt;code&gt;O(logn)&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;h2 id=&#34;çº¢é»‘æ ‘çš„æ’å…¥&#34;&gt;çº¢é»‘æ ‘çš„æ’å…¥&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸‹é¢è¦ä»‹ç»çš„æ’å…¥å’Œåˆ é™¤æ“ä½œæ¶‰åŠå·¦æ—‹å’Œå³æ—‹æ¦‚å¿µï¼Œéœ€è¦å…ˆä¿è¯äº†è§£è¿™ä¸¤ä¸ªåŸºæœ¬æ“ä½œã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;æ’å…¥å’Œåˆ é™¤æ“ä½œæ¨èç”¨è¿™ä¸ªæ•°æ®ç»“æ„åŠ¨ç”»æ¼”ç¤ºç½‘ç«™æ­é…é£Ÿç”¨ï¼š&lt;a class=&#34;link&#34; href=&#34;https://www.cs.usfca.edu/~galles/visualization/RedBlack.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.cs.usfca.edu/~galles/visualization/RedBlack.html&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;æ€»ç»“è¡¨æ ¼&#34;&gt;æ€»ç»“è¡¨æ ¼&lt;/h3&gt;
&lt;p&gt;æ’å…¥æ“ä½œçš„è¯ç›¸å¯¹åˆ é™¤è¿˜æ˜¯è¦ç®€å•ä¸€ç‚¹çš„ï¼Œä½†æ˜¯è¿˜æ˜¯åˆ†å‡ºäº†å‡ ç§æƒ…å†µï¼Œè¿™é‡Œå°±ç”¨bç«™up &lt;em&gt;free-coder&lt;/em&gt;æ€»ç»“çš„è¡¨æ ¼ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291624593.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291624593.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;å”èŠ‚ç‚¹&lt;/code&gt;ï¼šçˆ¶èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ç¥–çˆ¶èŠ‚ç‚¹&lt;/code&gt;ï¼šçˆ¶èŠ‚ç‚¹å’Œå”èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯çˆ·çˆ·èŠ‚ç‚¹&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¸ºäº†å°½å¯èƒ½ä¸å»ç ´ç¯å¹³è¡¡ï¼Œæˆ‘ä»¬æ’å…¥çš„æ–°èŠ‚ç‚¹éƒ½æ˜¯é»˜è®¤ä¸ºçº¢è‰²çš„ï¼Œæ’å…¥åå†æ£€æŸ¥æ˜¯å¦ç ´åäº†çº¢é»‘æ ‘çš„å®šä¹‰ï¼Œå¦‚æœç ´åäº†æˆ‘ä»¬å†å»è¿›è¡Œè°ƒæ•´ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;å…·ä½“è§£æ&#34;&gt;å…·ä½“è§£æ&lt;/h3&gt;
&lt;p&gt;è¡¨æ ¼ä¸­ä¸€å…±æœ‰6ç§æƒ…å†µï¼Œç”±äºå…¶ä¸­æœ‰ä¸¤ç»„æ˜¯é•œåƒçš„ï¼Œæ‰€ä»¥ä¸‹é¢å½’çº³ä¸º4ä¸­æƒ…å†µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;æƒ…å†µ1&lt;/code&gt;ï¼š&lt;strong&gt;çˆ¶èŠ‚ç‚¹&lt;/strong&gt;æ˜¯é»‘èŠ‚ç‚¹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç”±äºçˆ¶èŠ‚ç‚¹æ˜¯é»‘èŠ‚ç‚¹ï¼Œæ’å…¥çš„æ–°èŠ‚ç‚¹å°±ä¸€å®šæ˜¯çº¢èŠ‚ç‚¹ï¼ˆå› ä¸ºä¸èƒ½æœ‰è¿ç»­çš„çº¢èŠ‚ç‚¹ï¼‰ï¼Œè€Œçº¢èŠ‚ç‚¹ä¸å½±å“çº¢é»‘æ ‘çš„å¹³è¡¡ï¼Œæ‰€ä»¥ä¹Ÿæ— éœ€ä»»ä½•è°ƒæ•´æ“ä½œäº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291631517.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291631517.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å¦‚å›¾ï¼Œçˆ¶èŠ‚ç‚¹æ˜¯æ ¹èŠ‚ç‚¹ä¹Ÿå°±æ˜¯é»‘çš„ï¼Œå€¼ä¸º1ï¼Œæ’å…¥äº†ä¸€ä¸ª2ä¸ºçº¢èŠ‚ç‚¹ï¼Œæ‰€ä»¥æ— éœ€ä»»ä½•æ“ä½œã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;æƒ…å†µ2&lt;/code&gt;ï¼šçˆ¶èŠ‚ç‚¹æ˜¯çº¢èŠ‚ç‚¹ï¼Œ&lt;strong&gt;å”èŠ‚ç‚¹&lt;/strong&gt;æ˜¯é»‘èŠ‚ç‚¹ï¼ˆâ€œå·¦å·¦â€å’Œâ€œå³å³â€ç±»å‹ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åœ¨&lt;code&gt;æƒ…å†µ1&lt;/code&gt;çš„åŸºç¡€ä¸Šæˆ‘ä»¬æ’å…¥ä¸€ä¸ª3&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291639443.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291639443.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°æ­¤æ—¶3çš„çˆ¶èŠ‚ç‚¹2æ˜¯çº¢ï¼Œå”èŠ‚ç‚¹nilèŠ‚ç‚¹æ˜¯é»‘çš„ï¼Œæˆ‘ä»¬å…ˆè¿›è¡Œä¸€ä¸ª&lt;code&gt;å·¦æ—‹&lt;/code&gt;ï¼Œå‘ç°å‡ºç°è¿ç»­çš„çº¢è‰²ï¼Œæ‰€ä»¥å†è¿›è¡Œä¸€ä¸ªå˜è‰²å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œ2å’Œ3èŠ‚ç‚¹éƒ½æ˜¯å®ƒä»¬å„è‡ªçˆ¶èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯å¯¹åº”ä¸Šé¢è¡¨æ ¼ä¸­ç±»å‹çš„â€œå³å³â€ï¼Œä½†å…¶å®â€œå·¦å·¦â€åªæ˜¯é•œåƒäº†ä¸€ä¸‹ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;æƒ…å†µ3&lt;/code&gt;ï¼šçˆ¶èŠ‚ç‚¹å’Œå”èŠ‚ç‚¹éƒ½æ˜¯çº¢&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æˆ‘ä»¬åœ¨&lt;code&gt;æƒ…å†µ2&lt;/code&gt; çš„åŸºç¡€ä¸Šå†æ’å…¥ä¸€ä¸ª4&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291657419.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291657419.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æ’å…¥4åçˆ¶äº²èŠ‚ç‚¹3å’Œå”èŠ‚ç‚¹1éƒ½æ˜¯çº¢çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠçˆ¶å”éƒ½å˜é»‘ï¼Œç¥–çˆ¶å˜çº¢ï¼Œç„¶åç¥–çˆ¶å˜ä¸ºå½“å‰èŠ‚ç‚¹ï¼Œå‘ä¸Šé€’å½’è¿™ä¸ªé€»è¾‘ç›´åˆ°æ ¹èŠ‚ç‚¹ï¼Œç”±äºæ ¹èŠ‚ç‚¹ä¸€å®šæ˜¯é»‘çš„æ‰€ä»¥å°±æŠŠèŠ‚ç‚¹2å˜é»‘å³å¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;æƒ…å†µ4&lt;/code&gt;ï¼šçˆ¶èŠ‚ç‚¹æ˜¯çº¢èŠ‚ç‚¹ï¼Œ&lt;strong&gt;å”èŠ‚ç‚¹&lt;/strong&gt;æ˜¯é»‘èŠ‚ç‚¹ï¼ˆâ€œå·¦å³â€å’Œâ€œå³å·¦â€ç±»å‹ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291708679.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291708679.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæ’å…¥çš„æ˜¯11ï¼Œæˆ‘ä»¬å‘ç°æ’å…¥11åï¼ŒèŠ‚ç‚¹10ã€12ã€11å½¢æˆäº†ä¸€ä¸ªâ€œå³å·¦â€ç±»å‹ï¼Œå½¢çŠ¶ä¸Šå°±æ˜¯ä¸€ä¸ªæŠ˜äº†ä¸€ä¸‹çš„ç±»ä¼¼ä¸‰è§’çš„æ„Ÿè§‰ï¼Œè¿™æ—¶æˆ‘ä»¬åªéœ€è¦&lt;code&gt;å³æ—‹&lt;/code&gt;ä¸€ä¸‹ï¼Œè¯¶å°±è½¬ä¸ºâ€œå³å³â€ç±»å‹äº†ï¼Œç„¶åå†æŒ‰â€œå³å³â€ç±»å‹å»&lt;code&gt;å·¦æ—‹+å˜è‰²&lt;/code&gt;å°±å¯ä»¥è°ƒæ•´å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;åŒæ ·çš„ï¼Œâ€œå·¦å³â€ç±»å‹å’Œâ€œå³å·¦â€ç±»å‹æ˜¯é•œåƒï¼Œè¿™é‡Œä¹Ÿä¸å†èµ˜è¿°ã€‚&lt;/p&gt;
&lt;h2 id=&#34;çº¢é»‘æ ‘çš„åˆ é™¤&#34;&gt;çº¢é»‘æ ‘çš„åˆ é™¤&lt;/h2&gt;
&lt;p&gt;åˆ é™¤æ“ä½œæ˜¯çº¢é»‘æ ‘ä¸­æœ€éš¾ã€æƒ…å†µæœ€å¤šçš„æ“ä½œã€‚çº¢é»‘æ ‘çš„å…¶ä»–æ–¹é¢æˆ‘æ„Ÿè§‰è¿˜è¡Œï¼Œå°±æ˜¯åˆ é™¤æ“ä½œæˆ‘æ„Ÿè§‰æ‰æ˜¯çº¢é»‘æ ‘éš¾çš„ç²¾é«“ä¹‹å¤„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é€šè¿‡æ›¿æ¢æ¥åˆ é™¤&#34;&gt;é€šè¿‡æ›¿æ¢æ¥åˆ é™¤&lt;/h3&gt;
&lt;p&gt;åˆ é™¤å’Œæ’å…¥ä¸€æ ·ï¼Œéƒ½å¯èƒ½ä¼šç ´åçº¢é»‘æ ‘åŸæœ¬çš„æ€§è´¨ï¼Œæ‰€ä»¥åœ¨åˆ é™¤åæˆ‘ä»¬æ˜¯éœ€è¦åšä¸€äº›è°ƒæ•´æ‰è®©æ ‘ç»´æŒçº¢é»‘æ ‘çš„æ€§è´¨ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆä»æˆ‘ä»¬ç›´è§‰ä¸Šæ¥çœ‹ï¼Œå¦‚æœåˆ é™¤çš„èŠ‚ç‚¹ä½äºå¶å­èŠ‚ç‚¹å¤„ï¼Œæˆ–è€…ç›¸å¯¹æ¥è¯´ä½ç½®æ¯”è¾ƒä½ï¼Œé‚£åˆ é™¤èŠ‚ç‚¹ååº”è¯¥å¯¹æ•´æ£µæ ‘çš„å½±å“ä¼šæ¯”è¾ƒå°ï¼Œæ‰€éœ€åšçš„è°ƒæ•´åº”è¯¥ä¹Ÿç®€å•å¾ˆå¤šç”šè‡³ä¸ç”¨è°ƒæ•´ã€‚ä½†æ˜¯å¦‚æœè¢«åˆ é™¤çš„èŠ‚ç‚¹ä½äºæ ‘çš„ç›¸å¯¹ä¸­é—´çš„ä½ç½®ï¼Œè€Œä¸”è¿™ä¸ªèŠ‚ç‚¹è¿˜æœ‰å·¦å³å­æ ‘ï¼Œé‚£è¦åšçš„è°ƒæ•´ç›¸å¯¹æ¥è¯´å°±ä¼šå¤šä¸€ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸€èˆ¬é‡‡ç”¨ä¸€ç§æ–¹æ³•ï¼Œå°±æ˜¯é€šè¿‡æ›¿æ¢å»åˆ é™¤ï¼Œå…·ä½“æ¥è¯´å°±æ˜¯æ‰¾åˆ°è¢«åˆ é™¤èŠ‚ç‚¹çš„å·¦é‚»èŠ‚ç‚¹æˆ–è€…å³é‚»èŠ‚ç‚¹ï¼Œç„¶åæŠŠå·¦é‚»æˆ–å³é‚»èŠ‚ç‚¹æ”¾åˆ°è¢«åˆ é™¤èŠ‚ç‚¹è¿›è¡Œè¦†ç›–ï¼Œç„¶åæŠŠå·¦é‚»å³é‚»èŠ‚ç‚¹åŸæ¥ä½ç½®ä¸Šçš„èŠ‚ç‚¹è¿›è¡Œåˆ é™¤ã€‚&lt;/p&gt;
&lt;p&gt;å·¦é‚»å’Œå³é‚»æ˜¯æˆ‘è‡ªå·±å«çš„åå­—ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨è¿™æ£µæœç´¢æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ä¸­ï¼Œæ’åºåˆšå¥½æ¯”è¢«åˆ é™¤èŠ‚ç‚¹å°ä¸€ä½å’Œå¤§ä¸€ä½çš„èŠ‚ç‚¹ï¼Œå…·ä½“åœ¨ä½ç½®ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;å·¦é‚»èŠ‚ç‚¹&lt;/code&gt;ï¼šæœ¬èŠ‚ç‚¹å·¦å­æ ‘ä¸­çš„æœ€å¤§èŠ‚ç‚¹ï¼Œå³å·¦å­æ ‘ä¸­æœ€å³çš„èŠ‚ç‚¹&lt;/p&gt;
&lt;p&gt;&lt;code&gt;å³é‚»èŠ‚ç‚¹&lt;/code&gt;ï¼šæœ¬èŠ‚ç‚¹å³å­æ ‘ä¸­çš„æœ€å°èŠ‚ç‚¹ï¼Œå³å³å­æ ‘ä¸­æœ€å·¦çš„èŠ‚ç‚¹&lt;/p&gt;
&lt;p&gt;ç¤ºä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291640069.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291640069.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å¦‚å›¾ï¼ŒDæ˜¯è¢«åˆ é™¤èŠ‚ç‚¹ï¼ŒRæ˜¯å…¶å³é‚»èŠ‚ç‚¹ï¼Œæˆ‘ä»¬ç”¨Rè¦†ç›–äº†Dï¼Œç„¶åæŠŠRåŸæ¥ä½ç½®åˆ é™¤ï¼Œå°±å®Œæˆäº†è¿™ä¸ªè¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åæˆ‘ä»¬å°†åˆ é™¤åˆ†ä¸ºä¸‰ç§æƒ…å†µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æƒ…å†µä¸€ï¼šè¢«åˆ é™¤èŠ‚ç‚¹æ— å­èŠ‚ç‚¹ï¼Œ ç›´æ¥åˆ é™¤&lt;/li&gt;
&lt;li&gt;æƒ…å†µäºŒï¼šè¢«åˆ é™¤èŠ‚ç‚¹åªæœ‰ä¸€ä¸ªå­èŠ‚ç‚¹ï¼Œç”¨å­èŠ‚ç‚¹æ›¿æ¢è¦è¢«åˆ é™¤çš„èŠ‚ç‚¹&lt;/li&gt;
&lt;li&gt;æƒ…å†µä¸‰ï¼šè¢«åˆ é™¤èŠ‚ç‚¹æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œå¯ä»¥ç”¨å·¦é‚»èŠ‚ç‚¹æˆ–è€…å³é‚»èŠ‚ç‚¹è¿›è¡Œæ›¿æ¢åˆ é™¤æ“ä½œ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€ä»¥å®é™…ä¸Šä¸‰ç§æƒ…å†µéƒ½å¯ä»¥æ¦‚æ‹¬ä¸ºè¿™æ ·ä¸€ä¸ªè¿‡ç¨‹ï¼šæ‰¾åˆ°ä¸€ä¸ªç”¨æ¥æ›¿æ¢çš„èŠ‚ç‚¹ï¼Œè¦†ç›–è¦è¢«åˆ é™¤çš„èŠ‚ç‚¹ï¼Œæœ€åå†åˆ é™¤ç”¨äºæ›¿æ¢çš„èŠ‚ç‚¹åŸæœ¬æ‰€åœ¨çš„èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;p&gt;å…·ä½“åˆ°çº¢é»‘æ ‘ï¼Œå¯ä»¥åˆ†ä¸ºä¸‰å¤§åœºæ™¯ï¼Œ9ç§å°æƒ…å†µï¼Œå…¶ä¸­åœºæ™¯äºŒå’Œä¸‰äº’ä¸ºé•œåƒï¼Œå¯ä»¥ç»“åˆåœ¨ä¸€èµ·çœ‹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åˆ é™¤åœºæ™¯ä¸€&#34;&gt;åˆ é™¤åœºæ™¯ä¸€&lt;/h3&gt;
&lt;p&gt;åˆ é™¤åœºæ™¯ä¸€ï¼šæ›¿æ¢èŠ‚ç‚¹æ˜¯çº¢èŠ‚ç‚¹&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291428614.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291428614.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æ›¿æ¢èŠ‚ç‚¹å¦‚æœæ˜¯çº¢èŠ‚ç‚¹ï¼Œåˆ é™¤ä¹‹åä¸å½±å“çº¢é»‘æ ‘çš„å¹³è¡¡ï¼Œåªéœ€è¦æŠŠè®©æ›¿æ¢èŠ‚ç‚¹è¦†ç›–åæŠŠé¢œè‰²è®¾ç½®ä¸ºè¢«åˆ é™¤èŠ‚ç‚¹åŸæ¥çš„é¢œè‰²å³å¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åˆ é™¤åœºæ™¯äºŒ&#34;&gt;åˆ é™¤åœºæ™¯äºŒ&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;åˆ é™¤åœºæ™¯äºŒï¼š&lt;strong&gt;æ›¿æ¢èŠ‚ç‚¹&lt;/strong&gt;æ˜¯é»‘è‰²èŠ‚ç‚¹ï¼Œè€Œä¸”æ­¤æ›¿æ¢èŠ‚ç‚¹æ˜¯å®ƒçˆ¶èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç”±äºæ›¿æ¢èŠ‚ç‚¹æ˜¯é»‘è‰²èŠ‚ç‚¹ï¼Œåˆ é™¤ååŠ¿å¿…ä¼šç ´åçº¢é»‘æ ‘çš„é»‘è‰²å¹³è¡¡ï¼Œæ‰€ä»¥è¦è¿›è¡Œè°ƒæ•´ï¼Œè¿™é‡Œåˆåˆ†å‡ºå››ç§å°æƒ…å†µã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;æƒ…å†µ2.1&lt;/code&gt;ï¼š&lt;strong&gt;æ›¿æ¢èŠ‚ç‚¹&lt;/strong&gt;çš„å…„å¼ŸèŠ‚ç‚¹æ˜¯çº¢èŠ‚ç‚¹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åˆ é™¤æ›¿æ¢èŠ‚ç‚¹ï¼ˆé»‘ï¼‰åï¼Œå·¦å­æ ‘çš„é»‘è‰²èŠ‚ç‚¹ä¼šå‡å°‘ä¸€ä¸ªï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è¿›è¡Œçš„æ“ä½œæ˜¯ç”¨æ›¿æ¢èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹æ¥è¡¥å……ä¸€ä¸‹å·¦å­æ ‘çš„é»‘èŠ‚ç‚¹æ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291435107.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291435107.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;å…·ä½“æ“ä½œ&lt;/code&gt;ï¼šå°†æ›¿æ¢èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹Pè®¾ä¸ºçº¢è‰²ï¼Œ&lt;strong&gt;å…„å¼ŸèŠ‚ç‚¹&lt;/strong&gt;Sè®¾ç½®ä¸ºé»‘è‰²ï¼Œç„¶åå¯¹èŠ‚ç‚¹P&lt;code&gt;å·¦æ—‹&lt;/code&gt;æ“ä½œï¼Œè½¬æ¢ä¸º&lt;code&gt;æƒ…å†µ2.4&lt;/code&gt; ï¼Œæ¥ä¸‹æ¥å°±ç”¨&lt;code&gt;æƒ…å†µ2.4&lt;/code&gt; çš„æ“ä½œç»§ç»­è¿›è¡Œã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„åœºæ™¯äºŒã€ä¸‰çš„å›¾ä¾‹éƒ½æ˜¯è¿˜æ²¡è¿›è¡Œè¦†ç›–å’Œåˆ é™¤çš„æ—¶å€™çš„Rï¼Œåªæ˜¯æ ¹æ®å…¶ä½ç½®å’Œå‘¨è¾¹èŠ‚ç‚¹çš„ç‰¹ç‚¹æ¥è®¨è®ºå’Œæ¨æ–­å®ƒè¢«åˆ é™¤åçº¢é»‘æ ‘å¹³è¡¡è¢«ç ´åçš„çŠ¶æ€ä»¥åŠä¹‹åè¦é‡‡å–çš„è‡ªå¹³è¡¡æ“ä½œã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;æƒ…å†µ2.2&lt;/code&gt;ï¼šæ›¿æ¢èŠ‚ç‚¹çš„&lt;strong&gt;å…„å¼ŸèŠ‚ç‚¹&lt;/strong&gt;æ˜¯é»‘è‰²ï¼ŒåŒæ—¶å…„å¼ŸèŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹æ˜¯çº¢è‰²çš„ï¼Œå·¦å­èŠ‚ç‚¹ä»»æ„é¢œè‰²&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™ç§æƒ…å†µåŒæ ·è¦å€ŸåŠ©å…„å¼ŸèŠ‚ç‚¹æ¥è¡¥å……å·¦å­æ ‘çš„é»‘èŠ‚ç‚¹æ•°ï¼Œè¾¾åˆ°å¹³è¡¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291453087.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291453087.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;æ³¨æ„å›¾ä¸­çš„ç°è‰²èŠ‚ç‚¹è¡¨ç¤ºå¯ä»¥ä¸ºä»»æ„é¢œè‰²&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;å…·ä½“æ“ä½œ&lt;/code&gt;ï¼šå°†æ›¿æ¢èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹Sè®¾ç½®ä¸ºçˆ¶èŠ‚ç‚¹çš„é¢œè‰²ï¼Œ&lt;strong&gt;å…„å¼ŸèŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹&lt;/strong&gt;SRè®¾ç½®ä¸ºé»‘è‰²ï¼Œ&lt;strong&gt;çˆ¶èŠ‚ç‚¹&lt;/strong&gt;Pè®¾ç½®ä¸ºé»‘è‰²ï¼Œç„¶åå¯¹Pè¿›è¡Œ&lt;code&gt;å·¦æ—‹&lt;/code&gt;æ“ä½œã€‚æ­¤æ—¶å‘ç°åŒæ ·ä¹Ÿæ˜¯ç»™å·¦å­æ ‘è¡¥äº†ä¸€ä¸ªé»‘èŠ‚ç‚¹åŒæ—¶å³å­æ ‘é»‘èŠ‚ç‚¹æ•°ä¸å˜ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;æƒ…å†µ2.3&lt;/code&gt;ï¼šæ›¿æ¢èŠ‚ç‚¹çš„&lt;strong&gt;å…„å¼ŸèŠ‚ç‚¹&lt;/strong&gt;æ˜¯é»‘è‰²ï¼Œä¸”å…„å¼ŸèŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹æ˜¯çº¢è‰²ï¼Œ&lt;strong&gt;å³å­èŠ‚ç‚¹&lt;/strong&gt;æ˜¯é»‘è‰²&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291534907.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291534907.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;å…·ä½“æ“ä½œ&lt;/code&gt; ï¼šå°†å…„å¼ŸèŠ‚ç‚¹Sè®¾ç½®ä¸ºçº¢è‰²ï¼Œå…„å¼ŸèŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹SLè®¾ç½®ä¸ºé»‘è‰²ï¼Œå†å¯¹èŠ‚ç‚¹Sè¿›è¡Œ&lt;code&gt;å³æ—‹&lt;/code&gt;ï¼Œè¿™æ—¶å€™å°±è½¬æ¢ä¸º&lt;code&gt;æƒ…å†µ2.2&lt;/code&gt;äº†ï¼ŒæŒ‰2.2çš„æ­¥éª¤ç»§ç»­æ“ä½œå³å¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;æƒ…å†µ2.4&lt;/code&gt;ï¼šæ›¿æ¢èŠ‚ç‚¹çš„&lt;strong&gt;å…„å¼ŸèŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹&lt;/strong&gt;éƒ½æ˜¯é»‘è‰²&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291534976.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291534976.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;å…·ä½“æ“ä½œ&lt;/code&gt; ï¼šæŠŠæ›¿æ¢èŠ‚ç‚¹å½“ä½œå½“å‰èŠ‚ç‚¹ï¼Œå½“å‰èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹Sè®¾ä¸ºçº¢è‰²ï¼Œç„¶åæŠŠçˆ¶èŠ‚ç‚¹På½“ä½œå½“å‰èŠ‚ç‚¹ï¼ˆç›¸å½“äºå‘ä¸Šç§»åŠ¨å½“å‰èŠ‚ç‚¹çš„æŒ‡é’ˆï¼‰ï¼Œç„¶åè‡ªåº•å‘ä¸Šé€’å½’å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°ï¼Œå±€éƒ¨ä¸Šå°±æŠŠå³å­æ ‘çš„é»‘èŠ‚ç‚¹æ•°å‡å°‘äº†1ï¼Œè¾¾åˆ°å¹³è¡¡ï¼Œå¯æ˜¯æŠŠSå˜ä¸ºçº¢è‰²ä¹‹åæœ‰å¯èƒ½ç ´åçº¢é»‘æ ‘ä¸èƒ½æœ‰è¿ç»­çš„çº¢èŠ‚ç‚¹çš„è§„åˆ™ï¼Œæ‰€ä»¥è¿˜éœ€è¦é€’å½’å‘ä¸Šå¤„ç†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åˆ é™¤åœºæ™¯ä¸‰&#34;&gt;åˆ é™¤åœºæ™¯ä¸‰&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;åˆ é™¤åœºæ™¯ä¸‰ï¼š&lt;strong&gt;æ›¿æ¢èŠ‚ç‚¹&lt;/strong&gt;æ˜¯é»‘è‰²èŠ‚ç‚¹ï¼Œè€Œä¸”æ­¤æ›¿æ¢èŠ‚ç‚¹æ˜¯å®ƒçˆ¶èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åœºæ™¯ä¸‰å°±æ˜¯åœºæ™¯äºŒçš„é•œåƒäº†ï¼Œæ‰€ä»¥åœºæ™¯äºŒæ˜¯å·¦å­æ ‘å°‘äº†ä¸€ä¸ªé»‘èŠ‚ç‚¹æ•°éœ€è¦è¡¥ï¼Œåœºæ™¯ä¸‰æ˜¯å³å­æ ‘å°‘äº†ä¸€ä¸ªé»‘èŠ‚ç‚¹æ•°éœ€è¦è¡¥ã€‚çœ‹åœºæ™¯ä¸‰å»ºè®®ç»“åˆåœºæ™¯äºŒä¸€èµ·çœ‹ï¼Œè¿™ä¸€éƒ¨åˆ†å°±ç›¸å¯¹å†™å¾—ç®€ç•¥ä¸€ç‚¹äº†ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;æƒ…å†µ3.1&lt;/code&gt;ï¼šæ›¿æ¢èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹æ˜¯çº¢èŠ‚ç‚¹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291603196.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291603196.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;å…·ä½“æ“ä½œ&lt;/code&gt;ï¼šå°†æ›¿æ¢èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹Pè®¾ç½®çº¢è‰²ï¼Œå°†&lt;strong&gt;å…„å¼ŸèŠ‚ç‚¹&lt;/strong&gt;Sè®¾ç½®æˆé»‘è‰²ï¼Œå†å¯¹èŠ‚ç‚¹P&lt;code&gt;å³æ—‹&lt;/code&gt;æ“ä½œï¼Œè½¬æ¢ä¸º&lt;code&gt;æƒ…å†µ3.4&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;æƒ…å†µ3.2&lt;/code&gt; ï¼š&lt;strong&gt;æ›¿æ¢èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹&lt;/strong&gt;æ˜¯é»‘è‰²ï¼Œä¸”å…„å¼ŸèŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹æ˜¯çº¢è‰²ã€å³å­èŠ‚ç‚¹æ˜¯ä»»æ„é¢œè‰²&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291604315.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291604315.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;å…·ä½“æ“ä½œ&lt;/code&gt;ï¼šæ›¿æ¢èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹Sè®¾ç½®æˆçˆ¶èŠ‚ç‚¹Pçš„é¢œè‰²ï¼Œ&lt;strong&gt;å…„å¼ŸèŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹&lt;/strong&gt;SLè®¾ç½®ä¸ºé»‘è‰²ï¼Œ&lt;strong&gt;çˆ¶èŠ‚ç‚¹&lt;/strong&gt;Pè®¾ç½®ä¸ºé»‘è‰²ï¼Œå†å¯¹èŠ‚ç‚¹P&lt;code&gt;å³æ—‹&lt;/code&gt;æ“ä½œã€‚&lt;/p&gt;
&lt;p&gt;ç›¸å½“äºç»™å³å­æ ‘è¡¥å……äº†ä¸€ä¸ªé»‘èŠ‚ç‚¹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;æƒ…å†µ3.3&lt;/code&gt; ï¼š&lt;strong&gt;æ›¿æ¢èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹&lt;/strong&gt;æ˜¯é»‘è‰²ä¸”å…„å¼ŸèŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹æ˜¯çº¢è‰²ã€&lt;strong&gt;å·¦å­èŠ‚ç‚¹&lt;/strong&gt;ä¸ºé»‘è‰²&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291604861.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291604861.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;å…·ä½“æ“ä½œ&lt;/code&gt;ï¼šæ›¿æ¢èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹Sè®¾ç½®æˆçº¢è‰²ï¼Œ&lt;strong&gt;å…„å¼ŸèŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹&lt;/strong&gt;SLè®¾ç½®ä¸ºé»‘è‰²ï¼Œå†å¯¹èŠ‚ç‚¹S&lt;code&gt;å·¦æ—‹&lt;/code&gt;æ“ä½œï¼Œè½¬æ¢åˆ°äº†&lt;code&gt;æƒ…å†µ3.2&lt;/code&gt;ï¼Œå†è¿›è¡Œ&lt;code&gt;æƒ…å†µ3.2&lt;/code&gt;çš„æ“ä½œã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;æƒ…å†µ3.4&lt;/code&gt;ï¼šæ›¿æ¢èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291605007.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112291605007.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;å…·ä½“æ“ä½œ&lt;/code&gt;ï¼šæŠŠæ›¿æ¢èŠ‚ç‚¹å½“ä½œå½“å‰èŠ‚ç‚¹ï¼Œå½“å‰èŠ‚ç‚¹çš„å…„å¼ŸèŠ‚ç‚¹Sè®¾ä¸ºçº¢è‰²ï¼Œç„¶åæŠŠçˆ¶èŠ‚ç‚¹På½“ä½œå½“å‰èŠ‚ç‚¹ï¼ˆç›¸å½“äºå‘ä¸Šç§»åŠ¨å½“å‰èŠ‚ç‚¹çš„æŒ‡é’ˆï¼‰ï¼Œç„¶åè‡ªåº•å‘ä¸Šé€’å½’å¤„ç†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å†™åœ¨æœ€å&#34;&gt;å†™åœ¨æœ€å&lt;/h2&gt;
&lt;p&gt;ç»è¿‡ä¸€å¤©å¤šé«˜å¼ºåº¦çœ‹æ–‡ç« ä»¥åŠè§†é¢‘ï¼Œç®—æ˜¯å­¦å¾—ä¸ƒä¸ƒå…«å…«äº†ã€‚è™½ç„¶é¢è¯•ä¸å¤ªä¼šç»å¸¸é—®åˆ°çº¢é»‘æ ‘è€Œä¸”å°½ç®¡é—®åˆ°ä¸€èˆ¬ä¹Ÿä¸ä¼šæ·±å…¥åˆ°å…·ä½“çš„æ’å…¥å’Œåˆ é™¤è¿‡ç¨‹ï¼Œæœ€å¤šæ€§è´¨å’Œæ„ä¹‰å°±å¾—äº†ï¼Œæ‰€ä»¥å¾ˆå¤šäººéƒ½è¯´å¦‚æœé¢è¯•å®˜è®©ä½ æ‰‹å†™çº¢é»‘æ ‘é‚£è¯æ˜ä»–ä¸æƒ³è¦ä½ ï¼Œä½ å°±å¯ä»¥ç›´æ¥å‘Šè¾äº†ğŸ˜‚Â ã€‚ä½†æ˜¯æˆ‘è§‰å¾—åœ¨å®é™…å·¥ç¨‹ä¸­ä½¿ç”¨è¿™ä¹ˆå¹¿æ³›çš„æ•°æ®ç»“æ„ä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜è¿˜æ˜¯è¦å¥½å¥½å­¦ä¸€ä¸‹çš„ï¼Œæ‰€ä»¥æ‰è‚å‡ºäº†è¿™ç¯‡æ–‡ç« ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥å¾ˆå¤šæ—¶å€™ä¸ºäº†åŠŸåˆ©å¾ˆå¤šçŸ¥è¯†çš„å­¦ä¹ åªæ˜¯ä¸ºäº†åº”å¯¹é¢è¯•ï¼Œå°±æ¯”å¦‚å…«è‚¡æ–‡çš„å­¦ä¹ ï¼Œä½†æ˜¯ä½œä¸ºä¸€ä¸ªç¨‹åºå‘˜è¿™æ ·çš„èº«ä»½ï¼Œè¿˜æ˜¯è¦æœ‰é‚£è‚¡æˆ‘ä»¬ä¸€ç›´ä»¥æ¥æœ€å´‡å°šçš„æ±‚çŸ¥æ¬²ï¼Œå°½ç®¡æ˜¯å…«è‚¡æ–‡çš„å­¦ä¹ ï¼Œä¹Ÿè¦å­¦å¾—æ˜ç™½ã€å­¦å¾—é€å½»æ‰è¡Œã€‚&lt;/p&gt;
&lt;h2 id=&#34;å‚è€ƒ&#34;&gt;å‚è€ƒ&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.bilibili.com/video/BV1Pp4y1D7u1&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ã€æ•°æ®ç»“æ„ã€‘çº¢ é»‘ æ ‘_å“”å“©å“”å“©_bilibili&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://segmentfault.com/a/1190000022278733&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;é€šä¿—æ˜“æ‡‚çš„çº¢é»‘æ ‘å›¾è§£(ä¸‹)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/iamshuaidi/algo-basic/blob/master/%E5%AD%A6%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/%E8%85%BE%E8%AE%AF%E9%9D%A2%E8%AF%95%E9%A2%98%EF%BC%9A%E6%9C%89%E4%BA%86%E4%BA%8C%E5%8F%89%E6%9F%A5%E6%89%BE%E6%A0%91%EF%BC%8C%E5%B9%B3%E8%A1%A1%E6%A0%91%E4%B8%BA%E5%95%A5%E8%BF%98%E9%9C%80%E8%A6%81%E7%BA%A2%E9%BB%91%E6%A0%91%EF%BC%9F.md&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;algo-basic/è…¾è®¯é¢è¯•é¢˜ï¼šæœ‰äº†äºŒå‰æŸ¥æ‰¾æ ‘ï¼Œå¹³è¡¡æ ‘ä¸ºå•¥è¿˜éœ€è¦çº¢é»‘æ ‘ï¼Ÿ.md at master Â· iamshuaidi/algo-basic&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[å¹¶å‘ç¼–ç¨‹]volatileç¯‡</title>
        <link>https://ccqstark.github.io/p/concurrent_volatile/</link>
        <pubDate>Sun, 12 Dec 2021 22:38:19 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/concurrent_volatile/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/concurrent_volatile/cover.png" alt="Featured image of post [å¹¶å‘ç¼–ç¨‹]volatileç¯‡" /&gt;&lt;h2 id=&#34;volatileç®€ä»‹&#34;&gt;volatileç®€ä»‹&lt;/h2&gt;
&lt;p&gt;synchronizedåœ¨é”ç«äº‰æ¿€çƒˆçš„æƒ…å†µä¸‹ä¼šå‡çº§ä¸ºé‡é‡çº§é”ï¼Œè€Œvolatileæ˜¯Javaè™šæ‹Ÿæœºæä¾›çš„å¦ä¸€ç§è½»é‡çš„åŒæ­¥æœºåˆ¶ã€‚å®ƒä¼šå°†å…±äº«å˜é‡ä»ä¸»å†…å­˜ä¸­æ‹·è´åˆ°çº¿ç¨‹è‡ªå·±çš„å·¥ä½œå†…å­˜ä¸­ï¼Œç„¶ååŸºäºå·¥ä½œå†…å­˜ä¸­çš„æ•°æ®è¿›è¡Œæ“ä½œå¤„ç†ã€‚è€Œè¢«volatileä¿®é¥°çš„å˜é‡ç»è¿‡Javaè™šæ‹Ÿæœºçš„ç‰¹æ®Šçº¦å®šï¼Œ&lt;strong&gt;ä½¿ä¸€ä¸ªçº¿ç¨‹å¯¹å…¶çš„ä¿®æ”¹ä¼šç«‹åˆ»è¢«å…¶ä»–çº¿ç¨‹æ‰€æ„ŸçŸ¥&lt;/strong&gt;ï¼Œå°±ä¸ä¼šå‡ºç°è„è¯»çš„ç°è±¡ï¼Œä»è€Œä¿è¯æ•°æ®çš„â€œå¯è§æ€§â€ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç›¸å…³æ¦‚å¿µ&#34;&gt;ç›¸å…³æ¦‚å¿µ&lt;/h2&gt;
&lt;h3 id=&#34;å†…å­˜å¯è§æ€§&#34;&gt;å†…å­˜å¯è§æ€§&lt;/h3&gt;
&lt;p&gt;ç”±äºJMMï¼ˆJavaå†…å­˜æ¨¡å‹ï¼‰æ˜¯è®©çº¿ç¨‹åœ¨å·¥ä½œæ—¶æŠŠå…±äº«å˜é‡çš„å‰¯æœ¬æ‹·è´åˆ°çº¿ç¨‹çš„æœ¬åœ°å†…å­˜ï¼Œè€Œä¸æ˜¯ç›´æ¥åœ¨ä¸»å­˜ä¸­è¿›è¡Œè¯»å†™ã€‚è¿™å°±å¯èƒ½é€ æˆä¸€ä¸ªçº¿ç¨‹åœ¨ä¸»å­˜ä¸­ä¿®æ”¹äº†ä¸€ä¸ªå˜é‡çš„å€¼ï¼Œè€Œå¦å¤–ä¸€ä¸ªçº¿ç¨‹è¿˜ç»§ç»­ä½¿ç”¨å®ƒè‡ªå·±çš„æ‹·è´å‰¯æœ¬å€¼ï¼Œé€ æˆ&lt;strong&gt;æ•°æ®çš„ä¸ä¸€è‡´&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112121929753.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112121929753.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;å†…å­˜å¯è§æ€§&lt;/code&gt;ï¼ŒæŒ‡çš„æ˜¯çº¿ç¨‹ä¹‹é—´çš„å¯è§æ€§ï¼Œå½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†å…±äº«å˜é‡æ—¶ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹å¯ä»¥è¯»å–åˆ°è¿™ä¸ªä¿®æ”¹åçš„å€¼ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é‡æ’åº&#34;&gt;é‡æ’åº&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†ä¼˜åŒ–ç¨‹åºçš„æ€§èƒ½ï¼Œå¯¹åŸæœ‰çš„æŒ‡ä»¤é¡ºåºè¿›è¡Œé‡æ–°æ’åºã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨æŒ‡ä»¤å±‚é¢ï¼Œæ‰§è¡Œä¸ä¸€å®šæ˜¯æŒ‰åŸæœ¬é¡ºåºä¸€æ¡æ¡æ‰§è¡Œçš„ã€‚é‡æ’åºå¯èƒ½å‘ç”Ÿåœ¨å¤šä¸ªé˜¶æ®µï¼Œæ¯”å¦‚ç¼–è¯‘é‡æ’åºã€CPUé‡æ’åºç­‰ã€‚&lt;/p&gt;
&lt;h3 id=&#34;happens-beforeè§„åˆ™&#34;&gt;&lt;strong&gt;happens-beforeè§„åˆ™&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;happens-beforeè§„åˆ™æ˜¯JVMå¯¹ç¨‹åºå‘˜ä½œå‡ºçš„ä¸€ä¸ªæ‰¿è¯ºï¼Œå®ƒä¿è¯æŒ‡ä»¤åœ¨å¤šçº¿ç¨‹ä¹‹é—´çš„é¡ºåºæ€§ç¬¦åˆç¨‹åºå‘˜çš„é¢„æœŸï¼Œä½†æ˜¯å®é™…çš„ä»£ç æ‰§è¡Œé¡ºåºå¯èƒ½æ˜¯ç»è¿‡é‡æ’åºçš„ï¼Œä¹Ÿå°±æ˜¯è¯´JVMä¿è¯ç»“æœçš„æ­£ç¡®æ€§ï¼Œå®é™…ä¼˜åŒ–å®ç°åˆ™å¯¹ç¨‹åºå‘˜é€æ˜ã€‚&lt;/p&gt;
&lt;h2 id=&#34;volatileçš„ä¸¤ä¸ªä¸»è¦åŠŸèƒ½&#34;&gt;volatileçš„ä¸¤ä¸ªä¸»è¦åŠŸèƒ½&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ä¿è¯å˜é‡çš„&lt;strong&gt;å†…å­˜å¯è§æ€§&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;ç¦æ­¢volatileå˜é‡ä¸æ™®é€šå˜é‡&lt;strong&gt;é‡æ’åº&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ä¿è¯å¯è§æ€§çš„åŸç†å†…å­˜è¯­ä¹‰&#34;&gt;ä¿è¯å¯è§æ€§çš„åŸç†ï¼ˆå†…å­˜è¯­ä¹‰ï¼‰&lt;/h2&gt;
&lt;p&gt;ä¸Šé¢è¯´åˆ°çº¿ç¨‹ä¼šæŠŠå…±äº«å˜é‡å¤åˆ¶ä¸€ä»½åˆ°è‡ªå·±çº¿ç¨‹çš„å·¥ä½œå†…å­˜è¿›è¡Œè®¡ç®—æ“ä½œï¼Œä¹‹åå†åœ¨æŸä¸ªæ—¶æœºå†™å›ä¸»å†…å­˜ä¸­ï¼Œè€Œvolatileä¿è¯çš„å¯è§æ€§å°±æ˜¯é€šè¿‡é€šçŸ¥å¦å¤–çš„çº¿ç¨‹è¯´å®ƒæ‹·è´çš„å€¼æ˜¯æ—§çš„ï¼Œéœ€è¦å»ä¸»å†…å­˜ä¸­å»é‡æ–°è¯»æœ€æ–°çš„ï¼Œå…·ä½“æ“ä½œå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;åœ¨ç”Ÿæˆæ±‡ç¼–ä»£ç æ—¶ä¼šåœ¨volatileä¿®é¥°çš„å…±äº«å˜é‡è¿›è¡Œå†™æ“ä½œçš„æ—¶å€™ä¼šå¤šå‡º&lt;strong&gt;Lockå‰ç¼€çš„æŒ‡ä»¤&lt;/strong&gt;ï¼Œè¿™ä¸ªLockå‰ç¼€çš„æŒ‡ä»¤åœ¨å¤šæ ¸å¤„ç†å™¨ä¸‹ä¸»è¦æœ‰ä¸¤æ–¹é¢å½±å“ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å°†å½“å‰å¤„ç†å™¨ç¼“å­˜ï¼ˆå³CPUç¼“å­˜ï¼Œå¦‚L1ï¼ŒL2ï¼‰çš„æ•°æ®å†™å›ç³»ç»Ÿå†…å­˜&lt;/li&gt;
&lt;li&gt;è¿™ä¸ªå†™å›å†…å­˜çš„æ“ä½œå›ä½¿å¾—å…¶ä»–CPUé‡Œç¼“å­˜æ¥è¯¥å†…å­˜åœ°å€çš„æ•°æ®æ— æ•ˆ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨å¤šå¤„ç†å™¨ä¸‹ï¼Œä¸ºäº†ä¿è¯å„ä¸ªå¤„ç†å™¨çš„ç¼“å­˜æ˜¯ä¸€è‡´çš„ï¼Œå°±ä¼šå®ç°&lt;strong&gt;ç¼“å­˜ä¸€è‡´æ€§&lt;/strong&gt;åè®®ï¼Œ&lt;strong&gt;æ¯ä¸ªå¤„ç†å™¨é€šè¿‡å—…æ¢åœ¨æ€»çº¿ä¸Šä¼ æ’­çš„æ•°æ®æ¥æ£€æŸ¥è‡ªå·±ç¼“å­˜çš„å€¼æ˜¯ä¸æ˜¯è¿‡æœŸ&lt;/strong&gt;äº†ï¼Œå½“å¤„ç†å™¨å‘ç°è‡ªå·±ç¼“å­˜è¡Œå¯¹åº”çš„å†…å­˜åœ°å€è¢«ä¿®æ”¹ï¼Œå°±ä¼šå°†å½“å‰å¤„ç†å™¨çš„ç¼“å­˜è¡Œè®¾ç½®æˆæ— æ•ˆçŠ¶æ€ï¼Œä¹‹åéœ€è¦å¯¹æ­¤å˜é‡è¿›è¡Œæ“ä½œçš„æ—¶å€™éœ€è¦å»ä¸»å­˜ä¸­è¯»å–æœ€æ–°å€¼ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥volatileå¯ä»¥ä¿è¯è¢«ä¿®é¥°çš„å˜é‡å¯ä»¥è®©æ¯ä¸ªçº¿ç¨‹éƒ½è·å–å®ƒçš„æœ€æ–°å€¼ï¼Œä¹Ÿå°±æ˜¯ä¿è¯äº†å¯è§æ€§ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é˜»æ­¢é‡æ’åºçš„åŸç†&#34;&gt;é˜»æ­¢é‡æ’åºçš„åŸç†&lt;/h2&gt;
&lt;p&gt;é˜»æ­¢é‡æ’åºä¸»è¦é çš„æ˜¯&lt;code&gt;å†…å­˜å±éšœ&lt;/code&gt; çš„ç­–ç•¥ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨æ¯ä¸ªvolatileå†™æ“ä½œå‰æ’å…¥ä¸€ä¸ªStoreStoreå±éšœï¼›&lt;/li&gt;
&lt;li&gt;åœ¨æ¯ä¸ªvolatileå†™æ“ä½œåæ’å…¥ä¸€ä¸ªStoreLoadå±éšœï¼›&lt;/li&gt;
&lt;li&gt;åœ¨æ¯ä¸ªvolatileè¯»æ“ä½œåæ’å…¥ä¸€ä¸ªLoadLoadå±éšœï¼›&lt;/li&gt;
&lt;li&gt;åœ¨æ¯ä¸ªvolatileè¯»æ“ä½œåå†æ’å…¥ä¸€ä¸ªLoadStoreå±éšœã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112122138029.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/202112122138029.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;volatileä¸æ™®é€šå˜é‡çš„é‡æ’åºè§„åˆ™:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœç¬¬ä¸€ä¸ªæ“ä½œæ˜¯volatileè¯»ï¼Œé‚£æ— è®ºç¬¬äºŒä¸ªæ“ä½œæ˜¯ä»€ä¹ˆï¼Œéƒ½ä¸èƒ½é‡æ’åºï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœç¬¬äºŒä¸ªæ“ä½œæ˜¯volatileå†™ï¼Œé‚£æ— è®ºç¬¬ä¸€ä¸ªæ“ä½œæ˜¯ä»€ä¹ˆï¼Œéƒ½ä¸èƒ½é‡æ’åºï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœç¬¬ä¸€ä¸ªæ“ä½œæ˜¯volatileå†™ï¼Œç¬¬äºŒä¸ªæ“ä½œæ˜¯volatileè¯»ï¼Œé‚£ä¸èƒ½é‡æ’åºã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç†è§£ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;volatileè¯»å°±æ˜¯è®©å½“å‰ç¼“å­˜è¡Œçš„æ•°æ®å¤±æ•ˆï¼Œé‡æ–°å»ä¸»å­˜ä¸­è¯»å–å˜é‡&lt;/li&gt;
&lt;li&gt;volatileå†™å°±æ˜¯æŠŠå½“å‰çº¿ç¨‹ç¼“å­˜è¡Œçš„å˜é‡åˆ·åˆ°ä¸»å­˜ä¸­è®©åˆ«çš„çº¿ç¨‹å¯ä»¥è¯»åˆ°è¿™ä¸ªæœ€æ–°çš„ï¼Œä¿è¯å¯è§æ€§&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;å¦‚æœç¬¬ä¸€ä¸ªæ“ä½œæ˜¯volatile è¯»ï¼Œç¬¬äºŒä¸ªæ˜¯å¦å¤–ä¸€ç§æ“ä½œè¿˜è¿›è¡Œé‡æ’åºçš„è¯ï¼Œé‚£è‚¯å®šä¸è¡Œï¼Œå› ä¸ºå…ˆvolatileè¯»å°±æ˜¯ä¸ºäº†ä¿è¯åé¢çš„æ“ä½œæ‹¿åˆ°çš„æ•°å€¼æ˜¯æœ€æ–°çš„ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœç¬¬äºŒä¸ªæ“ä½œæ˜¯volatileå†™ï¼Œç¬¬ä¸€ä¸ªæ˜¯å¦å¤–ä¸€ç§æ“ä½œè¿˜è¿›è¡Œé‡æ’åºçš„è¯ï¼Œé‚£è‚¯å®šä¹Ÿä¸è¡Œï¼Œå› ä¸ºæˆ‘ä»¬è¦ä¿è¯valatileå†™æ›´æ–°åˆ°ä¸»å­˜ä¸­çš„æ•°æ®æ˜¯æœ€æ–°çš„ã€‚&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸‰ä¸ªå¾ˆå¥½ç†è§£ï¼Œå…ˆæŠŠæœ€æ–°æ•°æ®æ›´æ–°åˆ°ä¸»å­˜ï¼Œå†å»ä¸»å­˜ä¸­è¯»æ‰èƒ½è¯»åˆ°æœ€æ–°çš„ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å¹¶å‘ç¼–ç¨‹çš„ä¸‰ä¸ªé‡è¦ç‰¹æ€§&#34;&gt;å¹¶å‘ç¼–ç¨‹çš„ä¸‰ä¸ªé‡è¦ç‰¹æ€§&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;åŸå­æ€§&lt;/strong&gt; : ä¸€ä¸ªçš„æ“ä½œæˆ–è€…å¤šæ¬¡æ“ä½œï¼Œè¦ä¹ˆæ‰€æœ‰çš„æ“ä½œå…¨éƒ¨éƒ½å¾—åˆ°æ‰§è¡Œå¹¶ä¸”ä¸ä¼šæ”¶åˆ°ä»»ä½•å› ç´ çš„å¹²æ‰°è€Œä¸­æ–­ï¼Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œã€‚&lt;code&gt;synchronized&lt;/code&gt; å¯ä»¥ä¿è¯ä»£ç ç‰‡æ®µçš„åŸå­æ€§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¯è§æ€§&lt;/strong&gt; ï¼šå½“ä¸€ä¸ªçº¿ç¨‹å¯¹å…±äº«å˜é‡è¿›è¡Œäº†ä¿®æ”¹ï¼Œé‚£ä¹ˆå¦å¤–çš„çº¿ç¨‹éƒ½æ˜¯ç«‹å³å¯ä»¥çœ‹åˆ°ä¿®æ”¹åçš„æœ€æ–°å€¼ã€‚&lt;code&gt;volatile&lt;/code&gt; å…³é”®å­—å¯ä»¥ä¿è¯å…±äº«å˜é‡çš„å¯è§æ€§ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æœ‰åºæ€§&lt;/strong&gt; ï¼šä»£ç åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­çš„å…ˆåé¡ºåºï¼ŒJava åœ¨ç¼–è¯‘å™¨ä»¥åŠè¿è¡ŒæœŸé—´çš„ä¼˜åŒ–ï¼Œä»£ç çš„æ‰§è¡Œé¡ºåºæœªå¿…å°±æ˜¯ç¼–å†™ä»£ç æ—¶å€™çš„é¡ºåºã€‚&lt;code&gt;volatile&lt;/code&gt; å…³é”®å­—å¯ä»¥ç¦æ­¢æŒ‡ä»¤è¿›è¡Œé‡æ’åºä¼˜åŒ–ã€‚&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>[å¹¶å‘ç¼–ç¨‹]Synchronizedä¼˜åŒ–ç¯‡â€”â€”Javaä¸­çš„å„ç§é”</title>
        <link>https://ccqstark.github.io/p/concurrent_synchronized_optimization/</link>
        <pubDate>Sat, 11 Dec 2021 17:09:24 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/concurrent_synchronized_optimization/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/concurrent_synchronized_optimization/cover.png" alt="Featured image of post [å¹¶å‘ç¼–ç¨‹]Synchronizedä¼˜åŒ–ç¯‡â€”â€”Javaä¸­çš„å„ç§é”" /&gt;&lt;p&gt;synchronizedåœ¨JDK1.6ä¹‹åå®˜æ–¹å¯¹å…¶è¿›è¡Œä¼˜åŒ–ï¼Œå…ˆè¦äº†è§£CASå’ŒJavaå¯¹è±¡å¤´ï¼Œå†å»å­¦ä¹ é”çš„å››ç§çŠ¶æ€ï¼š&lt;code&gt;æ— é”&lt;/code&gt;ã€&lt;code&gt;åå‘é”&lt;/code&gt;ã€&lt;code&gt;è½»é‡çº§é”&lt;/code&gt;ã€&lt;code&gt;é‡é‡çº§é”&lt;/code&gt;ã€‚è¿™ç¯‡æ–‡ç« å‚è€ƒäº†å¤šæ–¹èµ„æ–™ï¼Œç®—æ˜¯æ€»ç»“å¾—æ¯”è¾ƒå…¨é¢ï¼Œå¸Œæœ›å¯ä»¥å¸®åˆ°ä½ ã€‚&lt;/p&gt;
&lt;h2 id=&#34;cas&#34;&gt;CAS&lt;/h2&gt;
&lt;p&gt;CASæ“ä½œï¼ˆåˆç§°ä¸º&lt;strong&gt;æ— é”&lt;/strong&gt;æ“ä½œï¼‰æ˜¯ä¸€ç§&lt;strong&gt;ä¹è§‚é”&lt;/strong&gt;ç­–ç•¥ï¼Œå®ƒå‡è®¾æ‰€æœ‰çº¿ç¨‹è®¿é—®å…±äº«èµ„æºçš„æ—¶å€™ä¸ä¼šå‡ºç°å†²çªã€‚CASå°±æ˜¯&lt;code&gt;compare and swap&lt;/code&gt; ï¼Œé€šè¿‡æ¯”è¾ƒå†…å­˜ä¸­å½“å‰çš„å€¼ç­‰ä¸ç­‰äºé¢„æœŸå€¼ï¼Œå¦‚æœç­‰äºå°±å¯ä»¥èµ‹å€¼æˆåŠŸï¼Œå¦‚æœä¸ç­‰äºè¯´æ˜è¿™ä¸ªå€¼è¢«ä¿®æ”¹è¿‡äº†ä¸å†æ˜¯é¢„æœŸçš„æ—§å€¼ã€‚&lt;/p&gt;
&lt;p&gt;å½“å¤šä¸ªçº¿ç¨‹ä½¿ç”¨CASæ“ä½œä¸€ä¸ªå˜é‡çš„æ—¶å€™ï¼Œåªæœ‰ä¸€ä¸ªçº¿ç¨‹ä¼šæˆåŠŸï¼Œå…¶ä»–çš„ä¼šå› ä¸ºå†²çªå¤±è´¥ï¼Œå¤±è´¥åä¸€èˆ¬å°±ä¼šè‡ªæ—‹é‡è¯•ï¼Œå¤šæ¬¡å¤±è´¥åé€‰æ‹©æŒ‚èµ·çº¿ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;CASå®ç°éœ€è¦ç¡¬ä»¶æŒ‡ä»¤é›†çš„æ”¯æ’‘ï¼Œåœ¨JDK1.5åè™šæ‹Ÿæœºæ‰å¯ä»¥ä½¿ç”¨å¤„ç†å™¨æä¾›çš„&lt;code&gt;CMPXCHG&lt;/code&gt; æŒ‡ä»¤å®ç°ã€‚&lt;/p&gt;
&lt;h3 id=&#34;synchronizedå’Œcasçš„åŒºåˆ«&#34;&gt;synchronizedå’ŒCASçš„åŒºåˆ«&lt;/h3&gt;
&lt;p&gt;æœªä¼˜åŒ–çš„Synchronizedæœ€ä¸»è¦çš„é—®é¢˜æ˜¯ï¼šå½“å­˜åœ¨çº¿ç¨‹ç«äº‰çš„æƒ…å†µä¸‹ä¼šå‡ºç°çº¿ç¨‹é˜»å¡å’Œå”¤é†’å¸¦æ¥çš„å¼€é”€é—®é¢˜ï¼Œè¿™æ˜¯ä¸€ç§é˜»å¡åŒæ­¥ï¼ˆäº’æ–¥åŒæ­¥ï¼‰ã€‚è€ŒCASä¸æ˜¯ç›´æ¥å°±æŠŠçº¿ç¨‹æŒ‚èµ·ï¼Œåœ¨CASæ“ä½œå¤±è´¥åä¼šè¿›è¡Œä¸€å®šçš„é‡è¯•ï¼Œè€Œéç›´æ¥è¿›è¡Œè€—æ—¶çš„æŒ‚èµ·å’Œå”¤é†’ç­‰æ“ä½œï¼Œå› æ­¤å«åšéé˜»å¡åŒæ­¥ã€‚&lt;/p&gt;
&lt;h3 id=&#34;caså­˜åœ¨çš„é—®é¢˜&#34;&gt;CASå­˜åœ¨çš„é—®é¢˜&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ABAé—®é¢˜&lt;/p&gt;
&lt;p&gt;å› ä¸ºCASä¼šæ£€æµ‹æ—§çš„å€¼æœ‰æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯å‡å¦‚ä¸€ä¸ªå€¼ä»Aå˜æˆäº†Bï¼Œç„¶ååˆå˜æˆäº†Aï¼Œåˆšå¥½CASåœ¨æ£€æŸ¥çš„æ—¶å€™å‘ç°æ—§å€¼Aæ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œä½†æ˜¯å®é™…ä¸Šæ˜¯å‘ç”Ÿäº†å˜åŒ–çš„ã€‚è§£å†³åŠæ³•æ˜¯æ·»åŠ ä¸€ä¸ªç‰ˆæœ¬å·ï¼ŒJavaåœ¨1.5åçš„atomicåŒ…ä¸­æä¾›äº†AtomicStampedReferenceæ¥è§£å†³ABAé—®é¢˜ï¼Œæ€è·¯ä¹Ÿæ˜¯è¿™æ ·çš„ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è‡ªæ—‹æ—¶é—´è¿‡é•¿&lt;/p&gt;
&lt;p&gt;CASæ˜¯éé˜»å¡åŒæ­¥ï¼Œä¼šè‡ªé€‰ï¼ˆæ­»å¾ªç¯ï¼‰è¿›è¡Œä¸‹ä¸€æ¬¡å°è¯•ï¼Œå¦‚æœè‡ªæ—‹æ—¶é—´è¿‡é•¿çš„è¯å¯¹æ€§èƒ½åˆå¾ˆå¤§å½±å“ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åªèƒ½ä¿è¯ä¸€ä¸ªå…±äº«å˜é‡çš„åŸå­æ“ä½œ&lt;/p&gt;
&lt;p&gt;å½“CASå¯¹ä¸€ä¸ªå˜é‡è¿›è¡Œæ“ä½œæ—¶å¯ä»¥ä¿è¯å…¶åŸå­æ€§ï¼Œå¦‚æœå¯¹å¤šä¸ªå˜é‡è¿›è¡Œæ“ä½œå°±ä¸èƒ½ä¿è¯å…¶åŸå­æ€§ï¼Œè§£å†³åŠæ³•å°±æ˜¯åˆ©ç”¨å¯¹è±¡å»æ•´åˆå¤šä¸ªå…±äº«å˜é‡ï¼Œç„¶åå¯¹æ•´ä¸ªå¯¹è±¡è¿›è¡ŒCASæ“ä½œå°±å¯ä»¥ä¿è¯åŸå­æ€§æ¥ã€‚atomicåŒ…æä¾›æ¥AtomicReferenceæ¥ä¿è¯å¼•ç”¨å¯¹è±¡ä¹‹é—´çš„åŸå­æ€§ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;javaå¯¹è±¡å¤´&#34;&gt;Javaå¯¹è±¡å¤´&lt;/h2&gt;
&lt;p&gt;Javaçš„é”æ˜¯åŸºäºå¯¹è±¡çš„ï¼Œè€Œä¸æ˜¯åŸºäºçº¿ç¨‹çš„ï¼ˆæ‰€ä»¥waitã€notifyç­‰æ–¹æ³•æ˜¯Objectä¸­çš„ä¸æ˜¯Threadä¸­çš„ï¼‰ï¼Œé‚£é”çš„å­˜æ”¾è‡ªç„¶æ˜¯åœ¨å¯¹è±¡ä¸­ï¼Œå­˜å‚¨åœ¨Javaçš„å¯¹è±¡å¤´ä¸­ã€‚&lt;/p&gt;
&lt;p&gt;1å­—å®½åœ¨32ä½å¤„ç†å™¨ä¸­æ˜¯32ä½ï¼Œ64ä½ä¸­æ˜¯64ã€‚æ¯ä¸ªå¯¹è±¡éƒ½æœ‰å¯¹è±¡å¤´ï¼Œéæ•°ç»„ç±»å‹é•¿åº¦æ˜¯2ä¸ªå­—å®½ï¼Œæ•°ç»„æ˜¯3ä¸ªã€‚&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;é•¿åº¦&lt;/th&gt;
&lt;th&gt;å†…å®¹&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;1å­—å®½&lt;/td&gt;
&lt;td&gt;Mark Word&lt;/td&gt;
&lt;td&gt;å­˜å‚¨å¯¹è±¡çš„hashCodeã€åˆ†ä»£ä¿¡æ¯ã€é”ä¿¡æ¯ç­‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1å­—å®½&lt;/td&gt;
&lt;td&gt;Class Metadata Address&lt;/td&gt;
&lt;td&gt;å­˜å‚¨åˆ°å¯¹è±¡ç±»å‹æ•°æ®çš„æŒ‡é’ˆ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;1å­—å®½&lt;/td&gt;
&lt;td&gt;Array length&lt;/td&gt;
&lt;td&gt;æ•°ç»„çš„é•¿åº¦ï¼ˆå¦‚æœæ˜¯æ•°ç»„ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Mark Wordçš„æ ¼å¼ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;é”çŠ¶æ€&lt;/th&gt;
&lt;th&gt;29 bit æˆ– 61 bit&lt;/th&gt;
&lt;th&gt;1 bit æ˜¯å¦æ˜¯åå‘é”ï¼Ÿ&lt;/th&gt;
&lt;th&gt;2 bit é”æ ‡å¿—ä½&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;æ— é”&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;01&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;åå‘é”&lt;/td&gt;
&lt;td&gt;çº¿ç¨‹ID&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;01&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è½»é‡çº§é”&lt;/td&gt;
&lt;td&gt;æŒ‡å‘æ ˆä¸­é”è®°å½•çš„æŒ‡é’ˆ&lt;/td&gt;
&lt;td&gt;æ­¤æ—¶è¿™ä¸€ä½ä¸ç”¨äºæ ‡è¯†åå‘é”&lt;/td&gt;
&lt;td&gt;00&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;é‡é‡çº§é”&lt;/td&gt;
&lt;td&gt;æŒ‡å‘äº’æ–¥é‡ï¼ˆé‡é‡çº§é”ï¼‰çš„æŒ‡é’ˆ&lt;/td&gt;
&lt;td&gt;æ­¤æ—¶è¿™ä¸€ä½ä¸ç”¨äºæ ‡è¯†åå‘é”&lt;/td&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;GCæ ‡è®°&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;æ­¤æ—¶è¿™ä¸€ä½ä¸ç”¨äºæ ‡è¯†åå‘é”&lt;/td&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;å½“å¯¹è±¡çŠ¶æ€ä¸ºåå‘é”æ—¶ï¼Œ&lt;code&gt;Mark Word&lt;/code&gt;å­˜å‚¨çš„æ˜¯åå‘çš„çº¿ç¨‹IDï¼›&lt;/p&gt;
&lt;p&gt;å½“çŠ¶æ€ä¸ºè½»é‡çº§é”æ—¶ï¼Œ&lt;code&gt;Mark Word&lt;/code&gt;å­˜å‚¨çš„æ˜¯æŒ‡å‘çº¿ç¨‹æ ˆä¸­&lt;code&gt;Lock Record&lt;/code&gt;çš„æŒ‡é’ˆï¼›&lt;/p&gt;
&lt;p&gt;å½“çŠ¶æ€ä¸ºé‡é‡çº§é”æ—¶ï¼Œ&lt;code&gt;Mark Word&lt;/code&gt;ä¸ºæŒ‡å‘å †ä¸­çš„&lt;code&gt;monitor&lt;/code&gt;å¯¹è±¡çš„æŒ‡é’ˆã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ— é”&#34;&gt;æ— é”&lt;/h2&gt;
&lt;p&gt;ä¸Šé¢ä»‹ç»çš„CASåŸç†åŠåº”ç”¨å³æ˜¯æ— é”çš„å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;æ— é”æ²¡æœ‰å¯¹èµ„æºè¿›è¡Œé”å®šï¼Œæ‰€æœ‰çš„çº¿ç¨‹éƒ½èƒ½è®¿é—®å¹¶ä¿®æ”¹åŒä¸€ä¸ªèµ„æºï¼Œä½†åŒæ—¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½ä¿®æ”¹æˆåŠŸã€‚&lt;/p&gt;
&lt;p&gt;æ— é”çš„ç‰¹ç‚¹å°±æ˜¯ä¿®æ”¹æ“ä½œåœ¨å¾ªç¯å†…è¿›è¡Œï¼Œçº¿ç¨‹ä¼šä¸æ–­çš„å°è¯•ä¿®æ”¹å…±äº«èµ„æºã€‚å¦‚æœæ²¡æœ‰å†²çªå°±ä¿®æ”¹æˆåŠŸå¹¶é€€å‡ºï¼Œå¦åˆ™å°±ä¼šç»§ç»­å¾ªç¯å°è¯•ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åå‘é”&#34;&gt;åå‘é”&lt;/h2&gt;
&lt;p&gt;HotSpotçš„ä½œè€…ç ”ç©¶å‘ç°ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹é”éƒ½ä¸å­˜åœ¨å¤šçº¿ç¨‹ç«äº‰ï¼Œä¸€èˆ¬æ€»æ˜¯ç”±åŒä¸€ä¸ªçº¿ç¨‹å¤šæ¬¡è·å¾—ï¼Œä¸ºäº†è®©çº¿ç¨‹è·å¾—é”çš„ä»£ä»·æ›´ä½ï¼Œå¼•å…¥äº†åå‘é”ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åå‘é”çš„è·å–&#34;&gt;åå‘é”çš„è·å–&lt;/h3&gt;
&lt;p&gt;ä¸€ä¸ªçº¿ç¨‹åœ¨ç¬¬ä¸€æ¬¡è¿›å…¥åŒæ­¥å—æ—¶ï¼Œä¼šåœ¨&lt;strong&gt;å¯¹è±¡å¤´å’Œæ ˆå¸§ä¸­çš„é”è®°å½•&lt;/strong&gt;é‡Œå­˜å‚¨é”çš„åå‘çš„çº¿ç¨‹IDã€‚å½“ä¸‹æ¬¡è¯¥çº¿ç¨‹è¿›å…¥è¿™ä¸ªåŒæ­¥å—æ—¶ï¼Œä¼šå»æ£€æŸ¥é”çš„Mark Wordé‡Œé¢æ˜¯ä¸æ˜¯æ”¾çš„è‡ªå·±çš„çº¿ç¨‹IDã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯ï¼Œç›´æ¥è¡¨æ˜è¯¥çº¿ç¨‹å·²ç»è·å¾—äº†é”ï¼Œä»¥åè¯¥çº¿ç¨‹åœ¨è¿›å…¥å’Œé€€å‡ºåŒæ­¥å—æ—¶ä¸éœ€è¦èŠ±è´¹CASæ“ä½œæ¥åŠ é”å’Œè§£é” ï¼›å¦‚æœä¸æ˜¯ï¼Œå°±ä»£è¡¨æœ‰å¦ä¸€ä¸ªçº¿ç¨‹æ¥ç«äº‰è¿™ä¸ªåå‘é”ã€‚è¿™ä¸ªæ—¶å€™ä¼šå°è¯•ä½¿ç”¨CASæ¥æ›¿æ¢Mark Wordé‡Œé¢çš„çº¿ç¨‹IDä¸ºæ–°çº¿ç¨‹çš„IDï¼Œè¿™ä¸ªæ—¶å€™è¦åˆ†ä¸¤ç§æƒ…å†µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æˆåŠŸï¼Œè¡¨ç¤ºä¹‹å‰çš„çº¿ç¨‹ä¸å­˜åœ¨äº†ï¼Œ Mark Wordé‡Œé¢çš„çº¿ç¨‹IDä¸ºæ–°çº¿ç¨‹çš„IDï¼Œé”ä¸ä¼šå‡çº§ï¼Œä»ç„¶ä¸ºåå‘é”ï¼›&lt;/li&gt;
&lt;li&gt;å¤±è´¥ï¼Œè¡¨ç¤ºä¹‹å‰çš„çº¿ç¨‹ä»ç„¶å­˜åœ¨ï¼Œé‚£ä¹ˆæš‚åœä¹‹å‰çš„çº¿ç¨‹ï¼Œè¿›è¡Œ&lt;strong&gt;åå‘é”çš„æ’¤é”€&lt;/strong&gt;ï¼ˆä¸‹é¢ä»‹ç»ï¼‰ï¼Œè®¾ç½®åå‘é”æ ‡è¯†ä¸º0ï¼Œå¹¶è®¾ç½®é”æ ‡å¿—ä½ä¸º00ï¼Œå‡çº§ä¸ºè½»é‡çº§é”ï¼Œä¼šæŒ‰ç…§è½»é‡çº§é”çš„æ–¹å¼è¿›è¡Œç«äº‰é”ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åå‘é”çš„æ’¤é”€&#34;&gt;åå‘é”çš„æ’¤é”€&lt;/h3&gt;
&lt;p&gt;åå‘é”ä½¿ç”¨äº†ä¸€ç§&lt;strong&gt;ç­‰åˆ°ç«äº‰å‡ºç°æ‰é‡Šæ”¾é”çš„æœºåˆ¶&lt;/strong&gt;ï¼Œæ‰€ä»¥å½“å…¶ä»–çº¿ç¨‹å°è¯•ç«äº‰åå‘é”æ—¶ï¼Œ æŒæœ‰åå‘é”çš„çº¿ç¨‹æ‰ä¼šé‡Šæ”¾é”ã€‚&lt;/p&gt;
&lt;p&gt;åå‘é”å‡çº§æˆè½»é‡çº§é”æ—¶ï¼Œä¼šæš‚åœæ‹¥æœ‰åå‘é”çš„çº¿ç¨‹ï¼Œé‡ç½®åå‘é”æ ‡è¯†ï¼Œè¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨ä¸€ä¸ªå…¨å±€å®‰å…¨ç‚¹ï¼ˆæ²¡æœ‰å­—èŠ‚ç åœ¨æ‰§è¡Œï¼‰åœæ­¢æ‹¥æœ‰é”çš„çº¿ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;éå†çº¿ç¨‹æ ˆï¼Œå¦‚æœå­˜åœ¨é”è®°å½•çš„è¯ï¼Œéœ€è¦å°†é”è®°å½•å’ŒMark Wordæ”¹ä¸ºæ— é”çŠ¶æ€ã€‚&lt;/li&gt;
&lt;li&gt;å”¤é†’è¢«åœæ­¢çš„çº¿ç¨‹ï¼Œå°†å½“å‰é”å‡çº§æˆè½»é‡çº§é”ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å¦‚æœç¨‹åºä¸­çš„é”é€šå¸¸å¤„äºç«äº‰çŠ¶æ€ï¼Œé‚£ä¹ˆåå‘é”å°±èµ·ä¸åˆ°æé«˜æ€§èƒ½çš„ä½œç”¨ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å‚æ•°æŠŠåå‘é”å…³é—­ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;XX&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;UseBiasedLocking&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸‹é¢æœ‰ä¸ªç»å…¸çš„å›¾æ€»ç»“äº†åå‘é”çš„è·å¾—å’Œæ’¤é”€ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://gitee.com/ccqstark/image-bed/raw/master/images/20211211145457.png&#34; &gt;
		&lt;img src=&#34;https://gitee.com/ccqstark/image-bed/raw/master/images/20211211145457.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;è½»é‡çº§é”&#34;&gt;è½»é‡çº§é”&lt;/h2&gt;
&lt;p&gt;å¤šä¸ªçº¿ç¨‹åœ¨ä¸åŒæ—¶æ®µè·å–åŒä¸€æŠŠé”ï¼Œå³ä¸å­˜åœ¨é”ç«äº‰çš„æƒ…å†µï¼Œä¹Ÿå°±æ²¡æœ‰çº¿ç¨‹é˜»å¡ã€‚é’ˆå¯¹è¿™ç§æƒ…å†µï¼ŒJVMé‡‡ç”¨è½»é‡çº§é”æ¥é¿å…çº¿ç¨‹çš„é˜»å¡ä¸å”¤é†’ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è½»é‡çº§é”çš„è·å–&#34;&gt;è½»é‡çº§é”çš„è·å–&lt;/h3&gt;
&lt;p&gt;JVMä¼šä¸ºæ¯ä¸ªçº¿ç¨‹åœ¨å½“å‰çº¿ç¨‹çš„æ ˆå¸§ä¸­åˆ›å»ºç”¨äºå­˜å‚¨é”è®°å½•çš„ç©ºé—´&lt;code&gt;Lock Record&lt;/code&gt; , åŒ…å«ä¸¤éƒ¨åˆ†ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è¯†åˆ«å“ªä¸ªå¯¹è±¡è¢«é”çš„æ‰€å¿…éœ€çš„å…ƒæ•°æ®&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Displaced Mark Word&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;**å¦‚æœä¸€ä¸ªçº¿ç¨‹è·å¾—é”çš„æ—¶å€™å‘ç°æ˜¯è½»é‡çº§é”ï¼Œä¼šæŠŠé”çš„Mark Wordå¤åˆ¶åˆ°è‡ªå·±çš„Displaced Mark Wordé‡Œé¢ã€‚**ç„¶åçº¿ç¨‹å°è¯•ç”¨CASå°†é”çš„Mark Wordæ›¿æ¢ä¸ºæŒ‡å‘&lt;code&gt;Lock Record&lt;/code&gt;çš„æŒ‡é’ˆã€‚å¦‚æœæˆåŠŸï¼Œå½“å‰çº¿ç¨‹è·å¾—é”ï¼›å¦‚æœå¤±è´¥ï¼Œè¡¨ç¤ºMark Wordå·²ç»è¢«æ›¿æ¢æˆäº†å…¶ä»–çº¿ç¨‹çš„é”è®°å½•ï¼Œè¯´æ˜åœ¨ä¸å…¶å®ƒçº¿ç¨‹ç«äº‰é”ï¼Œå½“å‰çº¿ç¨‹å°±å°è¯•ä½¿ç”¨&lt;code&gt;è‡ªæ—‹&lt;/code&gt;æ¥è·å–é”ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹å›¾ï¼Œå¦‚æœMark WordæˆåŠŸæ›´æ–°ä¸ºæŒ‡å‘äº†æŸä¸€çº¿ç¨‹æ ˆå¸§ä¸­çš„Lock Recordåˆ™è¯æ˜æ­¤çº¿ç¨‹è·å¾—é”æˆåŠŸï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://gitee.com/ccqstark/image-bed/raw/master/images/20211211145632.png&#34; &gt;
		&lt;img src=&#34;https://gitee.com/ccqstark/image-bed/raw/master/images/20211211145632.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;é€‚åº”æ€§è‡ªæ—‹&#34;&gt;é€‚åº”æ€§è‡ªæ—‹&lt;/h3&gt;
&lt;p&gt;è‡ªæ—‹è¿‡å¤šä¹Ÿä¼šé€ æˆCPUè¾ƒå¤§çš„å¼€é”€ï¼ŒJDKé‡‡ç”¨çš„æ˜¯æ›´å¥½çš„&lt;code&gt;é€‚åº”æ€§è‡ªæ—‹&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;p&gt;è‡ªé€‚åº”æ„å‘³ç€è‡ªæ—‹çš„æ—¶é—´ï¼ˆæ¬¡æ•°ï¼‰ä¸å†å›ºå®šï¼Œè€Œæ˜¯ç”±&lt;strong&gt;å‰ä¸€æ¬¡åœ¨åŒä¸€ä¸ªé”ä¸Šçš„è‡ªæ—‹æ—¶é—´&lt;/strong&gt;åŠ&lt;strong&gt;é”çš„æ‹¥æœ‰è€…çš„çŠ¶æ€&lt;/strong&gt;æ¥å†³å®šã€‚å¦‚æœåœ¨åŒä¸€ä¸ªé”å¯¹è±¡ä¸Šï¼Œè‡ªæ—‹ç­‰å¾…åˆšåˆšæˆåŠŸè·å¾—è¿‡é”ï¼Œå¹¶ä¸”æŒæœ‰é”çš„çº¿ç¨‹æ­£åœ¨è¿è¡Œä¸­ï¼Œé‚£ä¹ˆè™šæ‹Ÿæœºå°±ä¼šè®¤ä¸ºè¿™æ¬¡è‡ªæ—‹ä¹Ÿæ˜¯å¾ˆæœ‰å¯èƒ½å†æ¬¡æˆåŠŸï¼Œè¿›è€Œå®ƒå°†å…è®¸è‡ªæ—‹ç­‰å¾…æŒç»­ç›¸å¯¹æ›´é•¿çš„æ—¶é—´ã€‚å¦‚æœå¯¹äºæŸä¸ªé”ï¼Œè‡ªæ—‹å¾ˆå°‘æˆåŠŸè·å¾—è¿‡ï¼Œé‚£åœ¨ä»¥åå°è¯•è·å–è¿™ä¸ªé”æ—¶å°†å¯èƒ½å°±ä¼šå‡å°‘è‡ªé€‰çš„æ¬¡æ•°æˆ–è€…çœç•¥æ‰è‡ªæ—‹è¿‡ç¨‹ï¼Œç›´æ¥é˜»å¡çº¿ç¨‹ï¼Œé¿å…æµªè´¹å¤„ç†å™¨èµ„æºã€‚&lt;/p&gt;
&lt;p&gt;è‡ªæ—‹ä¹Ÿä¸æ˜¯ä¸€ç›´è¿›è¡Œä¸‹å»çš„ï¼Œå¦‚æœè‡ªæ—‹åˆ°ä¸€å®šç¨‹åº¦ï¼ˆå’ŒJVMã€æ“ä½œç³»ç»Ÿç›¸å…³ï¼‰ï¼Œä¾ç„¶æ²¡æœ‰è·å–åˆ°é”ï¼Œç§°ä¸ºè‡ªæ—‹å¤±è´¥ï¼Œé‚£ä¹ˆè¿™ä¸ªçº¿ç¨‹ä¼šé˜»å¡ã€‚åŒæ—¶è¿™ä¸ªé”å°±ä¼š&lt;strong&gt;å‡çº§æˆé‡é‡çº§é”&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è½»é‡çº§é”çš„é‡Šæ”¾&#34;&gt;è½»é‡çº§é”çš„é‡Šæ”¾&lt;/h3&gt;
&lt;p&gt;åœ¨é‡Šæ”¾é”æ—¶ï¼Œå½“å‰çº¿ç¨‹ä¼šä½¿ç”¨CASæ“ä½œå°†&lt;code&gt;Displaced Mark Word&lt;/code&gt;çš„å†…å®¹å¤åˆ¶å›é”çš„&lt;code&gt;Mark Word&lt;/code&gt;é‡Œé¢ã€‚å¦‚æœæ²¡æœ‰å‘ç”Ÿç«äº‰ï¼Œé‚£ä¹ˆè¿™ä¸ªå¤åˆ¶çš„æ“ä½œä¼šæˆåŠŸã€‚å¦‚æœæœ‰å…¶ä»–çº¿ç¨‹å› ä¸ºè‡ªæ—‹å¤šæ¬¡å¯¼è‡´è½»é‡çº§é”å‡çº§æˆäº†é‡é‡çº§é”ï¼Œé‚£ä¹ˆCASæ“ä½œä¼šå¤±è´¥ï¼Œæ­¤æ—¶ä¼šé‡Šæ”¾é”å¹¶å”¤é†’è¢«é˜»å¡çš„çº¿ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/20211211152118.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/20211211152118.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;é‡é‡çº§é”&#34;&gt;é‡é‡çº§é”&lt;/h2&gt;
&lt;p&gt;é‡é‡çº§é”ä¾èµ–äºæ“ä½œç³»ç»Ÿçš„äº’æ–¥é‡ï¼ˆ&lt;code&gt;mutex&lt;/code&gt;ï¼‰ å®ç°çš„ï¼Œè€Œæ“ä½œç³»ç»Ÿä¸­çº¿ç¨‹é—´çŠ¶æ€çš„è½¬æ¢éœ€è¦ç›¸å¯¹æ¯”è¾ƒé•¿çš„æ—¶é—´ï¼Œæ‰€ä»¥é‡é‡çº§é”æ•ˆç‡å¾ˆä½ï¼Œä½†è¢«é˜»å¡çš„çº¿ç¨‹ä¸ä¼šæ¶ˆè€—CPUã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ Java ä¸­æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ª &lt;code&gt;monitor&lt;/code&gt; å¯¹è±¡ä¸ä¹‹å¯¹åº”ï¼Œåœ¨é‡é‡çº§é”çš„çŠ¶æ€ä¸‹ï¼Œå¯¹è±¡çš„&lt;code&gt;Mark Word&lt;/code&gt;å­˜æ”¾çš„æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘äº†ä¸ä¹‹å¯¹åº”çš„ monitor å¯¹è±¡ã€‚è¿™ä¸ª monitor å¯¹è±¡å°±æ˜¯å®ç°é‡é‡é”çš„å…³é”®ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ª monitor å¯¹è±¡åŒ…æ‹¬è¿™ä¹ˆå‡ ä¸ªå…³é”®å­—æ®µï¼š&lt;strong&gt;ContentionListï¼ŒEntryList ï¼ŒWaitSetï¼Œowner&lt;/strong&gt;ã€‚å…¶ä¸­ ContentionListã€EntryList ã€WaitSet éƒ½æ˜¯ç”± ObjectWaiter çš„é“¾è¡¨ç»“æ„ï¼Œowner æŒ‡å‘æŒæœ‰é”çš„çº¿ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;æ¯ä¸€ä¸ªå¯¹è±¡éƒ½å¯ä»¥å½“åšä¸€ä¸ªé”ï¼Œå½“å¤šä¸ªçº¿ç¨‹åŒæ—¶è¯·æ±‚æŸä¸ªå¯¹è±¡é”æ—¶ï¼Œå¯¹è±¡é”ä¼šè®¾ç½®å‡ ç§çŠ¶æ€ç”¨æ¥åŒºåˆ†è¯·æ±‚çš„çº¿ç¨‹ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Contention Listï¼šæ‰€æœ‰è¯·æ±‚é”çš„çº¿ç¨‹å°†è¢«é¦–å…ˆæ”¾ç½®åˆ°è¯¥ç«äº‰é˜Ÿåˆ—
Entry Listï¼šContention Listä¸­é‚£äº›æœ‰èµ„æ ¼æˆä¸ºå€™é€‰äººçš„çº¿ç¨‹è¢«ç§»åˆ°Entry List
Wait Setï¼šé‚£äº›è°ƒç”¨waitæ–¹æ³•è¢«é˜»å¡çš„çº¿ç¨‹è¢«æ”¾ç½®åˆ°Wait Set
OnDeckï¼šä»»ä½•æ—¶åˆ»æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ­£åœ¨ç«äº‰é”ï¼Œè¯¥çº¿ç¨‹ç§°ä¸ºOnDeck
Ownerï¼šè·å¾—é”çš„çº¿ç¨‹ç§°ä¸ºOwner
!Ownerï¼šé‡Šæ”¾é”çš„çº¿ç¨‹
&lt;/code&gt;&lt;/pre&gt;&lt;ol&gt;
&lt;li&gt;JVM æ¯æ¬¡ä»é˜Ÿåˆ—çš„å°¾éƒ¨å–å‡ºä¸€ä¸ªæ•°æ®ç”¨äºé”ç«äº‰å€™é€‰è€…(&lt;code&gt;OnDeck&lt;/code&gt;)ï¼Œä½†æ˜¯å¹¶å‘æƒ…å†µä¸‹ï¼ŒContentionList ä¼šè¢«å¤§é‡çš„å¹¶å‘çº¿ç¨‹è¿›è¡Œ CAS è®¿é—®ï¼Œä¸ºäº†é™ä½å¯¹å°¾éƒ¨å…ƒç´ çš„ç«äº‰ï¼ŒJVM ä¼šå°†ä¸€éƒ¨åˆ†çº¿ç¨‹ç§»åŠ¨åˆ° EntryList ä¸­ä½œä¸ºå€™é€‰ç«äº‰çº¿ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;Owner çº¿ç¨‹ä¼šåœ¨ unlock æ—¶ï¼Œå°† ContentionList ä¸­çš„éƒ¨åˆ†çº¿ç¨‹è¿ç§»åˆ° EntryList ä¸­ï¼Œå¹¶æŒ‡å®šEntryList ä¸­çš„æŸä¸ªçº¿ç¨‹ä¸º OnDeck çº¿ç¨‹(ä¸€èˆ¬æ˜¯æœ€å…ˆè¿›å»çš„é‚£ä¸ªçº¿ç¨‹)ï¼Œè¢«é€‰ä¸­çš„çº¿ç¨‹å«åš&lt;code&gt;Heir presumptive&lt;/code&gt; ï¼Œå³å‡å®šç»§æ‰¿äººã€‚&lt;/li&gt;
&lt;li&gt;Owner çº¿ç¨‹å¹¶ä¸ç›´æ¥æŠŠé”ä¼ é€’ç»™ OnDeck çº¿ç¨‹ï¼Œè€Œæ˜¯æŠŠé”ç«äº‰çš„æƒåˆ©äº¤ç»™ OnDeckã€‚&lt;/li&gt;
&lt;li&gt;OnDeck éœ€è¦é‡æ–°ç«äº‰é”ã€‚è¿™æ ·è™½ç„¶ç‰ºç‰²äº†ä¸€äº›å…¬å¹³æ€§ï¼Œä½†æ˜¯èƒ½æå¤§çš„æå‡ç³»ç»Ÿçš„ååé‡ï¼Œåœ¨JVM ä¸­ï¼Œä¹ŸæŠŠè¿™ç§é€‰æ‹©è¡Œä¸ºç§°ä¹‹ä¸ºâ€œç«äº‰åˆ‡æ¢â€ã€‚&lt;/li&gt;
&lt;li&gt;OnDeck çº¿ç¨‹è·å–åˆ°é”èµ„æºåä¼šå˜ä¸º Owner çº¿ç¨‹ï¼Œè€Œæ²¡æœ‰å¾—åˆ°é”èµ„æºçš„ä»ç„¶åœç•™åœ¨ EntryListä¸­ã€‚å¦‚æœ Owner çº¿ç¨‹è¢« wait æ–¹æ³•é˜»å¡ï¼Œåˆ™è½¬ç§»åˆ° WaitSet é˜Ÿåˆ—ä¸­ï¼Œç›´åˆ°æŸä¸ªæ—¶åˆ»é€šè¿‡ notifyæˆ–è€… notifyAll å”¤é†’ï¼Œä¼šé‡æ–°è¿›å» EntryList ä¸­ã€‚å¤„äº ContentionListã€EntryListã€WaitSet ä¸­çš„çº¿ç¨‹éƒ½å¤„äºé˜»å¡çŠ¶æ€ï¼Œè¯¥é˜»å¡æ˜¯ç”±æ“ä½œç³»ç»Ÿæ¥å®Œæˆçš„(Linux å†…æ ¸ä¸‹é‡‡ç”¨ pthread_mutex_lock å†…æ ¸å‡½æ•°å®ç°çš„)ã€‚&lt;/li&gt;
&lt;li&gt;Synchronized æ˜¯&lt;strong&gt;éå…¬å¹³é”&lt;/strong&gt;ã€‚ Synchronized åœ¨çº¿ç¨‹è¿›å…¥ ContentionList æ—¶ï¼Œç­‰å¾…çš„çº¿ç¨‹ä¼šå…ˆå°è¯•è‡ªæ—‹è·å–é”ï¼Œå¦‚æœè·å–ä¸åˆ°å°±è¿›å…¥ ContentionListï¼Œè¿™æ˜æ˜¾å¯¹äºå·²ç»è¿›å…¥é˜Ÿåˆ—çš„çº¿ç¨‹æ˜¯ä¸å…¬å¹³çš„ï¼Œè¿˜æœ‰ä¸€ä¸ªä¸å…¬å¹³çš„äº‹æƒ…å°±æ˜¯è‡ªæ—‹è·å–é”çš„çº¿ç¨‹è¿˜å¯èƒ½ç›´æ¥æŠ¢å  OnDeck çº¿ç¨‹çš„é”èµ„æºã€‚&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸ª &lt;code&gt;monitor&lt;/code&gt; å¯¹è±¡ï¼ŒåŠ é”å°±æ˜¯åœ¨ç«äº‰ monitor å¯¹è±¡ï¼Œä»£ç å—åŠ é”æ˜¯åœ¨å‰ååˆ†åˆ«åŠ ä¸Š &lt;code&gt;monitorenter&lt;/code&gt; å’Œ &lt;code&gt;monitorexit&lt;/code&gt; æŒ‡ä»¤æ¥å®ç°çš„ï¼Œæ–¹æ³•åŠ é”æ˜¯é€šè¿‡ä¸€ä¸ªæ ‡è®°ä½&lt;code&gt;ACC_SYNCHRONIZED&lt;/code&gt;æ¥åˆ¤æ–­çš„ï¼ˆåœ¨synchronizedç¯‡è®²è¿‡äº†ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è½¬æ¢å…³ç³»å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/20211211160234.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/20211211160234.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ€»ç»“é”çš„å‡çº§æµç¨‹&#34;&gt;æ€»ç»“é”çš„å‡çº§æµç¨‹&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;æ¯ä¸€ä¸ªçº¿ç¨‹åœ¨å‡†å¤‡è·å–å…±äº«èµ„æºæ—¶ï¼Œç¬¬ä¸€æ­¥ï¼Œæ£€æŸ¥Mark Wordé‡Œé¢æ˜¯ä¸æ˜¯æ”¾çš„è‡ªå·±çš„Thread IDï¼Œå¦‚æœæ˜¯ï¼Œè¡¨ç¤ºå½“å‰çº¿ç¨‹è·å–äº†è¯¥èµ„æºçš„&lt;code&gt;åå‘é”&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚æœMark Wordä¸æ˜¯è‡ªå·±çš„Thread IDï¼Œè¿™æ—¶å€™ç”¨CASæ¥å°è¯•æ›¿æ¢ï¼ŒæˆåŠŸçš„è¯å°±ä»ç„¶ä¸ºåå‘é”ï¼Œå¤±è´¥çš„è¯å°±ä¼šé”å‡çº§ï¼Œæ–°çº¿ç¨‹æ ¹æ®Mark Wordé‡Œé¢ç°æœ‰çš„Thread IDé€šçŸ¥ä¹‹å‰çš„çº¿ç¨‹æš‚åœï¼Œè¿™ä¸ªä¹‹å‰çš„çº¿ç¨‹è¿›è¡Œåå‘é”çš„æ’¤é”€æ“ä½œï¼ŒåŒæ—¶é”å‡çº§ä¸º&lt;code&gt;è½»é‡çº§é”&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;æ­¤æ—¶ä¸ºè½»é‡çº§é”æ¥ç«äº‰èµ„æºï¼Œä¸¤ä¸ªçº¿ç¨‹éƒ½æŠŠé”å¯¹è±¡çš„Hash Codeå¤åˆ¶åˆ°è‡ªå·±æ–°å»ºçš„ç”¨äºå­˜å‚¨é”çš„è®°å½•ç©ºé—´Lock Recordï¼Œæ¥ç€é€šè¿‡CASï¼ŒæŠŠé”å¯¹è±¡çš„Mark Wordå†…å®¹ä¿®æ”¹ä¸ºæŒ‡å‘è‡ªå·±Lock Recordçš„åœ°å€çš„æ–¹å¼æ¥ç«äº‰é”ã€‚&lt;/li&gt;
&lt;li&gt;ç¬¬ä¸‰æ­¥ä¸­çš„CASæˆåŠŸçš„å°±æ‹¿åˆ°æ¥é”ï¼Œå¤±è´¥çš„å°±è‡ªæ—‹ã€‚&lt;/li&gt;
&lt;li&gt;è‡ªæ—‹çº¿ç¨‹åœ¨è‡ªæ—‹è¿‡ç¨‹ä¸­ï¼Œå¦‚æœä¹‹å‰å…ˆæ‹¿åˆ°é”çš„çº¿ç¨‹é‡Šæ”¾äº†é”è®©å®ƒå¯ä»¥è·å¾—èµ„æºï¼Œå°±ä»ç„¶ä¿æŒåœ¨è½»é‡çº§é”ï¼Œå¦‚æœè‡ªé€‰å¤±è´¥å°±ä¼šè†¨èƒ€ä¸ºé‡é‡çº§é”ã€‚&lt;/li&gt;
&lt;li&gt;è¿›å…¥&lt;code&gt;é‡é‡çº§é”&lt;/code&gt;åï¼ŒåŸæœ¬è‡ªæ—‹çš„çº¿ç¨‹å°±åªèƒ½è¿›å…¥é˜»å¡çŠ¶æ€ï¼Œç­‰é”è¢«é‡Šæ”¾åå†è®©åˆ«çš„çº¿ç¨‹æ¥å”¤é†’è‡ªå·±ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å…³äºé”æ˜¯å¦å¯ä»¥é™çº§&#34;&gt;å…³äºé”æ˜¯å¦å¯ä»¥é™çº§&lt;/h2&gt;
&lt;p&gt;å¤§å¤šæ•°æ–‡ç« å†™çš„éƒ½æ˜¯é”åªèƒ½å‡çº§è€Œä¸èƒ½é™çº§ï¼Œå…¶å®ä¸ç„¶ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;HotSpot JVMã€JRockit JVMæ˜¯æ”¯æŒé”é™çº§çš„&lt;/li&gt;
&lt;li&gt;HotSpot JVMã€JRockit JVMæ˜¯åå‘é”æ˜¯å¯ä»¥é‡åå‘çš„&lt;/li&gt;
&lt;li&gt;é‡é‡çº§é”é™çº§å‘ç”ŸäºSTWé˜¶æ®µï¼Œé™çº§å¯¹è±¡ä¸ºä»…ä»…èƒ½è¢«VMThreadè®¿é—®è€Œæ²¡æœ‰å…¶ä»–JavaThreadè®¿é—®çš„å¯¹è±¡&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å„ç§é”çš„ä¼˜ç¼ºç‚¹å¯¹æ¯”&#34;&gt;å„ç§é”çš„ä¼˜ç¼ºç‚¹å¯¹æ¯”&lt;/h2&gt;
&lt;p&gt;ä¸‹è¡¨æ¥è‡ªã€ŠJavaå¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ã€‹ï¼š&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;é”&lt;/th&gt;
&lt;th&gt;ä¼˜ç‚¹&lt;/th&gt;
&lt;th&gt;ç¼ºç‚¹&lt;/th&gt;
&lt;th&gt;é€‚ç”¨åœºæ™¯&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;åå‘é”&lt;/td&gt;
&lt;td&gt;åŠ é”å’Œè§£é”ä¸éœ€è¦é¢å¤–çš„æ¶ˆè€—ï¼Œå’Œæ‰§è¡ŒéåŒæ­¥æ–¹æ³•æ¯”ä»…å­˜åœ¨çº³ç§’çº§çš„å·®è·ã€‚&lt;/td&gt;
&lt;td&gt;å¦‚æœçº¿ç¨‹é—´å­˜åœ¨é”ç«äº‰ï¼Œä¼šå¸¦æ¥é¢å¤–çš„é”æ’¤é”€çš„æ¶ˆè€—ã€‚&lt;/td&gt;
&lt;td&gt;é€‚ç”¨äºåªæœ‰ä¸€ä¸ªçº¿ç¨‹è®¿é—®åŒæ­¥å—åœºæ™¯ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;è½»é‡çº§é”&lt;/td&gt;
&lt;td&gt;ç«äº‰çš„çº¿ç¨‹ä¸ä¼šé˜»å¡ï¼Œæé«˜äº†ç¨‹åºçš„å“åº”é€Ÿåº¦ã€‚&lt;/td&gt;
&lt;td&gt;å¦‚æœå§‹ç»ˆå¾—ä¸åˆ°é”ç«äº‰çš„çº¿ç¨‹ä½¿ç”¨è‡ªæ—‹ä¼šæ¶ˆè€—CPUã€‚&lt;/td&gt;
&lt;td&gt;è¿½æ±‚å“åº”æ—¶é—´ã€‚åŒæ­¥å—æ‰§è¡Œé€Ÿåº¦éå¸¸å¿«ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;é‡é‡çº§é”&lt;/td&gt;
&lt;td&gt;çº¿ç¨‹ç«äº‰ä¸ä½¿ç”¨è‡ªæ—‹ï¼Œä¸ä¼šæ¶ˆè€—CPUã€‚&lt;/td&gt;
&lt;td&gt;çº¿ç¨‹é˜»å¡ï¼Œå“åº”æ—¶é—´ç¼“æ…¢ã€‚&lt;/td&gt;
&lt;td&gt;è¿½æ±‚ååé‡(éå…¬å¹³é”)ã€‚åŒæ­¥å—æ‰§è¡Œæ—¶é—´è¾ƒé•¿ã€‚&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;å‚è€ƒ&#34;&gt;å‚è€ƒ&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;http://concurrent.redspider.group/article/02/9.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;9 synchronizedä¸é”&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://tech.meituan.com/2018/11/15/java-lock.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ä¸å¯ä¸è¯´çš„Java&amp;quot;é”&amp;quot;äº‹&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.liangzl.com/get-article-detail-184610.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Synchronizedçš„å®ç°ä¸¶Javaæ•™ç¨‹ç½‘-ITå¼€å‘è€…ä»¬çš„æŠ€æœ¯å¤©å ‚&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[å¹¶å‘ç¼–ç¨‹]ReentrantLockç¯‡</title>
        <link>https://ccqstark.github.io/p/concurrent_reentrantlock/</link>
        <pubDate>Sat, 11 Dec 2021 17:05:58 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/concurrent_reentrantlock/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/concurrent_reentrantlock/cover.png" alt="Featured image of post [å¹¶å‘ç¼–ç¨‹]ReentrantLockç¯‡" /&gt;&lt;h2 id=&#34;åŸºæœ¬ä»‹ç»&#34;&gt;åŸºæœ¬ä»‹ç»&lt;/h2&gt;
&lt;p&gt;å¯¹äºReentrantLockï¼ˆé‡å…¥é”ï¼‰ï¼Œæ˜¯å¸¸ç”¨çš„Lockæ¥å£çš„ä¸€ä¸ªå®ç°ï¼Œæœ€ä¸»è¦çš„æ˜¯äº†è§£ä»–çš„é‡å…¥æ€§å’Œå…¬å¹³é”/éå…¬å¹³é”ï¼Œè¿˜æœ‰ç”¨ä»–äºsynchronizedæœºæ¢°èƒ½å¯¹æ¯”ï¼Œä¸‹é¢è¿›è¡Œå…·ä½“ä»‹ç»ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é‡å…¥æ€§å®ç°åŸç†&#34;&gt;é‡å…¥æ€§å®ç°åŸç†&lt;/h2&gt;
&lt;p&gt;é‡å…¥æ€§æœ‰2ä¸ªåŸºæœ¬ç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;åœ¨çº¿ç¨‹è·å–é”çš„æ—¶å€™ï¼Œå¦‚æœé”å·²ç»å­˜åœ¨ä¸”é”è¿˜æ˜¯å½“å‰çº¿ç¨‹çš„ï¼Œé‚£å¯ä»¥ç›´æ¥å†æ¬¡è·å–æˆåŠŸ&lt;/li&gt;
&lt;li&gt;ç”±äºé”å¯ä»¥è¢«åŒä¸€çº¿ç¨‹è·å–næ¬¡ï¼Œåœ¨é‡Šæ”¾æ—¶åŒæ ·è¦é‡Šæ”¾næ¬¡æ‰èƒ½æŠŠé”å®Œå…¨é‡Šæ”¾å¼€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;è®¸å¤šåŒæ­¥ç»„ä»¶éƒ½æ˜¯é€šè¿‡é‡å†™AQSçš„æ–¹æ³•æ¥å®ç°è‡ªå·±çš„åŒæ­¥åŠŸèƒ½çš„ï¼Œä¸‹é¢ä»¥ReentrantLockçš„éå…¬å¹³é”çš„æºç æ¥è§£æå…¶é‡å…¥çš„å®ç°ã€‚æ ¸å¿ƒæ–¹æ³•&lt;code&gt;nonfairTryAcquire&lt;/code&gt; ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;nonfairTryAcquire&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;acquires&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Thread&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;current&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Thread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;currentThread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getState&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;//1. å¦‚æœè¯¥é”æœªè¢«ä»»ä½•çº¿ç¨‹å æœ‰ï¼Œè¯¥é”èƒ½è¢«å½“å‰çº¿ç¨‹è·å–
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;compareAndSetState&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;acquires&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;setExclusiveOwnerThread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;current&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;//2.è‹¥è¢«å æœ‰ï¼Œæ£€æŸ¥å æœ‰çº¿ç¨‹æ˜¯å¦æ˜¯å½“å‰çº¿ç¨‹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;current&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getExclusiveOwnerThread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;())&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// 3. å†æ¬¡è·å–ï¼Œè®¡æ•°åŠ ä¸€
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nextc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;acquires&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nextc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// overflow
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;k&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Error&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Maximum lock count exceeded&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;setState&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nextc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é¦–å…ˆæ˜¯åˆ¤æ–­å½“å‰æ˜¯å¦å­˜åœ¨é”ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œé‚£è‡ªç„¶å¯ä»¥è·å–ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœå­˜åœ¨ï¼Œè€Œä¸”å æœ‰é”çš„è¿˜æ˜¯å½“å‰è¿™ä¸ªçº¿ç¨‹ï¼Œé‚£å°±å¯ä»¥é‡å…¥ï¼ŒåŒæ­¥çŠ¶æ€ï¼ˆé”çš„è®¡æ•°å™¨ï¼‰+1ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºé‡Šæ”¾ï¼Œä¹Ÿæ˜¯åŒæ ·çš„é“ç†ï¼Œæ ¸å¿ƒæ–¹æ³•&lt;code&gt;tryRelease&lt;/code&gt; ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;protected&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;tryRelease&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;releases&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;//1. åŒæ­¥çŠ¶æ€å‡1
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getState&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;releases&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Thread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;currentThread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getExclusiveOwnerThread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;())&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;IllegalMonitorStateException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;free&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//2. åªæœ‰å½“åŒæ­¥çŠ¶æ€ä¸º0æ—¶ï¼Œé”æˆåŠŸè¢«é‡Šæ”¾ï¼Œè¿”å›true
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;free&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;setExclusiveOwnerThread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// 3. é”æœªè¢«å®Œå…¨é‡Šæ”¾ï¼Œè¿”å›false
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;setState&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;free&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç”¨ä¸€ä¸ªå˜é‡freeæ¥è¡¨ç¤ºé”æ˜¯å¦è¢«å®Œå…¨é‡Šæ”¾ï¼Œåªæœ‰å½“åŒæ­¥çŠ¶æ€ï¼ˆé”çš„è®¡æ•°å™¨ï¼‰ä¸º0æ—¶æ‰ä¼šè®¾ç½®ä¸ºtrueï¼Œå¦åˆ™è¿˜æ˜¯ä¸Šé”çš„çŠ¶æ€ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å…¬å¹³é”å’Œéå…¬å¹³é”&#34;&gt;å…¬å¹³é”å’Œéå…¬å¹³é”&lt;/h2&gt;
&lt;h3 id=&#34;è®¾ç½®å…¬å¹³æ€§&#34;&gt;è®¾ç½®å…¬å¹³æ€§&lt;/h3&gt;
&lt;p&gt;ReentrantLockæ”¯æŒå…¬å¹³é”å’Œéå…¬å¹³é”ï¼Œé»˜è®¤æ˜¯éå…¬å¹³çš„ï¼ˆæ— å‚æ„é€ æ–¹æ³•ï¼‰ï¼Œä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ªå¸¦æœ‰booleanå€¼çš„æ„é€ æ–¹æ³•æ¥æŒ‡å®šå…¬å¹³æ€§ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// é»˜è®¤éå…¬å¹³é”
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ReentrantLock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;sync&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;NonfairSync&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;// trueä¸ºå…¬å¹³é”ï¼Œfalseä¸ºéå…¬å¹³é”
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ReentrantLock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fair&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;sync&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fair&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;FairSync&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;NonfairSync&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…¬å¹³æ€§çš„æ„æ€å°±æ˜¯ï¼Œå¦‚æœæ˜¯å…¬å¹³é”ï¼Œé‚£ä¹ˆçº¿ç¨‹è·å–é”çš„é¡ºåºå°±æ˜¯æŒ‰å®ƒä»¬è¯·æ±‚æ—¶çš„é¡ºåºï¼Œç»´æŠ¤æ¥ä¸€ä¸ªé˜Ÿåˆ—è¿›è¡Œæ’é˜Ÿï¼ŒFIFOï¼›å¦‚æœæ˜¯éå…¬å¹³é”ï¼Œåˆ™æ²¡æœ‰è¿›è¡Œæ’é˜Ÿï¼Œçº¿ç¨‹å‘èµ·è¯·æ±‚æ—¶å°±ç«‹åˆ»å¯ä»¥å»å°è¯•è·å–é”ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æºç è§£æ&#34;&gt;æºç è§£æ&lt;/h3&gt;
&lt;p&gt;ä¸Šé¢çš„&lt;code&gt;nonfairTryAcquire&lt;/code&gt; å°±æ˜¯éå…¬å¹³é”çš„æºç æ¥ï¼Œä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸‹å…¬å¹³é”&lt;code&gt;tryAcquire&lt;/code&gt;çš„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;protected&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;tryAcquire&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;acquires&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Thread&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;current&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Thread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;currentThread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getState&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;// ä¸åŒç‚¹åœ¨è¿™é‡Œ 
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;hasQueuedPredecessors&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;compareAndSetState&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;acquires&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;setExclusiveOwnerThread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;current&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;current&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getExclusiveOwnerThread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;())&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nextc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;acquires&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nextc&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Error&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Maximum lock count exceeded&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;setState&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nextc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…¶å®å¤§éƒ¨åˆ†é€»è¾‘å’Œéå…¬å¹³é”æ˜¯ç›¸ä¼¼çš„ï¼Œä¸åŒåœ¨äºå…¬å¹³é”åœ¨åˆ¤æ–­åˆ°å½“å‰èµ„æºçš„åŒæ­¥çŠ¶æ€ä¸º0åï¼Œè¿˜å¤šåˆ¤æ–­æ¥ä¸€æ¬¡&lt;code&gt;hasQueuedPredecessors()&lt;/code&gt; ï¼Œè¿™ä¸ªæ–¹æ³•ç”¨äºåˆ¤æ–­å½“å‰èŠ‚ç‚¹åœ¨åŒæ­¥é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰å‰é©±èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯å½“å‰çº¿ç¨‹æ˜¯å¦ä½äºåŒæ­¥é˜Ÿåˆ—çš„é˜Ÿå¤´ï¼ˆåˆ¤æ–­æ—¶å–åï¼‰ã€‚å¦‚æœæ˜¯æ‰èƒ½è¿›è¡Œä¸‹é¢çš„é€»è¾‘æ¥è·å–èµ„æºçš„é”ï¼Œå¦åˆ™æ ¹æ®å…¬å¹³æ€§æ˜¯ä¼šè·å–å¤±è´¥çš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¯¹æ¯”&#34;&gt;å¯¹æ¯”&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;å…¬å¹³é”æ¯æ¬¡éƒ½åªèƒ½è®©ä½äºåŒæ­¥é˜Ÿåˆ—ä¸­çš„ç¬¬ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œè·å–èµ„æºï¼Œä¿è¯è¯·æ±‚èµ„æº&lt;strong&gt;æ—¶é—´ä¸Šçš„ç»å¯¹é¡ºåº&lt;/strong&gt;ï¼›è€Œéå…¬å¹³é”å¯èƒ½äº§ç”Ÿåˆšåˆšé‡Šæ”¾é”çš„çº¿ç¨‹åˆç«‹åˆ»æ‹¿åˆ°é”äº†ï¼Œå¯¼è‡´å…¶ä»–çº¿ç¨‹è¿Ÿè¿Ÿæ‹¿ä¸åˆ°ï¼Œé€ æˆäº†â€œ&lt;code&gt;é¥¥é¥¿&lt;/code&gt;â€ç°è±¡ã€‚&lt;/li&gt;
&lt;li&gt;å…¬å¹³é”ä¸ºäº†ä¿è¯æ—¶é—´ä¸Šçš„é¡ºåºï¼Œå¾€å¾€åæ¶‰åŠé¢‘ç¹çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œé€ æˆæ¯”è¾ƒå¤§çš„å¼€é”€ã€‚è€Œéå…¬å¹³é”åˆ™ä¼šé™ä½ä¸€å®šçš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Œæé«˜äº†æ€§èƒ½ï¼Œæ‰€ä»¥ReentrantLocké»˜è®¤æ˜¯éå…¬å¹³çš„ï¼Œä¿è¯ç³»ç»Ÿæ›´å¤§çš„ååé‡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;å‚è€ƒ&#34;&gt;å‚è€ƒ&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/CL0610/Java-concurrency&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;GitHub - CL0610/Java-concurrency: Javaå¹¶å‘çŸ¥è¯†ç‚¹æ€»ç»“&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[å¹¶å‘ç¼–ç¨‹]synchronizedç¯‡</title>
        <link>https://ccqstark.github.io/p/concurrent_synchronized/</link>
        <pubDate>Sat, 11 Dec 2021 16:56:15 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/concurrent_synchronized/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/concurrent_synchronized/cover.png" alt="Featured image of post [å¹¶å‘ç¼–ç¨‹]synchronizedç¯‡" /&gt;&lt;h2 id=&#34;è¯´ä¸€è¯´ä½ å¯¹synchronizedçš„ç†è§£&#34;&gt;è¯´ä¸€è¯´ä½ å¯¹synchronizedçš„ç†è§£ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;synchronizedå…³é”®å­—ç”¨äºè§£å†³å¤šä¸ªçº¿ç¨‹è®¿é—®ä¸´ç•Œèµ„æºçš„åŒæ­¥é—®é¢˜ï¼Œå®ƒå¯ä»¥ä¿è¯åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹åœ¨æ“ä½œä¸€ä¸ªä¸´ç•Œèµ„æºã€‚&lt;/p&gt;
&lt;p&gt;åœ¨Javaçš„æ—©æœŸç‰ˆæœ¬synchronizedå±äºé‡é‡çº§é”ï¼Œæ•ˆç‡ä½ä¸‹ã€‚å› ä¸ºç›‘è§†å™¨é”ï¼ˆmonitorï¼‰æ˜¯ä»¥æ¥äºæ“ä½œç³»ç»Ÿåº•å±‚çš„&lt;code&gt;Mutex Lock&lt;/code&gt;æ¥å®ç°çš„ï¼ŒJavaçš„çº¿ç¨‹æ˜ å°„åˆ°æ“ä½œç³»ç»Ÿçš„åŸç”Ÿçº¿ç¨‹ä¸Šï¼Œè¦æŒ‚èµ·æˆ–è€…å”¤é†’ä¸€ä¸ªçº¿ç¨‹å®ç°çº¿ç¨‹çš„åˆ‡æ¢ï¼Œéƒ½éœ€è¦æ¶‰åŠåˆ°æ“ä½œç³»ç»Ÿçš„ç”¨æˆ·æ€å’Œå†…æ ¸æ€çš„è½¬æ¢ï¼Œå¼€é”€æ¯”è¾ƒå¤§ã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯åœ¨Java6ä¹‹åï¼ŒJavaå®˜æ–¹åœ¨JVMå±‚é¢å¯¹synchronizedè¿›è¡Œæ¥ä¼˜åŒ–ï¼ŒJDK1.6å®ç°æ¥è‡ªæ—‹é”ã€è‡ªé€‚åº”è‡ªæ—‹é”ã€é”æ¶ˆé™¤ã€é”ç²—åŒ–ã€åå‘é”ã€è½»é‡çº§é”ç­‰å‡å°‘æ¥é”çš„å¼€é”€ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è¯´è¯´synchronizedæ€ä¹ˆä½¿ç”¨çš„&#34;&gt;è¯´è¯´synchronizedæ€ä¹ˆä½¿ç”¨çš„ï¼Ÿ&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;åŠ åœ¨å®ä¾‹æ–¹æ³•ä¸Šï¼Œè·å–çš„æ˜¯å½“å‰å¯¹è±¡å®ä¾‹çš„é”&lt;/li&gt;
&lt;li&gt;åŠ åœ¨é™æ€æ–¹æ³•ä¸Šï¼Œè·å–çš„æ˜¯classçš„é”ï¼Œä¸ä¼šä¸å®ä¾‹å¯¹è±¡ä¸Šçš„é”å†²çª&lt;/li&gt;
&lt;li&gt;åŠ è½½æŸä¸€ä»£ç å—ä¸Šï¼Œå¯ä»¥thisæ¥è¡¨ç¤ºè¦è·å¾—å½“å‰å¯¹è±¡çš„é”ï¼Œä¹Ÿå¯ä»¥å†™ç±».classè¡¨ç¤ºè·å–ç±»çš„é”&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ä½¿ç”¨synchronizedå®ç°åŒé‡æ£€éªŒé”æ–¹æ³•å†™çš„å•ä¾‹æ¨¡å¼&#34;&gt;ä½¿ç”¨synchronizedå®ç°åŒé‡æ£€éªŒé”æ–¹æ³•å†™çš„å•ä¾‹æ¨¡å¼&lt;/h2&gt;
&lt;p&gt;ä¿è¯äº†çº¿ç¨‹å®‰å…¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// å•ä¾‹ï¼šåŒé‡æ ¡éªŒé”
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Singleton&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;volatile&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Singleton&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;instance&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;Singleton&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Singleton&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getUniqueInstance&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;instance&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;kd&#34;&gt;synchronized&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Singleton&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;instance&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;instance&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Singleton&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;instance&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸ºä»€ä¹ˆè¦åŠ åŒé‡é”å‘¢ï¼Œå› ä¸º&lt;code&gt;instance = new Singleton();&lt;/code&gt; è¿™æ®µä»£ç å…¶å®æ˜¯åˆ†ä¸‰æ­¥æ‰§è¡Œçš„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸ºinstanceåˆ†é…ç©ºé—´&lt;/li&gt;
&lt;li&gt;åˆå§‹åŒ–instance&lt;/li&gt;
&lt;li&gt;å°†instanceæŒ‡å‘åˆ†é…çš„å†…å­˜åœ°å€&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä½†æ˜¯ç”±äºJVMæœ‰æŒ‡ä»¤é‡æ’çš„ç‰¹æ€§ï¼Œæ‰§è¡Œå¾ªåºåˆå¯èƒ½å˜æˆ1â†’3â†’2ï¼Œå¤šçº¿ç¨‹ç¯å¢ƒä¸‹æœ‰å¯èƒ½å¯¼è‡´ä¸€ä¸ªçº¿ç¨‹è·å¾—ä¸€ä¸ªè¿˜æ²¡æœ‰åˆå§‹åŒ–çš„å®ä¾‹ã€‚æ¯”å¦‚çº¿ç¨‹Aæ‰§è¡Œäº†1å’Œ3ï¼Œæ­¤æ—¶çº¿ç¨‹Bè°ƒç”¨getUniqueInstance()åå‘ç°instanceä¸ä¸ºç©ºï¼Œä½†æ˜¯å¾—åˆ°çš„instanceæ­¤æ—¶è¿˜æœªè¢«åˆå§‹åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨Â &lt;code&gt;volatile&lt;/code&gt;Â å¯ä»¥ç¦æ­¢ JVM çš„æŒ‡ä»¤é‡æ’ï¼Œä¿è¯åœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ä¹Ÿèƒ½æ­£å¸¸è¿è¡Œã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ„é€ æ–¹æ³•å¯ä»¥ä½¿ç”¨synchronizedå…³é”®å­—ä¿®é¥°å—&#34;&gt;æ„é€ æ–¹æ³•å¯ä»¥ä½¿ç”¨synchronizedå…³é”®å­—ä¿®é¥°å—ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;æ„é€ æ–¹æ³•ä¸èƒ½ç”¨synchronizedå…³é”®å­—ä¿®é¥°ï¼Œå› ä¸ºæ„é€ æ–¹æ³•æœ¬èº«å°±æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä¸å­˜åœ¨åŒæ­¥çš„æ„é€ æ–¹æ³•ä¸€è¯´ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è®²ä¸€ä¸‹synchronizedå…³é”®å­—çš„åº•å±‚åŸç†&#34;&gt;è®²ä¸€ä¸‹synchronizedå…³é”®å­—çš„åº•å±‚åŸç†ï¼Ÿ&lt;/h2&gt;
&lt;h3 id=&#34;åŒæ­¥ä»£ç å—&#34;&gt;åŒæ­¥ä»£ç å—&lt;/h3&gt;
&lt;p&gt;æŸ¥çœ‹ä½¿ç”¨äº†synchronizedå…³é”®å­—çš„ä»£ç çš„å­—èŠ‚ç ï¼Œä¼šå‘ç°&lt;strong&gt;åŒæ­¥è¯­å—&lt;/strong&gt;ä½¿ç”¨çš„æ˜¯&lt;code&gt;monitorenter&lt;/code&gt;å’Œ&lt;code&gt;montorexit&lt;/code&gt; æŒ‡ä»¤ï¼Œ&lt;code&gt;monitorenter&lt;/code&gt; æŒ‡ä»¤æŒ‡å‘åŒæ­¥ä»£ç å—çš„å¼€å§‹ä½ç½®ï¼Œ&lt;code&gt;monitorexit&lt;/code&gt; æŒ‡ä»¤è¡¨ç¤ºåŒæ­¥ä»£ç å—çš„ç»“æŸä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;å½“æ‰§è¡ŒÂ &lt;code&gt;monitorenter&lt;/code&gt;Â æŒ‡ä»¤æ—¶ï¼Œçº¿ç¨‹è¯•å›¾è·å–é”ä¹Ÿå°±æ˜¯è·å–Â &lt;strong&gt;å¯¹è±¡ç›‘è§†å™¨Â &lt;code&gt;monitor&lt;/code&gt;&lt;/strong&gt;Â çš„æŒæœ‰æƒã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ‰§è¡Œ&lt;code&gt;monitorenter&lt;/code&gt;æ—¶ï¼Œä¼šå°è¯•è·å–å¯¹è±¡çš„é”ï¼Œå¦‚æœé”çš„è®¡æ•°å™¨ä¸º 0 åˆ™è¡¨ç¤ºé”å¯ä»¥è¢«è·å–ï¼Œè·å–åå°†é”è®¡æ•°å™¨è®¾ä¸º 1 ä¹Ÿå°±æ˜¯åŠ  1ã€‚å¦‚æœè·å–å¯¹è±¡é”å¤±è´¥ï¼Œé‚£å½“å‰çº¿ç¨‹å°±è¦é˜»å¡ç­‰å¾…ï¼Œç›´åˆ°é”è¢«å¦å¤–ä¸€ä¸ªçº¿ç¨‹é‡Šæ”¾ä¸ºæ­¢ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨æ‰§è¡Œ &lt;code&gt;monitorexit&lt;/code&gt; æŒ‡ä»¤åï¼Œå°†é”è®¡æ•°å™¨è®¾ä¸º 0ï¼Œè¡¨æ˜é”è¢«é‡Šæ”¾ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åŒæ­¥æ–¹æ³•&#34;&gt;åŒæ­¥æ–¹æ³•&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;synchronized&lt;/code&gt;Â ä¿®é¥°çš„æ–¹æ³•å¹¶æ²¡æœ‰Â &lt;code&gt;monitorenter&lt;/code&gt;Â æŒ‡ä»¤å’ŒÂ &lt;code&gt;monitorexit&lt;/code&gt;Â æŒ‡ä»¤ï¼Œå–å¾—ä»£ä¹‹çš„ç¡®å®æ˜¯Â &lt;code&gt;ACC_SYNCHRONIZED&lt;/code&gt;Â æ ‡è¯†ï¼Œè¯¥æ ‡è¯†æŒ‡æ˜äº†è¯¥æ–¹æ³•æ˜¯ä¸€ä¸ªåŒæ­¥æ–¹æ³•ã€‚JVM é€šè¿‡è¯¥Â &lt;code&gt;ACC_SYNCHRONIZED&lt;/code&gt;Â è®¿é—®æ ‡å¿—æ¥è¾¨åˆ«ä¸€ä¸ªæ–¹æ³•æ˜¯å¦å£°æ˜ä¸ºåŒæ­¥æ–¹æ³•ï¼Œä»è€Œæ‰§è¡Œç›¸åº”çš„åŒæ­¥è°ƒç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡ä¸¤è€…çš„æœ¬è´¨éƒ½æ˜¯å¯¹å¯¹è±¡ç›‘è§†å™¨monitorçš„è·å–&lt;/p&gt;
&lt;h2 id=&#34;è¯´è¯´-jdk16-ä¹‹åçš„-synchronized-å…³é”®å­—åº•å±‚åšäº†å“ªäº›ä¼˜åŒ–å¯ä»¥è¯¦ç»†ä»‹ç»ä¸€ä¸‹è¿™äº›ä¼˜åŒ–å—&#34;&gt;&lt;strong&gt;è¯´è¯´ JDK1.6 ä¹‹åçš„ synchronized å…³é”®å­—åº•å±‚åšäº†å“ªäº›ä¼˜åŒ–ï¼Œå¯ä»¥è¯¦ç»†ä»‹ç»ä¸€ä¸‹è¿™äº›ä¼˜åŒ–å—ï¼Ÿ&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;JDK1.6 å¯¹é”çš„å®ç°å¼•å…¥äº†å¤§é‡çš„ä¼˜åŒ–ï¼Œå¦‚&lt;code&gt;åå‘é”&lt;/code&gt;ã€&lt;code&gt;è½»é‡çº§é”&lt;/code&gt;ã€&lt;code&gt;è‡ªæ—‹é”&lt;/code&gt;ã€&lt;code&gt;é€‚åº”æ€§è‡ªæ—‹é”&lt;/code&gt;ã€&lt;code&gt;é”æ¶ˆé™¤&lt;/code&gt;ã€&lt;code&gt;é”ç²—åŒ–&lt;/code&gt;ç­‰æŠ€æœ¯æ¥å‡å°‘é”æ“ä½œçš„å¼€é”€ã€‚&lt;/p&gt;
&lt;p&gt;é”ä¸»è¦å­˜åœ¨å››ç§çŠ¶æ€ï¼Œä¾æ¬¡æ˜¯ï¼š&lt;code&gt;æ— é”çŠ¶æ€&lt;/code&gt;ã€&lt;code&gt;åå‘é”çŠ¶æ€&lt;/code&gt;ã€&lt;code&gt;è½»é‡çº§é”çŠ¶æ€&lt;/code&gt;ã€&lt;code&gt;é‡é‡çº§é”çŠ¶æ€&lt;/code&gt;ï¼Œä»–ä»¬ä¼šéšç€ç«äº‰çš„æ¿€çƒˆè€Œé€æ¸å‡çº§ã€‚æ³¨æ„é”å¯ä»¥å‡çº§ä¸å¯é™çº§ï¼Œè¿™ç§ç­–ç•¥æ˜¯ä¸ºäº†æé«˜è·å¾—é”å’Œé‡Šæ”¾é”çš„æ•ˆç‡ã€‚&lt;/p&gt;
&lt;p&gt;å…³äºå…·ä½“çš„ä¼˜åŒ–å’ŒJavaä¸­å„ç§é”çš„ä»‹ç»ï¼Œåœ¨&lt;a class=&#34;link&#34; href=&#34;https://ccqstark.github.io/p/concurrent_synchronized_optimization/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Synchronizedä¼˜åŒ–ç¯‡â€”â€”Javaä¸­çš„å„ç§é”&lt;/a&gt;ä¸­ä»‹ç»ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è°ˆè°ˆ-synchronized-å’Œ-reentrantlock-çš„åŒºåˆ«&#34;&gt;è°ˆè°ˆ synchronized å’Œ ReentrantLock çš„åŒºåˆ«ï¼Ÿ&lt;/h2&gt;
&lt;h3 id=&#34;ç›¸åŒç‚¹&#34;&gt;ç›¸åŒç‚¹ï¼š&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ä¸¤è€…éƒ½æ˜¯å¯é‡å…¥é”&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;â€œå¯é‡å…¥é”â€æŒ‡çš„æ˜¯å¯ä»¥å†æ¬¡è·å–è‡ªå·±å·²ç»è·å¾—çš„é”ã€‚å¦‚æœé”ä¸å¯é‡å…¥çš„è¯å°±ä¼šå¯¼è‡´æ­»é”ã€‚åŒä¸€ä¸ªçº¿ç¨‹è·å–é”ï¼Œé”çš„è®¡æ•°å™¨ä¼šè‡ªå¢1ï¼Œæ‰€ä»¥è¦ç­‰åˆ°é”çš„è®¡æ•°å™¨ä¸‹é™ä¸º0æ—¶æ‰èƒ½é‡Šæ”¾é”ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸åŒç‚¹&#34;&gt;ä¸åŒç‚¹ï¼š&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;synchronizedä¾èµ–äºJVMè€ŒReentrantLockä¾èµ–äºAPI&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;synchronizedæ˜¯ä¾èµ–äºJVMå®ç°çš„ï¼ŒåŒ…æ‹¬ä¹‹å‰è¯´çš„Javaå®˜æ–¹åœ¨JDK1.6åšçš„å¾ˆå¤šä¼˜åŒ–ä¹Ÿæ˜¯åœ¨è™šæ‹Ÿæœºå±‚é¢å»å®ç°çš„ï¼Œæ²¡æœ‰ç›´æ¥æš´éœ²ç»™æˆ‘ä»¬ã€‚&lt;/p&gt;
&lt;p&gt;ReentrantLockæ˜¯JDKå±‚é¢å®ç°çš„ï¼Œå¯ä»¥ç›´æ¥æŸ¥çœ‹åˆ°æºç çœ‹ä»–æ˜¯æ€ä¹ˆå®ç°çš„ï¼Œè°ƒç”¨lock()å’Œunlock()æ–¹æ³•æ—¶ä¹Ÿè¦é…åˆtryï¼Œcatchå»å®Œæˆã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ReentrantLockæ¯”synchronizedå¢åŠ æ¥ä¸€äº›é«˜çº§åŠŸèƒ½&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç­‰å¾…å¯ä¸­æ–­&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æä¾›äº†&lt;code&gt;lockInterruptibly()&lt;/code&gt;æ–¹æ³•å®ç°äº†ç­‰å¾…å¯ä¸­æ–­æœºåˆ¶ï¼Œå°±æ˜¯å½“å‰çº¿ç¨‹åœ¨ç­‰å¾…é”çš„è¿‡ç¨‹ä¸­ï¼Œå¯ä»¥ä¸­æ–­æ¥æ”¾å¼ƒç­‰å¾…ï¼Œä¸å»è·å–é”äº†ã€‚ä¸è¿‡åªæœ‰è¯¥çº¿ç¨‹æ‰§è¡Œäº†&lt;code&gt;interrupt()&lt;/code&gt;æ–¹æ³•ä¹‹åï¼Œ&lt;code&gt;lockInterruptibly()&lt;/code&gt;æ‰èµ·ä½œç”¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯ä»¥æŒ‡å®šæ˜¯&lt;strong&gt;å…¬å¹³é”&lt;/strong&gt;è¿˜æ˜¯&lt;strong&gt;éå…¬å¹³é”&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å…·ä½“åœ¨&lt;a class=&#34;link&#34; href=&#34;https://ccqstark.github.io/p/concurrent_reentrantlock/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;RreentrantLockç¯‡&lt;/a&gt;ä¸­ä»‹ç»&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯å®ç°&lt;strong&gt;é€‰æ‹©æ€§é€šçŸ¥&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åŸæœ¬æˆ‘ä»¬çš„&lt;code&gt;notify()&lt;/code&gt; æ˜¯ç”±JVMè¿›è¡Œéšæœºå”¤é†’ä¸€æ¡çº¿ç¨‹çš„ï¼Œä½†æ˜¯ç”¨äº†&lt;code&gt;Condition&lt;/code&gt;æˆ‘ä»¬å¯ä»¥è¿›è¡ŒæŒ‡å®šå”¤é†’ï¼Œçº¿ç¨‹å¯¹è±¡å¯ä»¥æ³¨å†Œåœ¨æŒ‡å®šçš„&lt;code&gt;Condition&lt;/code&gt;ä¸Šï¼Œå®ç°â€œé€‰æ‹©æ€§é€šçŸ¥â€ã€‚&lt;/p&gt;
&lt;p&gt;è€Œ &lt;code&gt;notifyAll()&lt;/code&gt;æ–¹æ³•çš„è¯å°±ä¼šé€šçŸ¥æ‰€æœ‰å¤„äºç­‰å¾…çŠ¶æ€çš„çº¿ç¨‹ï¼Œé€ æˆå¾ˆå¤§çš„æ•ˆç‡é—®é¢˜ï¼Œè€Œ&lt;code&gt;Condition&lt;/code&gt;å®ä¾‹çš„&lt;code&gt;signalAll()&lt;/code&gt;æ–¹æ³•åªä¼šå”¤é†’æ³¨å†Œåœ¨è¯¥&lt;code&gt;Condition&lt;/code&gt;å®ä¾‹ä¸­çš„æ‰€æœ‰ç­‰å¾…çº¿ç¨‹ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;ä»€ä¹ˆæ˜¯è™šå‡å”¤é†’å¦‚ä½•é¿å…&#34;&gt;ä»€ä¹ˆæ˜¯è™šå‡å”¤é†’ï¼Ÿå¦‚ä½•é¿å…ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;è™šå‡å”¤é†’å°±æ˜¯æ¯”å¦‚ä¸€ä¸ªæ¶ˆè´¹è€…å’Œç”Ÿäº§è€…çš„åœºæ™¯ï¼Œå•†å“åªæœ‰ä¸€ä¸ªï¼Œç”Ÿäº§è€…ä¹Ÿåªæœ‰ä¸€ä¸ªï¼Œä½†æ˜¯æ¶ˆè´¹è€…æœ‰å¾ˆå¤šä¸ªã€‚å¦‚æœç”Ÿäº§è€…ç”Ÿäº§äº†ä¸€ä¸ªå•†å“å&lt;code&gt;notifyAll()&lt;/code&gt; ï¼Œé‚£å¾ˆå¤šä¸ªæ¶ˆè´¹è€…çº¿ç¨‹éƒ½ä¼šè¢«å”¤é†’ï¼Œä½†æ˜¯åªèƒ½æœ‰ä¸€ä¸ªè·å¾—é”å¹¶è¿›è¡Œæ¶ˆè´¹ï¼Œå…¶ä»–äººéƒ½è¿˜è·å–ä¸åˆ°ï¼Œå°±æ˜¯&lt;code&gt;è™šå‡å”¤é†’&lt;/code&gt;ï¼›ä½†æ˜¯å…¶ä»–äººéƒ½åœ¨è¿™ç¬¬ä¸€ä¸ªæ¶ˆè´¹è€…ä¹‹åè·å–äº†é”è¿˜ç»§ç»­æ‰§è¡Œäº†æ¶ˆè´¹çš„æ“ä½œï¼Œå¯¼è‡´å•†å“æ•°é‡å˜ä¸ºè´Ÿæ•°ï¼Œè¿™ä¸ªæ—¶å€™å°±å‡ºç°é—®é¢˜äº†ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;synchronized&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;consume&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; 
		&lt;span class=&#34;c1&#34;&gt;// ifæ¢æˆwhileæ¥è§£å†³ 
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;num&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;åº“å­˜å·²ç©ºï¼Œæ— æ³•æ¶ˆè´¹&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
						&lt;span class=&#34;c1&#34;&gt;// ç­‰å¾…ç”Ÿäº§è€…ç”Ÿäº§
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;wait&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;InterruptedException&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;printStackTrace&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
		
    &lt;span class=&#34;n&#34;&gt;num&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;--;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// è¿›è¡Œæ¶ˆè´¹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;notifyAll&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// å”¤é†’å…¶ä»–æ‰€æœ‰çº¿ç¨‹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å› ä¸ºå¤šä¸ªæ¶ˆè´¹è€…çº¿ç¨‹è¢«åŒæ—¶å”¤é†’åè¿›è¡Œèµ„æºäº‰æŠ¢ï¼Œä½†æ˜¯ä»–ä»¬è·å–é”ä¹‹åå°±ä¸å†åˆ¤æ–­å½“å‰èµ„æºæ˜¯å¦è¿˜æœ‰å‰©ä½™ï¼Œæˆ–è€…è¯´æ»¡è¶³æ¶ˆè´¹æ“ä½œçš„æ¡ä»¶å°±ç›´æ¥ç»§ç»­æ‰§è¡Œåé¢çš„æ¶ˆè´¹æ“ä½œäº†ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´èµ„æºè¶…å–å˜æˆè´Ÿæ•°ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³åŠæ³•å½“ç„¶æ˜¯è®©ä»–ä»¬åœ¨ä»&lt;code&gt;wait()&lt;/code&gt;è¿”å›è·å–é”ä¹‹åï¼Œä»ç„¶è¿˜è¦å†æ¬¡åˆ¤æ–­èµ„æºæ˜¯å¦æ»¡è¶³æ¡ä»¶ï¼Œé¿å…å‰é¢å·²ç»æœ‰åˆ«çš„æ¶ˆè´¹è€…å·²ç»æ¶ˆè´¹äº†ã€‚è€Œè®©ä»–ä»¬å†æ¬¡åˆ¤æ–­èµ„æºæ˜¯å¦æ»¡è¶³æ¡ä»¶é‚£å°±æŠŠ&lt;code&gt;if&lt;/code&gt;æ¢æˆ&lt;code&gt;while&lt;/code&gt;å°±å¯ä»¥äº†ï¼Œè¿™ä¹Ÿæ˜¯JDKå®˜æ–¹å»ºè®®çš„åšæ³•ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[å¹¶å‘ç¼–ç¨‹]åŸºç¡€ç¯‡</title>
        <link>https://ccqstark.github.io/p/concurrent_basic/</link>
        <pubDate>Sun, 05 Dec 2021 20:20:47 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/concurrent_basic/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/concurrent_basic/cover.png" alt="Featured image of post [å¹¶å‘ç¼–ç¨‹]åŸºç¡€ç¯‡" /&gt;&lt;h2 id=&#34;ä»€ä¹ˆæ˜¯è¿›ç¨‹ä»€ä¹ˆæ˜¯çº¿ç¨‹&#34;&gt;ä»€ä¹ˆæ˜¯è¿›ç¨‹ï¼Ÿä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;è¿›ç¨‹&lt;/code&gt;æ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œæ˜¯ç³»ç»Ÿè¿è¡Œç¨‹åºçš„åŸºæœ¬å•ä½ï¼Œè¿›ç¨‹æ˜¯ä¸€ä¸ªç³»ç»Ÿå¯¹ä¸€ä¸ªç¨‹åºä»åˆ›å»ºï¼Œè¿è¡Œåˆ°æ¶ˆäº¡çš„è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨Javaä¸­ï¼Œæˆ‘ä»¬å¯åŠ¨mainå‡½æ•°å°±æ˜¯å¯åŠ¨äº†ä¸€ä¸ªJVMçš„è¿›ç¨‹ï¼Œmainå‡½æ•°æ‰€åœ¨çº¿ç¨‹å°±æ˜¯è¿™ä¸ªè¿›ç¨‹ä¸­çš„ä¸»çº¿ç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;çº¿ç¨‹&lt;/code&gt;æ˜¯ç¨‹åºçš„ä¸€ä¸ªæ›´å°çš„æ‰§è¡Œå•ä½ï¼Œä¸€ä¸ªè¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯ä»¥äº§ç”Ÿå¤šä¸ªçº¿ç¨‹ã€‚ä¸åŒåœ¨ä¸ï¼ŒåŒç±»çš„å¤šä¸ªçº¿ç¨‹å¯ä»¥å…±äº«è¿›ç¨‹çš„&lt;code&gt;å †&lt;/code&gt;å’Œ&lt;code&gt;æ–¹æ³•åŒº&lt;/code&gt;èµ„æºï¼Œä½†æ¯ä¸ªçº¿ç¨‹æœ‰è‡ªå·±çš„&lt;code&gt;ç¨‹åºè®¡æ•°å™¨&lt;/code&gt;ã€&lt;code&gt;è™šæ‹Ÿæœºæ ˆ&lt;/code&gt;å’Œ&lt;code&gt;æœ¬åœ°æ–¹æ³•æ ˆ&lt;/code&gt;ï¼Œç³»ç»Ÿåœ¨çº¿ç¨‹ä¹‹é—´åˆ‡æ¢çš„ä»£ä»·è¦æ¯”è¿›ç¨‹å°å¾—å¤šã€‚&lt;/p&gt;
&lt;h2 id=&#34;è¯·ç®€è¦æè¿°çº¿ç¨‹ä¸è¿›ç¨‹çš„å…³ç³»åŒºåˆ«åŠä¼˜ç¼ºç‚¹&#34;&gt;è¯·ç®€è¦æè¿°çº¿ç¨‹ä¸è¿›ç¨‹çš„å…³ç³»,åŒºåˆ«åŠä¼˜ç¼ºç‚¹ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;ä»JVMçš„è§’åº¦è¯´æ˜&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/20211205174458.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/20211205174458.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªè¿›ç¨‹ä¸­åŒ…æ‹¬å¤šä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹å¯ä»¥å…±äº«è¿›ç¨‹çš„&lt;strong&gt;å †å’Œæ–¹æ³•åŒº&lt;/strong&gt;ï¼Œä½†æ˜¯æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„&lt;strong&gt;è™šæ‹Ÿæœºæ ˆï¼Œæœ¬åœ°æ–¹æ³•æ ˆï¼Œç¨‹åºè®¡æ•°å™¨&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;çº¿ç¨‹æ˜¯è¿›ç¨‹åˆ’åˆ†æˆçš„æ›´å°çš„è¿è¡Œå•ä½ï¼ŒåŒºåˆ«åœ¨ä¸è¿›ç¨‹åŸºæœ¬ä¸Šæ˜¯å„è‡ª&lt;strong&gt;ç‹¬ç«‹&lt;/strong&gt;çš„ï¼Œè€ŒåŒä¸€è¿›ç¨‹çš„ä¸åŒçº¿ç¨‹åˆ™å¯èƒ½ä¼šç›¸äº’å½±å“ã€‚çº¿ç¨‹&lt;strong&gt;å¼€é”€&lt;/strong&gt;æ›´å°ï¼Œä½†æ˜¯ä¸åˆ©äº&lt;strong&gt;èµ„æºçš„ç®¡ç†å’Œä¿æŠ¤&lt;/strong&gt;ï¼›è¿›ç¨‹åˆ™ç›¸åã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç¨‹åºè®¡æ•°å™¨ä¸ºä»€ä¹ˆæ˜¯ç§æœ‰çš„&#34;&gt;ç¨‹åºè®¡æ•°å™¨ä¸ºä»€ä¹ˆæ˜¯ç§æœ‰çš„ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;ç¨‹åºè®¡æ•°å™¨ä¸»è¦ä½œç”¨ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å­—èŠ‚ç è§£é‡Šå™¨é€šè¿‡æ”¹å˜ç¨‹åºè®¡æ•°å™¨çš„ä½ç½®æ¥è¯»å–æŒ‡ä»¤ï¼Œä»è€Œå®ç°ä»£ç çš„æµç¨‹æ§åˆ¶ã€‚å¦‚ï¼šé¡ºåºæ‰§è¡Œã€é€‰æ‹©ã€å¾ªç¯ã€å¼‚å¸¸å¤„ç†ã€‚&lt;/li&gt;
&lt;li&gt;å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œç¨‹åºè®¡æ•°å™¨ç”¨äºè®°å½•å½“å‰ç¨‹åºçš„è¿è¡Œåˆ°çš„ä½ç½®ï¼Œå½“ä»åˆ«çš„çº¿ç¨‹åˆ‡æ¢å›æ¥çš„æ—¶å€™æ‰èƒ½ä»ä¸Šæ¬¡è¿è¡Œåˆ°çš„ä½ç½®ç»§ç»­è¿è¡Œã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ‰€ä»¥ç¨‹åºè®¡æ•°å™¨ç§æœ‰ä¸»è¦æ˜¯ä¸ºäº†çº¿ç¨‹åˆ‡æ¢å›æ¥åï¼Œèƒ½ä»åŸæ¥åœæ­¢çš„ä½ç½®æ­£ç¡®æ¢å¤è¿è¡Œã€‚&lt;/p&gt;
&lt;h2 id=&#34;è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆä¸ºä»€ä¹ˆæ˜¯ç§æœ‰çš„&#34;&gt;è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆä¸ºä»€ä¹ˆæ˜¯ç§æœ‰çš„?&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;è™šæ‹Ÿæœºæ ˆ&lt;/code&gt;ï¼šæ¯ä¸ªJavaæ–¹æ³•åœ¨æ‰§è¡Œçš„åŒæ—¶ä¼šåˆ›å»ºä¸€ä¸ªæ ˆå¸§ç”¨äºå­˜å‚¨å±€éƒ¨å˜é‡è¡¨ã€å‡½æ•°è¿”å›åœ°å€å’Œå‚æ•°ã€åˆ’å®šæ ˆå¸§èŒƒå›´çš„ebpå’ŒespæŒ‡é’ˆç­‰ä¿¡æ¯ã€‚ä¸€ä¸ªæ–¹æ³•ä»è¢«è°ƒç”¨åˆ°æ‰§è¡Œå®Œæˆï¼Œå°±å¯¹åº”ç€ä¸€ä¸ªæ ˆå¸§åœ¨Javaè™šæ‹Ÿæœºä¸­å…¥æ ˆå’Œå‡ºæ ˆçš„è¿‡ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;æœ¬åœ°æ–¹æ³•æ ˆ&lt;/code&gt;ï¼šå’Œè™šæ‹Ÿæœºæ ˆä½œç”¨å·®ä¸å¤šï¼ŒåŒºåˆ«åœ¨ä¸è™šæ‹Ÿæœºæ ˆä¸ºè™šæ‹Ÿæœºæ‰§è¡ŒJavaæ–¹æ³•ï¼ˆä¹Ÿå°±æ˜¯å­—èŠ‚ç ï¼‰æœåŠ¡ï¼Œè€Œæœ¬åœ°æ–¹æ³•æ ˆåˆ™ä¸ºNativeæ–¹æ³•ç”¨çš„ã€‚åœ¨HotSpotè™šæ‹Ÿæœºä¸­ä¸¤è€…åˆäºŒä¸ºä¸€ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æ‰€ä»¥ä¸ºäº†ä¿è¯çº¿ç¨‹ä¸­çš„å±€éƒ¨å˜é‡ä¸è¢«åˆ«çš„çº¿ç¨‹è®¿é—®åˆ°ï¼Œè™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆå°±æ˜¯çº¿ç¨‹ç§æœ‰çš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç®€å•ä»‹ç»ä¸‹å †å’Œæ–¹æ³•åŒº&#34;&gt;ç®€å•ä»‹ç»ä¸‹å †å’Œæ–¹æ³•åŒº&lt;/h2&gt;
&lt;p&gt;å †å’Œæ–¹æ³•åŒºéƒ½æ˜¯çº¿ç¨‹å…±äº«çš„èµ„æºã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;å †&lt;/code&gt;æ˜¯è¿›ç¨‹ä¸­æœ€å¤§çš„ä¸€å—å†…å­˜ï¼Œä¸»è¦ç”¨äºå­˜æ”¾æ–°åˆ›å»ºçš„å¯¹è±¡ï¼Œå‡ ä¹æ‰€æœ‰çš„å¯¹è±¡éƒ½åœ¨è¿™é‡Œåˆ†é…å†…å­˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;æ–¹æ³•åŒº&lt;/code&gt;ä¸»è¦ç”¨äºå­˜æ”¾å·²è¢«åŠ è½½çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç­‰æ•°æ®ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è¯´è¯´å¹¶å‘å’Œå¹¶è¡Œçš„åŒºåˆ«&#34;&gt;è¯´è¯´å¹¶å‘å’Œå¹¶è¡Œçš„åŒºåˆ«ï¼Ÿ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å¹¶è¡Œï¼šåœ¨å•ä½æ—¶é—´å†…å¤šä¸ªä»»åŠ¡åŒæ—¶è¿›ç¨‹ï¼Œä¸€èˆ¬åœ¨æ˜¯å¤šæ ¸CPUä¸Šå‡ºç°ï¼Œ&lt;/li&gt;
&lt;li&gt;å¹¶å‘ï¼šåœ¨åŒä¸€æ®µæ—¶é—´å†…ï¼Œå¤šä¸ªä»»åŠ¡ç”±CPUåˆ‡æ¢ç€å¤„ç†ï¼Œåœ¨æŸä¸€ç¬é—´æ˜¯ä¸ä¸€å®šåŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡çš„ã€‚ä¾‹å¤–å°±æ˜¯å½“æˆ‘ä»¬CPUä½¿ç”¨äº†å› ç‰¹å°”çš„è¶…çº¿ç¨‹æŠ€æœ¯ï¼Œä¸€ä¸ªå†…æ ¸è¢«è™šæ‹Ÿæˆ2ä¸ªé€»è¾‘å†…æ ¸ï¼Œå½“ä¸¤ä¸ªä»»åŠ¡åˆ†åˆ«ç”¨åˆ°CPUçš„ä¸åŒè¿ç®—èµ„æºæ—¶ï¼Œæ¯”å¦‚ä¸€ä¸ªä»»åŠ¡è®¡ç®—æ•´æ•°å¦ä¸€ä¸ªè®¡ç®—æµ®ç‚¹æ•°ï¼Œè¿™ä¸ªæ—¶å€™å°±åˆå¯èƒ½æ˜¯çœŸçš„åŒæ—¶è¿›è¡Œçš„ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¤šçº¿ç¨‹&#34;&gt;ä¸ºä»€ä¹ˆè¦ä½¿ç”¨å¤šçº¿ç¨‹ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;ä»æ€»ä½“ä¸Šè¯´ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä»è®¡ç®—æœºåº•å±‚çš„è§’åº¦ï¼Œçº¿ç¨‹æ˜¯è½»é‡çº§çš„è¿›ç¨‹ï¼Œæ˜¯ç¨‹åºæ‰§è¡Œçš„æœ€å°å•ä½ï¼Œçº¿ç¨‹åˆ‡æ¢çš„å¼€é”€è¦è¿œå°äºè¿›ç¨‹çš„åˆ‡æ¢ï¼Œå¦å¤–å¤šæ ¸CPUæ—¶ä»£æ„å‘³ç€å¤šä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶è¿è¡Œï¼Œå†æ¬¡å‡å°‘äº†å¼€é”€ã€‚&lt;/li&gt;
&lt;li&gt;ä»å½“ä»£äº’è”ç½‘çš„å‘å±•è¶‹åŠ¿è§’åº¦ï¼šç°åœ¨çš„ç³»ç»ŸåŸºæœ¬ä¸Šå°±åŠ¨è¾„ç™¾ä¸‡åƒä¸‡çº§çš„å¹¶å‘ï¼Œå¤šçº¿ç¨‹æŠ€æœ¯å°±æ˜¯é«˜å¹¶å‘ç³»ç»Ÿçš„åŸºç¡€ï¼Œå¯ä»¥å¤§å¤§æé«˜ç³»ç»Ÿæ•´ä½“çš„æ€§èƒ½å’Œå¹¶å‘èƒ½åŠ›ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»è®¡ç®—æœºåº•å±‚æ¥è¯´ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å•æ ¸æ—¶ä»£ï¼šå¦‚æœæˆ‘ä»¬åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œé‚£è¯·æ±‚è¿›ç¨‹IOå°±ä¼šé˜»å¡æˆ‘ä»¬æ•´ä¸ªè¿›ç¨‹ï¼Œè€ŒCPUå°±ä¼šè¢«é—²ç½®äº†ï¼Œå¦‚æœç”±å¤šä¸ªçº¿ç¨‹ï¼Œé‚£æˆ‘ä»¬å¯ä»¥åœ¨ä¸€ä¸ªçº¿ç¨‹è¢«IOé˜»å¡çš„æ—¶å€™ï¼Œç”¨å¦ä¸€ä¸ªçº¿ç¨‹ç»§ç»­ä½¿ç”¨CPUçš„è¿ç®—èƒ½åŠ›ï¼Œæé«˜ç³»ç»Ÿæ•´ä½“çš„èµ„æºåˆ©ç”¨æ•ˆç‡ã€‚&lt;/li&gt;
&lt;li&gt;å¤šæ ¸æ—¶ä»£ï¼šå¦‚æœæœ‰å¤šä¸ªæ ¸å¿ƒï¼Œé‚£å¤šä¸ªçº¿ç¨‹å¯ä»¥æ˜ å°„ä¸åŒæ ¸å¿ƒä¸Šå¹¶è¡Œæ‰§è¡Œï¼Œåœ¨æ²¡å‘ç”Ÿèµ„æºäº‰æŠ¢çš„æƒ…å†µä¸‹æ‰§è¡Œæ•ˆç‡å°±ä¼šæ˜¾è‘—æé«˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ä½¿ç”¨å¤šçº¿ç¨‹å¯èƒ½ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜&#34;&gt;ä½¿ç”¨å¤šçº¿ç¨‹å¯èƒ½ä¼šå¸¦æ¥ä»€ä¹ˆé—®é¢˜ï¼Ÿ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;å†…å­˜æ³„æ¼ï¼šThreadLocalå°±å¯èƒ½ä¼šå¯¼è‡´å†…å­˜æ³„æ¼&lt;/li&gt;
&lt;li&gt;æ­»é”ï¼šä¸¤ä¸ªçº¿ç¨‹äº’ç›¸å ç”¨å¯¹æ–¹éœ€è¦çš„èµ„æºå¹¶äº’ç›¸ç­‰å¾…å…¶é‡Šæ”¾&lt;/li&gt;
&lt;li&gt;çº¿ç¨‹ä¸å®‰å…¨ï¼šå¤šçº¿ç¨‹è®¿é—®å¹¶ä¿®æ”¹ä¸´ç•Œèµ„æº&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è¯´è¯´çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå’ŒçŠ¶æ€&#34;&gt;è¯´è¯´çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸå’ŒçŠ¶æ€ï¼Ÿ&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;çŠ¶æ€åç§°&lt;/th&gt;
&lt;th&gt;è¯´æ˜&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;NEW&lt;/td&gt;
&lt;td&gt;åˆå§‹çŠ¶æ€ï¼Œçº¿ç¨‹è¢«æ„å»ºï¼Œä½†æ˜¯è¿˜æ²¡æœ‰è°ƒç”¨start()æ–¹æ³•&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;RUNNABLE&lt;/td&gt;
&lt;td&gt;è¿è¡ŒçŠ¶æ€ï¼ŒJavaçº¿ç¨‹å°†æ“ä½œç³»ç»Ÿä¸­çš„å°±ç»ªå’Œè¿è¡Œ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;BLOCKED&lt;/td&gt;
&lt;td&gt;é˜»å¡çŠ¶æ€ï¼Œè¡¨ç¤ºçº¿ç¨‹é˜»å¡äºé”&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;WAITING&lt;/td&gt;
&lt;td&gt;ç­‰å¾…çŠ¶æ€ï¼Œè¡¨ç¤ºçº¿ç¨‹è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œè¿›å…¥è¯¥çŠ¶æ€è¡¨ç¤ºå½“å‰çº¿ç¨‹éœ€è¦ç­‰å¾…å…¶å®ƒçº¿ç¨‹ä½œå‡ºä¸€äº›ç‰¹å®šåŠ¨ä½œï¼ˆé€šçŸ¥æˆ–ä¸­æ–­ï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;TIME_WAITING&lt;/td&gt;
&lt;td&gt;è¶…æ—¶ç­‰å¾…çŠ¶æ€ï¼Œè¯¥çŠ¶æ€ä¸åŒäºWAITINGï¼Œå®ƒæ˜¯å¯ä»¥åœ¨æŒ‡å®šçš„æ—¶é—´è‡ªè¡Œè¿”å›çš„&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;TERMINATED&lt;/td&gt;
&lt;td&gt;ç»ˆæ­¢çŠ¶æ€ï¼Œè¡¨ç¤ºå½“å‰çº¿ç¨‹å·²ç»æ‰§è¡Œå®Œæ¯•&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;çº¿ç¨‹éšç€ä»£ç çš„æ‰§è¡Œåœ¨ä¸åŒçŠ¶æ€ä¹‹é—´åˆ‡æ¢ï¼ŒJavaçº¿ç¨‹çŠ¶æ€å˜è¿å¦‚ä¸‹æ‰€ç¤ºï¼š&lt;/p&gt;
&lt;p&gt;ï¼ˆæ–‡å­—æè¿°çœç•¥ï¼Œè¦ç”¨è‡ªå·±çš„è¯èƒ½æè¿°å‡ºä¸‹é¢è¿™å‰¯å›¾ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/20211205192437.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/20211205192437.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä»€ä¹ˆæ˜¯ä¸Šä¸‹æ–‡åˆ‡æ¢&#34;&gt;ä»€ä¹ˆæ˜¯ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;çº¿ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æœ‰è‡ªå·±çš„è¿è¡Œæ¡ä»¶å’ŒçŠ¶æ€ï¼ˆä¹Ÿæˆä¸Šä¸‹æ–‡ï¼‰ï¼Œæ¯”å¦‚ç¨‹åºè®¡æ•°å™¨ï¼Œæ ˆå¸§çš„ä¸€äº›ä¿¡æ¯ï¼Œå‡ºç°å¦‚ä¸‹æƒ…å†µçš„æ—¶å€™ï¼Œçº¿ç¨‹ä¼šä»å ç”¨CPUçŠ¶æ€ä¸­é€€å‡ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è°ƒç”¨äº†&lt;code&gt;sleep()&lt;/code&gt;, &lt;code&gt;wait()&lt;/code&gt;ï¼Œä¸»åŠ¨è®©å‡ºCPU&lt;/li&gt;
&lt;li&gt;æ—¶é—´ç‰‡ç”¨å®Œ ï¼Œæ“ä½œç³»ç»Ÿè¦é˜²æ­¢ä¸€ä¸ªçº¿ç¨‹æˆ–è€…è¿›ç¨‹é•¿æ—¶é—´å ç”¨CPUå¯¼è‡´å…¶å®ƒçº¿ç¨‹é¥¿æ­»&lt;/li&gt;
&lt;li&gt;è°ƒç”¨äº†é˜»å¡ç±»çš„ç³»ç»Ÿä¸­æ–­ï¼Œæ¯”å¦‚è¯·æ±‚IOï¼Œçº¿ç¨‹è¢«é˜»å¡&lt;/li&gt;
&lt;li&gt;è¢«ç»ˆæ­¢æˆ–ç»“æŸè¿è¡Œ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å‰ä¸‰ç§éƒ½ä¼šå‘ç”Ÿçº¿ç¨‹åˆ‡æ¢ï¼Œè¿™æ„å‘³è¿™è¦ä¿å­˜çº¿ç¨‹çš„ä¸Šä¸‹æ–‡ï¼Œç•™ç€çº¿ç¨‹ä¸‹æ¬¡å ç”¨CPUçš„æ—¶å€™æ¢å¤ç°åœºï¼Œå¹¶åŠ è½½ä¸‹ä¸€ä¸ªè¦å ç”¨CPUçš„çº¿ç¨‹ä¸Šä¸‹æ–‡ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä»€ä¹ˆæ˜¯çº¿ç¨‹æ­»é”å¦‚ä½•é¿å…æ­»é”&#34;&gt;ä»€ä¹ˆæ˜¯çº¿ç¨‹æ­»é”ï¼Ÿå¦‚ä½•é¿å…æ­»é”ï¼Ÿ&lt;/h2&gt;
&lt;h3 id=&#34;è®¤è¯†çº¿ç¨‹æ­»é”&#34;&gt;è®¤è¯†çº¿ç¨‹æ­»é”&lt;/h3&gt;
&lt;p&gt;æ­»é”å°±æ˜¯å¤šä¸ªçº¿ç¨‹åŒæ—¶è¢«é˜»å¡ï¼Œä»–ä»¬ä¸­çš„ä¸€ä¸ªæˆ–è€…å…¨éƒ¨éƒ½åœ¨ç­‰å¾…æŸä¸ªèµ„æºè¢«é‡Šæ”¾ï¼Œè€Œèµ„æºå´åˆåŒæ—¶è¢«å¯¹æ–¹å ç”¨é”ä½ï¼Œæ­¤æ—¶çº¿ç¨‹å°±ä¼šæ— é™æœŸç­‰å¾…ï¼Œç¨‹åºå°±æ— æ³•æ­£å¸¸ç»ˆæ­¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/20211205194352.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed/images/20211205194352.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æ­»é”çš„ä»£ç ä¾‹å­ï¼ˆä»£ç æ¥æºäºã€Šå¹¶å‘ç¼–ç¨‹ä¹‹ç¾ã€‹ï¼‰ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;DeadLockDemo&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;resource1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//èµ„æº 1
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;resource2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//èµ„æº 2
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Thread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;kd&#34;&gt;synchronized&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;resource1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Thread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;currentThread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;get resource1&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;Thread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;sleep&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1000&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;InterruptedException&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;printStackTrace&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Thread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;currentThread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;waiting get resource2&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
                &lt;span class=&#34;kd&#34;&gt;synchronized&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;resource2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Thread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;currentThread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;get resource2&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;},&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;çº¿ç¨‹ 1&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;

        &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Thread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;kd&#34;&gt;synchronized&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;resource2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Thread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;currentThread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;get resource2&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;Thread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;sleep&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1000&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;InterruptedException&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;printStackTrace&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Thread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;currentThread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;waiting get resource1&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
                &lt;span class=&#34;kd&#34;&gt;synchronized&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;resource1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Thread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;currentThread&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;get resource1&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;},&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;çº¿ç¨‹ 2&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»£ç ä¸­å…ˆè®©çº¿ç¨‹Aè·å–èµ„æº1çš„é”ï¼Œå¦‚ä½•sleep1ç§’è®©ç³»ç»Ÿåˆ‡æ¢è¿è¡Œçº¿ç¨‹Bï¼Œçº¿ç¨‹Bè·å–èµ„æº2çš„é”ï¼Œç„¶åçº¿ç¨‹Aå’Œçº¿ç¨‹Béƒ½åœ¨å°è¯•è·å–è¢«å¯¹æ–¹å ç”¨ç€çš„èµ„æºï¼Œé™·å…¥äº’ç›¸ç­‰å¾…çš„çŠ¶æ€ï¼Œå› æ­¤ä¹Ÿé€ æˆäº†æ­»é”ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é€ æˆæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶&#34;&gt;é€ æˆæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;äº’æ–¥æ¡ä»¶ï¼šè¯¥èµ„æºä»»æ„ä¸€ä¸ªæ—¶åˆ»åªç”±ä¸€ä¸ªçº¿ç¨‹å ç”¨ã€‚&lt;/li&gt;
&lt;li&gt;è¯·æ±‚ä¸ä¿æŒæ¡ä»¶ï¼šä¸€ä¸ªè¿›ç¨‹å› è¯·æ±‚èµ„æºè€Œé˜»å¡æ—¶ï¼Œå¯¹å·²è·å¾—çš„èµ„æºä¿æŒä¸æ”¾ã€‚&lt;/li&gt;
&lt;li&gt;ä¸å‰¥å¤ºæ¡ä»¶ï¼šçº¿ç¨‹å·²è·å¾—çš„èµ„æºåœ¨æœªä½¿ç”¨å®Œä¹‹å‰ä¸èƒ½è¢«å…¶ä»–çº¿ç¨‹å¼ºè¡Œå‰¥å¤ºï¼Œåªæœ‰è‡ªå·±ä½¿ç”¨å®Œæ¯•åæ‰é‡Šæ”¾èµ„æºã€‚&lt;/li&gt;
&lt;li&gt;å¾ªç¯ç­‰å¾…æ¡ä»¶ï¼šè‹¥å¹²è¿›ç¨‹ä¹‹é—´å½¢æˆä¸€ç§å¤´å°¾ç›¸æ¥çš„å¾ªç¯ç­‰å¾…èµ„æºå…³ç³»ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å¦‚ä½•é¢„é˜²æ­»é”&#34;&gt;å¦‚ä½•é¢„é˜²æ­»é”ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;ç ´åæ­»é”äº§ç”Ÿçš„å¿…è¦æ¡ä»¶å³å¯&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä¸€æ¬¡æ€§ç”³è¯·æ‰€æœ‰èµ„æº&lt;/li&gt;
&lt;li&gt;ç ´ç¯ä¸å‰¥å¤ºæ¡ä»¶ï¼šå ç”¨éƒ¨åˆ†èµ„æºçš„çº¿ç¨‹è¿›ä¸€æ­¥ç”³è¯·å…¶å®ƒèµ„æºæ—¶ï¼Œå¦‚æœç”³è¯·ä¸åˆ°ï¼Œå¯ä»¥ä¸»åŠ¨é‡Šæ”¾èµ„æºã€‚&lt;/li&gt;
&lt;li&gt;é æŒ‰åºç”³è¯·èµ„æºæ¥é¢„é˜²ã€‚æŒ‰æŸä¸€é¡ºåºç”³è¯·èµ„æºï¼Œé‡Šæ”¾èµ„æºåˆ™ååºé‡Šæ”¾ã€‚ç ´åå¾ªç¯ç­‰å¾…æ¡ä»¶æ¡ä»¶ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;å¦‚æœé¿å…æ­»é”&#34;&gt;å¦‚æœé¿å…æ­»é”ï¼Ÿ&lt;/h3&gt;
&lt;p&gt;é¿å…æ­»é”å°±æ˜¯åœ¨èµ„æºåˆ†é…æ—¶ï¼Œå€ŸåŠ©ç®—æ³•ï¼ˆæ¯”å¦‚é“¶è¡Œå®¶ç®—æ³•ï¼‰å¯¹èµ„æºåˆ†é…è¿›è¡Œè®¡ç®—è¯„ä¼°ï¼Œä½¿å…¶è¿›å…¥å®‰å…¨çŠ¶æ€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®‰å…¨çŠ¶æ€&lt;/strong&gt;æŒ‡çš„æ˜¯ç³»ç»Ÿèƒ½å¤ŸæŒ‰ç…§æŸç§è¿›ç¨‹æ¨è¿›é¡ºåºï¼ˆP1ã€P2ã€P3&amp;hellip;..Pnï¼‰æ¥ä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…æ‰€éœ€èµ„æºï¼Œç›´åˆ°æ»¡è¶³æ¯ä¸ªè¿›ç¨‹å¯¹èµ„æºçš„æœ€å¤§éœ€æ±‚ï¼Œä½¿æ¯ä¸ªè¿›ç¨‹éƒ½å¯é¡ºåˆ©å®Œæˆã€‚ç§°&amp;lt;P1ã€P2ã€P3&amp;hellip;..Pn&amp;gt;åºåˆ—ä¸ºå®‰å…¨åºåˆ—ã€‚
ä¸Šè¿°ä»£ç çº¿ç¨‹Bçš„è·å–èµ„æºé¡ºåºæ”¹ä¸ºèµ„æº1â†’èµ„æº2å°±å¯ä»¥è§£å†³æ­»é”ï¼Œå› ä¸ºçº¿ç¨‹Aé¦–å…ˆè·å–äº†èµ„æº1ï¼Œçº¿ç¨‹Bå†å»è·å–å°±å¾—ä¸åˆ°äº†ï¼Œå°±é˜»å¡åœ¨è¿™é‡Œï¼Œç„¶åèµ„æº2ä¹Ÿä¸ä¼šè¢«å®ƒè·å–ï¼Œè€Œæ˜¯è¢«çº¿ç¨‹Aé¡ºåˆ©è·å–ã€‚çº¿ç¨‹Aä½¿ç”¨å®Œåé‡Šæ”¾èµ„æº1å’Œ2çº¿ç¨‹Bä¹Ÿå¯ä»¥æ­£å¸¸è·å–ï¼Œè¿™å°±ç ´åäº†å¾ªç¯ç­‰å¾…çš„æ¡ä»¶ï¼Œé¿å…äº†æ­»é”ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è¯´è¯´sleepæ–¹æ³•å’Œwaitæ–¹æ³•åŒºåˆ«å’Œå…±åŒç‚¹&#34;&gt;è¯´è¯´sleep()æ–¹æ³•å’Œwait()æ–¹æ³•åŒºåˆ«å’Œå…±åŒç‚¹ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;å…±åŒç‚¹ï¼šä¸¤è€…éƒ½å¯ä»¥ç”¨äºæš‚åœçº¿ç¨‹çš„æ‰§è¡Œã€‚&lt;/p&gt;
&lt;p&gt;ä¸¤è€…çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;sleep()&lt;/code&gt;æ–¹æ³•ä¸ä¼šé‡Šæ”¾é”ï¼Œè€Œ&lt;code&gt;wait()&lt;/code&gt;æ–¹æ³•é‡Šæ”¾äº†é”ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;wait()&lt;/code&gt;æ–¹æ³•é€šå¸¸ç”¨äºçº¿ç¨‹é—´äº¤äº’/é€šä¿¡ï¼Œ&lt;code&gt;sleep()&lt;/code&gt;ä¸»è¦ç”¨äºæš‚åœçº¿ç¨‹çš„æ‰§è¡Œ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;wait()&lt;/code&gt;æ–¹æ³•è¢«è°ƒç”¨åï¼Œçº¿ç¨‹ä¸ä¼šè‡ªåŠ¨è‹é†’ï¼Œéœ€è¦åˆ«çš„çº¿ç¨‹è°ƒç”¨åŒä¸€ä¸ªå¯¹è±¡ä¸Šçš„&lt;code&gt;notify()&lt;/code&gt;æˆ–è€…&lt;code&gt;notifyAll()&lt;/code&gt;æ–¹æ³•ã€‚sleep()æ–¹æ³•æ‰§è¡Œå®Œæˆä¹‹åçº¿ç¨‹ä¼šè‡ªåŠ¨è‹é†’ã€‚æˆ–è€…å¯ä»¥ç”¨&lt;code&gt;wait(long timeout)&lt;/code&gt;è¶…æ—¶åçº¿ç¨‹ä¼šè‡ªåŠ¨è‹é†’.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆæˆ‘ä»¬è°ƒç”¨-start-æ–¹æ³•æ—¶ä¼šæ‰§è¡Œ-run-æ–¹æ³•ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸èƒ½ç›´æ¥è°ƒç”¨-run-æ–¹æ³•&#34;&gt;ä¸ºä»€ä¹ˆæˆ‘ä»¬è°ƒç”¨ start() æ–¹æ³•æ—¶ä¼šæ‰§è¡Œ run() æ–¹æ³•ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸èƒ½ç›´æ¥è°ƒç”¨ run() æ–¹æ³•ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;newä¸€ä¸ªThreadè¿›å…¥æ–°å»ºçŠ¶æ€ï¼Œç„¶åè°ƒç”¨&lt;code&gt;start()&lt;/code&gt; æ–¹æ³•å°±ä¼šå¯åŠ¨è¿™ä¸ªçº¿ç¨‹è¿›å…¥å°±ç»ªçŠ¶æ€ï¼Œå½“åˆ†é…åˆ°æ—¶é—´ç‰‡å°±å¯ä»¥å¼€å§‹æ‰§è¡Œäº†ã€‚start()ä¼šæ‰§è¡Œçº¿ç¨‹çš„ä¸€äº›å‡†å¤‡å·¥ä½œï¼Œç„¶åå°±ä¼šè‡ªåŠ¨æ‰§è¡Œrun()æ–¹æ³•ä¸­çš„å†…å®¹ï¼Œè¿™å°±æ˜¯çœŸæ­£çš„å¤šçº¿ç¨‹å·¥ä½œã€‚&lt;/p&gt;
&lt;p&gt;ä½†æ˜¯å¦‚æœç›´æ¥æ‰§è¡Œrun()æ–¹æ³•ï¼Œä¼šæŠŠrun()å½“æˆmainçº¿ç¨‹ä¸‹çš„ä¸€ä¸ªæ™®é€šæ–¹æ³•è¿›è¡Œæ‰§è¡Œï¼Œè€Œä¸ä¼šåœ¨ä¸€ä¸ªæ–°çš„çº¿ç¨‹ä¸­å»æ‰§è¡Œå®ƒï¼Œæ‰€ä»¥è¿™å¹¶ä¸æ˜¯å¤šçº¿ç¨‹å·¥ä½œã€‚&lt;/p&gt;
&lt;h2 id=&#34;å‚è€ƒ&#34;&gt;å‚è€ƒ&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://javaguide.cn/java/concurrent/java%E5%B9%B6%E5%8F%91%E5%9F%BA%E7%A1%80%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98%E6%80%BB%E7%BB%93/#%E4%B8%80%E5%8F%A5%E8%AF%9D%E7%AE%80%E5%8D%95%E4%BA%86%E8%A7%A3%E5%A0%86%E5%92%8C%E6%96%B9%E6%B3%95%E5%8C%BA&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Java å¹¶å‘å¸¸è§çŸ¥è¯†ç‚¹&amp;amp;é¢è¯•é¢˜æ€»ç»“ï¼ˆåŸºç¡€ç¯‡ï¼‰&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://juejin.cn/post/6844903616524845063&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æ ˆå¸§(Stack Frame) - æ˜é‡‘&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.zhihu.com/question/20277695&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;è¶…çº¿ç¨‹æŠ€æœ¯åœ¨çº¿ç¨‹è¿™ä¸ªå±‚é¢æ˜¯å¦æ˜¯çœŸæ­£çš„ç©ºé—´å¹¶è¡Œï¼Ÿ&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>å…³äºCORSçš„Access-Control-Allow-Credentialsè®¾ç½®é—®é¢˜</title>
        <link>https://ccqstark.github.io/p/cors_credentials/</link>
        <pubDate>Thu, 02 Dec 2021 18:31:11 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/cors_credentials/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/cors_credentials/cover.png" alt="Featured image of post å…³äºCORSçš„Access-Control-Allow-Credentialsè®¾ç½®é—®é¢˜" /&gt;&lt;h2 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;ä¼—æ‰€å‘¨çŸ¥ï¼Œè·¨åŸŸè®¾ç½®CORSçš„è¯æˆ‘ä»¬éœ€è¦è®¾ç½®&lt;code&gt;Access-Control-Allow-Origin&lt;/code&gt;ã€&lt;code&gt;Access-Control-Allow-Methods&lt;/code&gt; ç­‰headerï¼Œä½†æ˜¯æˆ‘ä»¬çš„&lt;code&gt;Access-Control-Allow-Origin&lt;/code&gt; åªèƒ½è®¾ç½®ä¸ºä¸‰ç§æƒ…å†µï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ˜Ÿå· *&lt;/li&gt;
&lt;li&gt;å•åŸŸå&lt;/li&gt;
&lt;li&gt;none&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åŒæ—¶è¿˜æœ‰ä¸€ä¸ªé™åˆ¶å°±æ˜¯è®¾ç½®ä¸ºæ˜Ÿå·çš„æ—¶å€™ï¼Œ&lt;code&gt;Access-Control-Allow-Credentials&lt;/code&gt; ä¸èƒ½è®¾ç½®ä¸ºtrueï¼Œä¸‹é¢æ¥è‡ª&lt;a class=&#34;link&#34; href=&#34;https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;MDN&lt;/a&gt;ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯¹äºé™„å¸¦èº«ä»½å‡­è¯çš„è¯·æ±‚ï¼ŒæœåŠ¡å™¨ä¸å¾—è®¾ç½®Â &lt;code&gt;Access-Control-Allow-Origin&lt;/code&gt;Â çš„å€¼ä¸ºâ€œ&lt;code&gt;*&lt;/code&gt;â€ã€‚è¿™æ˜¯å› ä¸ºè¯·æ±‚çš„é¦–éƒ¨ä¸­æºå¸¦äº†Â &lt;code&gt;Cookie&lt;/code&gt;Â ä¿¡æ¯ï¼Œå¦‚æœÂ &lt;code&gt;Access-Control-Allow-Origin&lt;/code&gt;Â çš„å€¼ä¸ºâ€œ&lt;code&gt;*&lt;/code&gt;â€ï¼Œè¯·æ±‚å°†ä¼šå¤±è´¥ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;è€Œ&lt;code&gt;Access-Control-Allow-Credentials&lt;/code&gt; åˆ™ä¸€èˆ¬æ˜¯æœåŠ¡å™¨ç”¨æ¥è®¾ç½®æ˜¯å¦å…è®¸å‰ç«¯æºå¸¦Cookiesçš„æ ‡å¿—ä½ï¼Œ&lt;code&gt;withCredentials&lt;/code&gt; æ˜¯å‰ç«¯ç”¨æ¥è¡¨ç¤ºæ˜¯å¦ç»™æœåŠ¡å™¨å‘è¯·æ±‚çš„æ—¶å€™å¸¦ä¸ŠCookiesçš„æ ‡å¿—ä½ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å°†Â &lt;code&gt;[XMLHttpRequest](https://developer.mozilla.org/en-US/DOM/XMLHttpRequest)&lt;/code&gt;çš„Â &lt;code&gt;withCredentials&lt;/code&gt;Â æ ‡å¿—è®¾ç½®ä¸ºÂ &lt;code&gt;true&lt;/code&gt;ï¼Œä»è€Œå‘æœåŠ¡å™¨å‘é€Â Cookiesã€‚å› ä¸ºè¿™æ˜¯ä¸€ä¸ªç®€å•Â GET è¯·æ±‚ï¼Œæ‰€ä»¥æµè§ˆå™¨ä¸ä¼šå¯¹å…¶å‘èµ·â€œé¢„æ£€è¯·æ±‚â€ã€‚ä½†æ˜¯ï¼Œå¦‚æœæœåŠ¡å™¨ç«¯çš„å“åº”ä¸­æœªæºå¸¦Â &lt;code&gt;Access-Control-Allow-Credentials: true&lt;/code&gt;Â ï¼Œæµè§ˆå™¨å°†ä¸ä¼šæŠŠå“åº”å†…å®¹è¿”å›ç»™è¯·æ±‚çš„å‘é€è€…ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;åŸºäºä»¥ä¸Šçš„è§„åˆ™ï¼Œå¦‚æœæˆ‘ä»¬éœ€è¦å‘Cookiesçš„è¯ï¼Œå‰ç«¯&lt;code&gt;withCredentials&lt;/code&gt; å’Œåç«¯çš„&lt;code&gt;Access-Control-Allow-Credentials&lt;/code&gt; éƒ½è¦è®¾ç½®ä¸ºtrueï¼ŒåŒæ—¶&lt;code&gt;Access-Control-Allow-Origin&lt;/code&gt; ä¸èƒ½è®¾ç½®ä¸ºæ˜Ÿå·ï¼Œåªèƒ½è®¾ç½®ä¸ºå•åŸŸåã€‚&lt;/p&gt;
&lt;h2 id=&#34;é—®é¢˜&#34;&gt;é—®é¢˜&lt;/h2&gt;
&lt;p&gt;ä½†æ˜¯åœ¨æˆ‘çœ‹ä¸€ä¸ªå¼€æºé¡¹ç›®æºç çš„æ—¶å€™ï¼Œçœ‹åˆ°å®ƒCORSçš„åœ°æ–¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;addCorsMappings&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CorsRegistry&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;registry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;registry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;addMapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/**&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;allowedOrigins&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;*&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
          &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;allowedMethods&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;GET&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;HEAD&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;POST&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;PUT&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;DELETE&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;OPTIONS&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
          &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;allowCredentials&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;maxAge&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;3600&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‡ºç°äº†ç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆå®ƒåŒæ—¶è®¾ä¸ºæ˜Ÿå·åŒæ—¶è®¾ç½®äº†trueä½†æ˜¯ä»ç„¶è¯·æ±‚æ­£å¸¸å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æ‰“å¼€äº†F12çœ‹å“åº”çš„headerï¼Œå‘ç°&lt;code&gt;Access-Control-Allow-Origin&lt;/code&gt; æ˜¯å‰ç«¯çš„åœ°å€ï¼Œä¸æ˜¯è®¾ç½®äº†æ˜Ÿå·å—ï¼Œæ€ä¹ˆå˜æˆå•originäº†ï¼Ÿç„¶åæŠŠallowCredentialsæ–¹æ³•é‡Œä¼ ä¸ªfalseï¼Œå‘ç°è¯·æ±‚å°±å¼‚å¸¸äº†ï¼Œå¼€å§‹æä¸æ‡‚äº†ï¼Œå› ä¸ºè¿™ä¸ªé¡¹ç›®å…¶å®ä¹Ÿæ²¡æœ‰ç”¨åˆ°cookieså‘€ï¼Œåªç”¨äº†tokenï¼Œtokenä¹Ÿæ˜¯æ”¾åœ¨headeré‡Œçš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ¢ç©¶&#34;&gt;æ¢ç©¶&lt;/h2&gt;
&lt;p&gt;ç„¶ååªèƒ½çŒœæµ‹æ˜¯Spring MVCå¸®æˆ‘ä»¬åšäº†è¿™ä¸€åˆ‡ï¼Œå°±å»æ‰’æºç äº†ï¼Œæœç„¶æ‰’åˆ°äº†ï¼&lt;/p&gt;
&lt;p&gt;åœ¨&lt;code&gt;org.springframework.web.cors&lt;/code&gt; ä¸‹çš„&lt;code&gt;CorsConfiguration&lt;/code&gt; ç±»ï¼Œæœ‰è¿™ä¹ˆä¸€ä¸ª&lt;code&gt;checkOrigin&lt;/code&gt;æ–¹æ³•ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Nullable&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;checkOrigin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;@Nullable&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;requestOrigin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;StringUtils&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;hasText&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;requestOrigin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ObjectUtils&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;isEmpty&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;allowedOrigins&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;allowedOrigins&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;contains&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;*&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;allowCredentials&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Boolean&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;TRUE&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;*&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;requestOrigin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;Iterator&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;var2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;allowedOrigins&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;iterator&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;

        &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;allowedOrigin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;var2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;hasNext&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;())&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

            &lt;span class=&#34;n&#34;&gt;allowedOrigin&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;var2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;requestOrigin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;equalsIgnoreCase&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;allowedOrigin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;

        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;requestOrigin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨åˆ¤æ–­åˆ°æˆ‘ä»¬è®¾ç½®ç±»æ˜Ÿå·ä¸”allowCredentialsä¹Ÿè®¾ç½®ä¸ºtrueåï¼Œä¼šæŠŠ&lt;code&gt;Access-Control-Allow-Origin&lt;/code&gt; è®¾ç½®ä¸ºå½“å‰è¯·æ±‚çš„originï¼Œä¹Ÿå°±æ˜¯åŠ¨æ€å»è®¾ç½®å®ƒï¼Œè¿™ä¸ªå€¼å°±ä¸€ç›´ä¼šæ˜¯è¯·æ±‚è¿‡æ¥çš„originï¼Œè§£å†³äº†è·¨åŸŸçš„åŒæ—¶ä¹Ÿä¸ä¼šè¿åæ˜Ÿå·å’Œtrueçš„é™åˆ¶ï¼Œæƒ³æƒ³ä¹‹å‰ç¡®å®æœ‰è¿™ç§å†™æ³•ï¼Œä¸è¿‡å…¶å®æˆ‘ä»¬ä¸ç”¨æ‰‹åŠ¨å»å®ç°è¿™ä¸ªè¿‡ç¨‹ï¼Œå› ä¸ºæ¡†æ¶éƒ½å¸®æˆ‘ä»¬åšå¥½äº†ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œå¦‚æœé¡¹ç›®åªç”¨tokenä¸ç”¨cookiesçš„è¯ï¼ŒwithCredentialså’ŒallowCredentialsåŒæ—¶è®¾ç½®ä¸ºfalseï¼ŒallowOriginè®¾ç½®ä¸ºæ˜Ÿå·ï¼Œä¹Ÿæ˜¯æ²¡é—®é¢˜çš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Access-Control-Allow-Origin&lt;/code&gt; è®¾ç½®ä¸ºæ˜Ÿå·æ—¶ï¼Œ&lt;code&gt;Access-Control-Allow-Credentials&lt;/code&gt; ä¸èƒ½åŒæ—¶è®¾ç½®ä¸ºtrueï¼ŒSpring MVCå¸®æˆ‘ä»¬è§„é¿äº†è¿™ä¸ªé”™è¯¯ï¼Œä¼šåœ¨è¿™ç§æƒ…å†µä¸‹å¸®ä½ æŠŠallowOriginè®¾ç½®ä¸ºå½“å‰requestçš„originã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœå‰ç«¯withCredentialsä¸ºtrueï¼Œä½†æ˜¯åç«¯çš„&lt;code&gt;Access-Control-Allow-Credentials&lt;/code&gt; ä¸ºfalseåˆ™ä¼šè¯·æ±‚å¤±è´¥ï¼Œåè¿‡æ¥åˆ™å¯ä»¥ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Javaå•å…ƒæµ‹è¯•åˆ©å™¨â€”â€”Mockito</title>
        <link>https://ccqstark.github.io/p/mockito/</link>
        <pubDate>Mon, 30 Aug 2021 12:34:20 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/mockito/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/mockito/cover.png" alt="Featured image of post Javaå•å…ƒæµ‹è¯•åˆ©å™¨â€”â€”Mockito" /&gt;&lt;h2 id=&#34;mockä»‹ç»&#34;&gt;Mockä»‹ç»&lt;/h2&gt;
&lt;h3 id=&#34;åŸºæœ¬ä»‹ç»&#34;&gt;åŸºæœ¬ä»‹ç»&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†æé«˜ä»£ç è´¨é‡ï¼Œé™¤äº†åšé™æ€ä»£ç æµ‹è¯•ï¼ŒåŠ¨æ€çš„å•å…ƒæµ‹è¯•ä¹Ÿå°‘ä¸äº†ã€‚è€Œåœ¨å•å…ƒæµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œ&lt;code&gt;Mock&lt;/code&gt;æ˜¯å°‘ä¸äº†çš„æŠ€æœ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Mock&lt;/code&gt;æ˜¯å…è®¸ç”¨æ¨¡æ‹Ÿå¯¹è±¡æ›¿æ¢æµ‹è¯•ä¸­çš„ç³»ç»Ÿéƒ¨ä»¶ï¼Œå¹¶æ–­è¨€å®ƒä»¬æ˜¯å¦‚ä½•è¢«ä½¿ç”¨çš„ä¸€é¡¹æŠ€æœ¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;mockçš„ä½œç”¨å¦‚ä¸‹&#34;&gt;Mockçš„ä½œç”¨å¦‚ä¸‹&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;è§£å†³ä¾èµ–é—®é¢˜ï¼šå½“æµ‹è¯•ä¸€ä¸ªæ¥å£æˆ–è€…åŠŸèƒ½æ¨¡å—çš„æ—¶å€™ï¼Œå¦‚æœè¿™ä¸ªæ¥å£æˆ–è€…åŠŸèƒ½æ¨¡å—ä¾èµ–å…¶ä»–æ¥å£æˆ–å…¶ä»–æ¨¡å—ï¼Œé‚£ä¹ˆå¦‚æœæ‰€ä¾èµ–çš„æ¥å£æˆ–åŠŸèƒ½æ¨¡å—æœªå¼€å‘å®Œæ¯•ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨Mockæ¨¡æ‹Ÿè¢«ä¾èµ–æ¥å£ï¼Œå®Œæˆç›®æ ‡æ¥å£çš„æµ‹è¯•ã€‚&lt;/li&gt;
&lt;li&gt;å•å…ƒæµ‹è¯•ï¼šå¦‚æœæŸä¸ªåŠŸèƒ½æœªå¼€å‘å®Œæˆï¼Œåˆè¦è¿›è¡Œæµ‹è¯•ç”¨ä¾‹çš„ä»£ç ç¼–å†™ï¼Œä¹Ÿå¯ä»¥å…ˆæ¨¡æ‹Ÿè¿™ä¸ªåŠŸèƒ½è¿›è¡Œæµ‹è¯•ã€‚&lt;/li&gt;
&lt;li&gt;æ¨¡æ‹Ÿå¤æ‚ä¸šåŠ¡çš„æ¥å£ï¼šå®é™…å·¥ä½œä¸­å¦‚æœæˆ‘ä»¬åœ¨æµ‹è¯•ä¸€ä¸ªæ¥å£åŠŸèƒ½æ—¶ï¼Œå¦‚æœè¿™ä¸ªæ¥å£ä¾èµ–ä¸€ä¸ªéå¸¸å¤æ‚çš„æ¥å£ä¸šåŠ¡æˆ–è€…æ¥æºäºç¬¬ä¸‰æ–¹æ¥å£ï¼ˆå¦‚ç¬¬ä¸‰æ–¹æ”¯ä»˜æ¥å£ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å®Œå…¨å¯ä»¥ä½¿ç”¨Mockæ¥æ¨¡æ‹Ÿè¿™ä¸ªå¤æ‚çš„ä¸šåŠ¡æ¥å£ï¼Œå…¶å®è¿™ä¸ªå’Œè§£å†³æ¥å£ä¾èµ–æ˜¯ä¸€æ ·çš„åŸç†ã€‚&lt;/li&gt;
&lt;li&gt;å‰åç«¯è”è°ƒï¼šè¿›è¡Œå‰åç«¯åˆ†ç¦»ç¼–ç¨‹æ—¶ï¼Œå¦‚æœè¿›è¡Œä¸€ä¸ªå‰ç«¯é¡µé¢å¼€å‘ï¼Œéœ€è¦æ ¹æ®ååˆè¿”å›çš„çŠ¶æ€å±•ç¤ºä¸åŒçš„é¡µé¢ï¼Œé‚£ä¹ˆå°±éœ€è¦è°ƒç”¨ååˆçš„æ¥å£ï¼Œä½†æ˜¯ååˆæ¥å£è¿˜æœªå¼€å‘å®Œæˆï¼Œå®Œå…¨å¯ä»¥å€ŸåŠ©mockæ¥æ¨¡æ‹Ÿåå°è¿™ä¸ªæ¥å£è¿”å›æƒ³è¦çš„æ•°æ®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;mockä¸stubæ¡©&#34;&gt;Mockä¸Stub(æ¡©)&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;æ¡©ä»£ç (Stub)&lt;/code&gt;ï¼šç”¨æ¥ä»£æ›¿çœŸå®ä»£ç çš„ä¸´æ—¶ä»£ç ï¼Œä¸»è¦ä½œç”¨æ˜¯ä½¿è¢«æµ‹ä»£ç èƒ½å¤Ÿç‹¬ç«‹ç¼–è¯‘ã€ é“¾æ¥ï¼Œå¹¶ç‹¬ç«‹è¿è¡Œ&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Mockä»£ç &lt;/code&gt;ï¼šä¹Ÿæ˜¯ç”¨æ¥ä»£æ›¿çœŸå®ä»£ç çš„ä¸´æ—¶ä»£ç ï¼Œèµ·åˆ°éš”ç¦»å’Œè¡¥é½çš„ä½œç”¨ï¼Œä½†æ˜¯å®ƒè¿˜å¯&lt;strong&gt;æ·±å…¥çš„æ¨¡æ‹Ÿå¯¹è±¡ä¹‹é—´çš„äº¤äº’æ–¹å¼&lt;/strong&gt;ï¼Œå¯ä»¥&lt;strong&gt;å¯¹ç»“æœè¿›è¡ŒéªŒè¯&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;mockitoæµ‹è¯•æ¡†æ¶&#34;&gt;Mockitoæµ‹è¯•æ¡†æ¶&lt;/h2&gt;
&lt;p&gt;Mockitoæ˜¯Javaå•å…ƒæµ‹è¯•ä¸­ä½¿ç”¨ç‡æœ€é«˜çš„Mockæ¡†æ¶ä¹‹ä¸€ï¼ŒåŒæ—¶ä¹Ÿæ˜¯SpringBooté»˜è®¤å¼•å…¥çš„mockæ¡†æ¶(spring-boot-starter-teståŒ…æ‹¬JUnit, Hamcrest å’Œ Mockito)&lt;/p&gt;
&lt;h3 id=&#34;mavenä¾èµ–&#34;&gt;Mavenä¾èµ–&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.mockito&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;mockito-core&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;3.12.4&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;scope&amp;gt;&lt;/span&gt;test&lt;span class=&#34;nt&#34;&gt;&amp;lt;/scope&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;éªŒè¯æŸäº›è¡Œä¸ºæ˜¯å¦è¢«è°ƒç”¨&#34;&gt;éªŒè¯æŸäº›è¡Œä¸ºæ˜¯å¦è¢«è°ƒç”¨&lt;/h3&gt;
&lt;p&gt;Mockitoå¯ä»¥éªŒè¯æŸäº›è¡Œä¸ºï¼šä¸€æ—¦mockå¯¹è±¡è¢«åˆ›å»ºäº†ï¼Œmockå¯¹è±¡ä¼šè®°ä½æ‰€æœ‰çš„äº¤äº’&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨æ–¹æ³•&lt;code&gt;verify()&lt;/code&gt; åˆ¤æ–­æ–¹æ³•æ˜¯å¦è¢«è°ƒç”¨è¿‡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Test&lt;/span&gt;
&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;verifyTest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Person&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mockPerson&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Mockito&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;mock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Person&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;mockPerson&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;Mockito&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;verify&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mockPerson&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Mockito&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;verify&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mockPerson&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;cc&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// æ­¤æ–¹æ³•æ²¡æœ‰è°ƒç”¨è¿‡ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æµ‹è¯•æ¡©stub&#34;&gt;æµ‹è¯•æ¡©Stub&lt;/h3&gt;
&lt;p&gt;Mockitoå¯ä»¥åšä¸€äº›æµ‹è¯•æ¡©ï¼ˆ&lt;code&gt;Stub&lt;/code&gt;ï¼‰ï¼Œåšæµ‹è¯•æ¡©çš„ç›®çš„æ˜¯ä¸ºäº†åœ¨æŸäº›æ–¹æ³•è¿˜æ²¡æœ‰å¼€å‘å‡ºæ¥ï¼Œä½†æˆ‘ä»¬æµ‹è¯•æ—¶å´éœ€è¦è°ƒç”¨å®ƒçš„æ—¶å€™ï¼Œç»™è¿™ä¸ªæ–¹æ³•æ¨¡æ‹Ÿä¸€ä¸ªå‡çš„è¿”å›å€¼ä¾›æˆ‘ä»¬æµ‹è¯•ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰å‡½æ•°éƒ½æœ‰è¿”å›å€¼ã€‚mockå‡½æ•°é»˜è®¤è¿”å›çš„æ˜¯nullï¼Œä¸€ä¸ªç©ºçš„é›†åˆæˆ–è€…ä¸€ä¸ªè¢«å¯¹è±¡ç±»å‹åŒ…è£…çš„å†…ç½®ç±»å‹ã€‚&lt;/p&gt;
&lt;p&gt;å½“æˆ‘ä»¬è¦æŒ‡å®šæŸçš„å‡½æ•°çš„è¿”å›å€¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨&lt;code&gt;when()&lt;/code&gt; å’Œ &lt;code&gt;ThenReturn()&lt;/code&gt; ã€&lt;code&gt;ThenThrow()&lt;/code&gt; æ–¹æ³•&lt;/p&gt;
&lt;p&gt;ä¹‹åè°ƒç”¨è¿™äº›å‡½æ•°æ—¶ï¼Œå°±ä¼šè¿”å›æˆ‘ä»¬ä¸Šé¢æŒ‡å®šçš„å€¼ï¼ˆæ³¨æ„è¿”å›ç±»å‹ä¹Ÿè¦æ­£ç¡®ï¼‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Test&lt;/span&gt;
&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;stubTest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Person&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mockPerson&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Mockito&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;mock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Person&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Mockito&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;when&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mockPerson&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;thenReturn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Mockito&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;when&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mockPerson&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;thenThrow&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;NoSuchMethodError&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mockPerson&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// è¿”å›1
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mockPerson&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// æŠ›å‡ºå¼‚å¸¸NoSuchMethodError
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸€ä¸ªæ–¹æ³•å¯èƒ½å¤šæ¬¡è°ƒç”¨ï¼Œæƒ³è¦æ¯æ¬¡è°ƒç”¨éƒ½è®¾ç½®å¯¹åº”è¿”å›å€¼ä¹Ÿæ˜¯å¯ä»¥çš„&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Test&lt;/span&gt;
&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;constStubTest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Person&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;personMock&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Person&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;when&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;personMock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;())&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;thenReturn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;cc&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;thenReturn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;personMock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// ç¬¬ä¸€æ¬¡è¿”å›cc
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;personMock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// ç¬¬äºŒæ¬¡è¿”å›1
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;ç±»å‹èŒƒå›´&#34;&gt;ç±»å‹èŒƒå›´&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;anyInt()&lt;/code&gt; ã€&lt;code&gt;anyString()&lt;/code&gt;ã€&lt;code&gt;anyList()&lt;/code&gt;ç­‰æ–¹æ³•å¯ä»¥å¯¹å‚æ•°ç±»å‹è¿›è¡Œé™åˆ¶æˆ–è€…æ”¾å®½èŒƒå›´&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Test&lt;/span&gt;
&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;matchTest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Person&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mockPerson&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Mockito&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;mock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Person&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;when&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mockPerson&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setKeyById&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;anyInt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;())).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;thenReturn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;0001Test1000&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// è¡¨ç¤ºåªè¦ä¼ å…¥intç±»å‹å°±è¿”å›&amp;#34;0001Test1000&amp;#34;
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mockPerson&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setKeyById&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;verify&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mockPerson&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setKeyById&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ–¹æ³•è°ƒç”¨æ¬¡æ•°éªŒè¯&#34;&gt;æ–¹æ³•è°ƒç”¨æ¬¡æ•°éªŒè¯&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;times()&lt;/code&gt;å¯ä»¥ç”¨æ¥éªŒè¯æ–¹æ³•çš„è°ƒç”¨æ¬¡æ•°ï¼Œå¦‚æœä¸æ˜¯é¢„æœŸæ¬¡æ•°åˆ™ä¼šä¸é€šè¿‡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Test&lt;/span&gt;
&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;timesTest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Person&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mockPerson&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Person&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;mockPerson&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;mockPerson&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;cc&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;mockPerson&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;cc&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    
    &lt;span class=&#34;n&#34;&gt;verify&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mockPerson&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;verify&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mockPerson&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;times&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;cc&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ–¹æ³•è°ƒç”¨é¡ºåºéªŒè¯&#34;&gt;æ–¹æ³•è°ƒç”¨é¡ºåºéªŒè¯&lt;/h3&gt;
&lt;p&gt;å½“æˆ‘ä»¬éœ€è¦éªŒè¯æ–¹æ³•è°ƒç”¨çš„å‰åé¡ºåºæ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œå¯ä»¥&lt;code&gt;InOrder&lt;/code&gt; ç±»ä»¥åŠå®ƒçš„&lt;code&gt;verify()&lt;/code&gt; æ–¹æ³•&lt;/p&gt;
&lt;p&gt;ä¸ä»…ä½¿ç”¨ä¸å•ä¸ªå¯¹è±¡ï¼Œå¤šä¸ªå¯¹è±¡çš„æ–¹æ³•ä¹‹é—´çš„è°ƒç ”é¡ºåºä¹Ÿå¯ä»¥è¿›è¡Œåˆ¤æ–­&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Test&lt;/span&gt;
&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;orderTest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Person&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;singeMock&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Person&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;singeMock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;cc&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;singeMock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;qq&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// å•ä¸ªå¯¹è±¡æ–¹æ³•çš„è°ƒç”¨é¡ºåº
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;InOrder&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;inOrder&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;inOrder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;singeMock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;inOrder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;verify&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;singeMock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;cc&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;inOrder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;verify&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;singeMock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;qq&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// é¡ºåºæ­£ç¡®
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    
    &lt;span class=&#34;n&#34;&gt;Person&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;firstMock&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Person&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Person&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;secondMock&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Person&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;firstMock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;secondMock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// å¤šä¸ªæ–¹æ³•çš„è°ƒç”¨é¡ºåº
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;InOrder&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;inOrder1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;inOrder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;firstMock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;secondMock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;inOrder1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;verify&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;secondMock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;inOrder1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;verify&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;firstMock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// é¡ºåºé”™è¯¯
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;spyç›‘æ§å¯¹è±¡&#34;&gt;spyç›‘æ§å¯¹è±¡&lt;/h3&gt;
&lt;p&gt;spyå¯ä»¥ç›‘æ§æˆ–æ§åˆ¶ä¸€ä¸ªçœŸæ­£newåˆ›å»ºå‡ºæ¥çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯å»mockçš„å¯¹è±¡ï¼Œä¸¤è€…åŒºåˆ«åœ¨äºmockçš„å¯¹è±¡å¦‚æœä¸æŒ‡å®šè¿”å›å€¼å°±ä¼šè¿”å›nullè¿™æ ·çš„é›¶å€¼ï¼Œè€Œspyåˆ™ä»‹äºçœŸæ­£çš„beanå’Œmockä¹‹é—´ï¼Œå¯¹äºè¢«æˆ‘ä»¬æŒ‡å®šäº†è¿”å›å€¼çš„ä¼˜å…ˆæŒ‰æŒ‡å®šçš„ï¼Œæ²¡æœ‰æŒ‡å®šçš„å°±æŒ‰å¯¹è±¡å®é™…å€¼è¿”å›ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢çš„ä¾‹å­æ˜¯ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡ä¸­æŸä¸ªå±æ€§çš„è¿”å›å€¼ï¼Œä½¿å¾—å…¶è¿”å›å€¼ä¸åœ¨æ˜¯å±æ€§çš„çœŸå®å€¼&lt;/p&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥ç”¨&lt;code&gt;@Spy&lt;/code&gt; æ³¨è§£&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Test&lt;/span&gt;
&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;spyTest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Person&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;person&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Person&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;cc&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Person&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;spy&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;spy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;person&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;when&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;spy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;thenReturn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;qq&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;spy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// è¿”å›qqï¼Œè€Œä¸æ˜¯cc
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;spy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// è¿”å›1ï¼Œå› ä¸ºæ²¡æœ‰è®¾ç½®è¿‡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;spring-bootä¸­çš„å•å…ƒæµ‹è¯•&#34;&gt;Spring Bootä¸­çš„å•å…ƒæµ‹è¯•&lt;/h2&gt;
&lt;p&gt;Spring Bootçš„ç»“æ„ä¸Šæ¥è¯´ï¼ŒServiceå±‚æ˜¯ä¾èµ–Daoå±‚çš„ï¼Œè€ŒControllerå±‚åˆä¾èµ–äºServiceå±‚&lt;/p&gt;
&lt;p&gt;ä»å•å…ƒæµ‹è¯•çš„è§’åº¦ï¼Œå¯¹æŸä¸ªServiceå’ŒControllerè¿›è¡Œå•å…ƒæµ‹è¯•çš„æ—¶å€™ï¼Œæ‰€æœ‰éœ€è¦ä¾èµ–çš„ç±»æˆ–æ–¹æ³•éƒ½åº”è¯¥mockï¼Œåªé’ˆå¯¹æŸä¸€æ®µä»£ç è¿›è¡Œè¿è¡Œé€»è¾‘æµ‹è¯•ï¼Œæµ‹è¯•Serviceå±‚æ—¶ï¼Œå°±å¯ä»¥ä½¿ç”¨Mockitoæ¥éš”ç¦»Daoå±‚ï¼›Daoå±‚çš„å•å…ƒæµ‹è¯•å¯ä»¥ç”¨å·¥å…·éšæœºç”Ÿæˆæµ‹è¯•æ•°æ®ï¼Œç„¶åä½¿ç”¨å·¥å…·æµ‹è¯•SQLå³å¯ï¼Œå°±ä¸è¦è¿˜å¯åŠ¨æ•´ä¸ªåº”ç”¨ï¼Œæ•ˆç‡æ¯”è¾ƒä½ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯å‡ ç§mockçš„æ–¹æ¡ˆ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨beforeå‡½æ•°ä¸­ç›´æ¥mockå®ä¾‹åŒ–å¯¹è±¡&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@BeforeEach&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;before&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
	&lt;span class=&#34;n&#34;&gt;userService&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;UserService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;@Mock&lt;/code&gt;æ³¨è§£æ¥Mockå¯¹è±¡&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Mock&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UserSerice&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;userService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;nd&#34;&gt;@BeforeEach&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;before&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
	&lt;span class=&#34;n&#34;&gt;MockitoAnnotations&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;initMocks&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// æ­¤æ–¹æ³•å·²è¢«deprecad
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;@RunWith(MockitoJunitRunner.class)&lt;/code&gt; ï¼Œæ­é…@Mockå°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†ï¼Œä¸ç”¨å†åˆå§‹åŒ–ï¼ˆæ­¤æ–¹æ³•åªèƒ½ç”¨äºJunit4ï¼‰ï¼ˆè¾ƒä¸ºæ¨èï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@RunWith&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MockitoJunitRunner&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@SpringBootTest&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Test&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nd&#34;&gt;@Mock&lt;/span&gt;
	&lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UserSerice&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;userService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

	&lt;span class=&#34;nd&#34;&gt;@Test&lt;/span&gt;
	&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
		&lt;span class=&#34;c1&#34;&gt;// code
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;MockitoRule&lt;/code&gt;ï¼Œä½†æ˜¯å¯¹è±¡çš„è®¿é—®çº§åˆ«å¿…é¡»æ˜¯publicï¼ˆæ­¤æ–¹æ³•ä¹Ÿåªèƒ½ç”¨äºJunit4ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@RunWith&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;JUnit4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@SpringBootTest&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Test&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nd&#34;&gt;@Rule&lt;/span&gt;
	&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MockitoRule&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rule&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MockitoJUnit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;rule&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;

	&lt;span class=&#34;nd&#34;&gt;@Mock&lt;/span&gt;
	&lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UserSerice&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;userService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

	&lt;span class=&#34;nd&#34;&gt;@Test&lt;/span&gt;
	&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
		&lt;span class=&#34;c1&#34;&gt;// code
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å•å…ƒæµ‹è¯•å¸¸ç”¨&#34;&gt;å•å…ƒæµ‹è¯•å¸¸ç”¨&lt;/h2&gt;
&lt;h3 id=&#34;æ³¨è§£&#34;&gt;æ³¨è§£&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;@Test&lt;/code&gt; æ ‡æ³¨ä¸€ä¸ªæµ‹è¯•æ–¹æ³•&lt;/p&gt;
&lt;p&gt;&lt;code&gt;@BeforeEach&lt;/code&gt; / &lt;code&gt;@AfterEach&lt;/code&gt; åœ¨æ¯ä¸ªæµ‹è¯•æ–¹æ³•ä¹‹å‰/åè¿è¡Œ&lt;/p&gt;
&lt;p&gt;&lt;code&gt;@BeforeAll&lt;/code&gt; / &lt;code&gt;@AfterAll&lt;/code&gt; åœ¨æ•´ä¸ªæµ‹è¯•æµç¨‹ä¹‹å‰/åè¿è¡Œï¼Œæ•´ä¸ªæµ‹è¯•è¿‡ç¨‹åªä¼šè¿è¡Œä¸€æ¬¡&lt;/p&gt;
&lt;p&gt;&lt;code&gt;@SpringBootTest&lt;/code&gt; åˆå§‹åŒ–Springä¸Šä¸‹æ–‡æ¥è¿›è¡Œæµ‹è¯•ï¼Œå½“æµ‹è¯•ä¸­ç”¨åˆ°ç±»éœ€è¦ç”¨Springå®¹å™¨ç®¡ç†æ—¶åŠ &lt;/p&gt;
&lt;p&gt;&lt;code&gt;@MockBean&lt;/code&gt; åŒMockitoçš„@Mock&lt;/p&gt;
&lt;p&gt;&lt;code&gt;@SpyBean&lt;/code&gt; åŒMockitoçš„@Spy&lt;/p&gt;
&lt;h3 id=&#34;æ–­è¨€&#34;&gt;æ–­è¨€&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Assert&lt;/code&gt;ç±»&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;JUnit4æä¾›ï¼Œä½¿ç”¨è¾ƒä¸ºç®€å•ï¼Œç‚¹è¿›å»çœ‹æºç çš„æ–¹æ³•å³å¯ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Assertions&lt;/code&gt;ç±»&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;JUnit5æä¾›ï¼Œå’ŒAssertç±»å·®ä¸å¤šã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;assertThat(T actual, Matcher&amp;lt;? super T&amp;gt; matcher);&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;assertThat(Assertç±»ä¸­)æ˜¯JUnit 4.4å¼•å…¥çš„ä¸€ä¸ªå…¨æ–°çš„æ–­è¨€è¯­æ³•ï¼Œå¯ä»¥åªä½¿ç”¨è¿™ä¸€ä¸ªæ–¹æ³•ï¼Œå®ç°æ‰€æœ‰çš„æ–­è¨€æµ‹è¯•ã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä¸­actualä¸ºéœ€è¦æµ‹è¯•çš„å˜é‡å€¼ï¼Œmatcherä¸ºä½¿ç”¨Hamcrestçš„åŒ¹é…ç¬¦æ¥è¡¨è¾¾å˜é‡actualæœŸæœ›å€¼çš„å£°æ˜ï¼Œå¦‚æœå€¼ä¸matcheræ‰€è¡¨è¾¾çš„æœŸæœ›å€¼ç›¸ç¬¦ï¼Œåˆ™æµ‹è¯•æˆåŠŸï¼Œå¦åˆ™å¤±è´¥ã€‚&lt;/p&gt;
&lt;p&gt;åŒ¹é…å™¨æœ‰å¯è¯»æ€§å¼ºã€æ»¡è¶³å¤æ‚åŒ¹é…æ¡ä»¶ç­‰ä¼˜ç‚¹ï¼Œå¸¸ç”¨åŒ¹é…å™¨å¯ä»¥æŸ¥æ–‡æ¡£ï¼Œä¹Ÿä¸éš¾ä½¿ç”¨ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Rediså¸ƒéš†è¿‡æ»¤å™¨ä¸ç‚¹èµåŠŸèƒ½è®¾è®¡</title>
        <link>https://ccqstark.github.io/p/bloom_filter/</link>
        <pubDate>Thu, 26 Aug 2021 03:57:56 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/bloom_filter/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/bloom_filter/cover.png" alt="Featured image of post Rediså¸ƒéš†è¿‡æ»¤å™¨ä¸ç‚¹èµåŠŸèƒ½è®¾è®¡" /&gt;&lt;h2 id=&#34;ä»€ä¹ˆæ˜¯å¸ƒéš†è¿‡æ»¤å™¨&#34;&gt;ä»€ä¹ˆæ˜¯å¸ƒéš†è¿‡æ»¤å™¨&lt;/h2&gt;
&lt;h3 id=&#34;ç®€ä»‹&#34;&gt;ç®€ä»‹&lt;/h3&gt;
&lt;p&gt;å¸ƒéš†è¿‡æ»¤å™¨ï¼ˆ&lt;code&gt;Bloom Filter&lt;/code&gt;ï¼‰æ˜¯ 1970 å¹´ç”±å¸ƒéš†æå‡ºçš„ã€‚å®ƒå®é™…ä¸Šæ˜¯ä¸€ä¸ªå¾ˆé•¿çš„äºŒè¿›åˆ¶å‘é‡å’Œä¸€ç³»åˆ—éšæœºæ˜ å°„å‡½æ•°ã€‚å¸ƒéš†è¿‡æ»¤å™¨å¯ä»¥ç”¨äºæ£€ç´¢ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨ä¸€ä¸ªé›†åˆä¸­ã€‚å®ƒçš„ä¼˜ç‚¹æ˜¯ç©ºé—´æ•ˆç‡å’ŒæŸ¥è¯¢æ—¶é—´éƒ½æ¯”ä¸€èˆ¬çš„ç®—æ³•è¦å¥½çš„å¤šï¼Œç¼ºç‚¹æ˜¯æœ‰ä¸€å®šçš„è¯¯è¯†åˆ«ç‡å’Œåˆ é™¤å›°éš¾ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å…·ä½“å®ç°åŸç†&#34;&gt;å…·ä½“å®ç°åŸç†&lt;/h3&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210825171931.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210825171931.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œå¸ƒéš†è¿‡æ»¤å™¨çš„åŸç†å°±æ˜¯é€šè¿‡å‡ ä¸ªå“ˆå¸Œå‡½æ•°æŠŠè¦å­˜å‚¨çš„æ•°æ®æ˜ å°„åˆ°ä¸€ä¸ªäºŒè¿›åˆ¶çš„æ•°ç»„é‡Œï¼Œæ˜ å°„åˆ°çš„å¯¹åº”ä½æ ‡ä¸º1ï¼Œå¦‚ä¸Šå›¾å°±ä¸ºï¼ˆ2ï¼Œ5ï¼Œ9ï¼‰ã€‚åç»­æœ‰å…ƒç´ åŠ å…¥æ—¶ï¼Œè‹¥è¯¥ä½æœ¬å°±ä¸º1ï¼Œåˆ™ä¸å¯¹è¯¥ä½å†åšå¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;å½“è¦åˆ¤æ–­ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨è¿‡æ»¤å™¨ä¸­ï¼Œä¹Ÿæ˜¯å…ˆè¿›è¡ŒHashè®¡ç®—å‡ºå¯¹åº”çš„ä½ï¼Œåˆ¤æ–­äºŒè¿›åˆ¶æ•°ç»„ä¸­æ‰€æœ‰å¯¹åº”çš„ä½æ˜¯å¦éƒ½ä¸º1ï¼Œæ˜¯çš„è¯è¡¨ç¤ºå…ƒç´ åœ¨å…¶ä¸­ï¼›åä¹‹ä¸åœ¨ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å­˜åœ¨çš„é—®é¢˜&#34;&gt;å­˜åœ¨çš„é—®é¢˜&lt;/h3&gt;
&lt;p&gt;å¸ƒéš†è¿‡æ»¤å™¨å­˜åœ¨&lt;code&gt;è¯¯åˆ¤ç‡&lt;/code&gt;ï¼Œä¹Ÿæ˜¯å¯èƒ½ä¼šæŠŠä¸€ä¸ªä¸å­˜åœ¨çš„å…ƒç´ åˆ¤å®šä¸ºå­˜åœ¨çš„ã€‚å› ä¸ºåœ¨åŠ å…¥å¤§é‡å…ƒç´ åï¼ŒäºŒè¿›åˆ¶æ•°ç»„ä¸­å¯èƒ½å¤§éƒ¨åˆ†ä½éƒ½è¢«ç½®ä¸º1äº†ï¼Œæ‰€ä»¥ä¸€ä¸ªæ–°çš„æ•°æ®Hashå‡ºæ¥å¯¹åº”çš„ä½å°±å¾ˆå¯èƒ½ä¹Ÿéƒ½ç½®ä¸º1äº†ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³åŠæ³•å°±æ˜¯å¢åŠ äºŒè¿›åˆ¶æ•°ç»„çš„é•¿åº¦ï¼Œä½¿å¾—äºŒè¿›åˆ¶æ•°ç»„ä¸é‚£ä¹ˆå¿«é¥±å’Œï¼Œå°±å¯ä»¥å®¹çº³æ›´å¤šçš„å…ƒç´ ï¼Œé™ä½è¯¯åˆ¤æ¦‚ç‡ï¼›æˆ–è€…å¢åŠ Hashæ¬¡æ•°ï¼Œä½¿å¾—æ•°æ®æ›´åŠ åˆ†æ•£ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ä½†å¸ƒéš†è¿‡æ»¤å™¨åˆ¤æ–­ä¸€ä¸ªå…ƒç´ å­˜åœ¨æ—¶ï¼Œå¯èƒ½ä¸ä¸€å®šçœŸçš„å­˜åœ¨ï¼›ä½†å‡å¦‚å®ƒåˆ¤æ–­ä¸€ä¸ªå…ƒç´ ä¸å­˜åœ¨ï¼Œé‚£è¿™ä¸ªå…ƒç´ ä¸€å®šä¸å­˜åœ¨ï¼Œè¿™ç§æƒ…å†µä¸å­˜åœ¨è¯¯åˆ¤ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ä¸ªé—®é¢˜æ˜¯&lt;code&gt;åˆ é™¤å›°éš¾&lt;/code&gt;ï¼Œå› ä¸ºåœ¨å…ƒç´ è¾ƒå¤šçš„æƒ…å†µä¸‹å®ƒä»¬å¯¹åº”çš„ä½æ€»æœ‰äº¤å‰ï¼Œå¦‚æœä½ æŠŠå…¶ä¸­ä¸€ä¸ªå…ƒç´ å¯¹åº”çš„ä½éƒ½ç½®0äº†ï¼Œé‚£å¾ˆå¯èƒ½ä¹Ÿä¼šå½±å“åˆ°å…¶ä»–çš„å…ƒç´ ï¼Œå¾ˆéš¾ä»…ä»…åˆ é™¤ä¸€ä¸ªå…ƒç´ ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åº”ç”¨åœºæ™¯&#34;&gt;åº”ç”¨åœºæ™¯&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ç½‘é¡µçˆ¬è™«å¯¹ URL å»é‡ï¼Œé¿å…çˆ¬å–ç›¸åŒçš„ URL åœ°å€ï¼›&lt;/li&gt;
&lt;li&gt;ååƒåœ¾é‚®ä»¶ï¼Œä»æ•°åäº¿ä¸ªåƒåœ¾é‚®ä»¶åˆ—è¡¨ä¸­åˆ¤æ–­æŸé‚®ç®±æ˜¯å¦åƒåœ¾é‚®ç®±ï¼›&lt;/li&gt;
&lt;li&gt;Google Chrome ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨è¯†åˆ«æ¶æ„ URLï¼›&lt;/li&gt;
&lt;li&gt;Medium ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨é¿å…æ¨èç»™ç”¨æˆ·å·²ç»è¯»è¿‡çš„æ–‡ç« ï¼›&lt;/li&gt;
&lt;li&gt;Google BigTableï¼ŒApache HBbase å’Œ Apache Cassandra ä½¿ç”¨å¸ƒéš†è¿‡æ»¤å™¨å‡å°‘å¯¹ä¸å­˜åœ¨çš„è¡Œå’Œåˆ—çš„æŸ¥æ‰¾ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é™¤äº†ä¸Šè¿°çš„åº”ç”¨åœºæ™¯ä¹‹å¤–ï¼Œå¸ƒéš†è¿‡æ»¤å™¨è¿˜æœ‰ä¸€ä¸ªåº”ç”¨åœºæ™¯å°±æ˜¯è§£å†³&lt;code&gt;ç¼“å­˜ç©¿é€&lt;/code&gt;çš„é—®é¢˜ã€‚æ‰€è°“çš„ç¼“å­˜ç©¿é€å°±æ˜¯æœåŠ¡è°ƒç”¨æ–¹æ¯æ¬¡éƒ½æ˜¯æŸ¥è¯¢ä¸åœ¨ç¼“å­˜ä¸­çš„æ•°æ®ï¼Œè¿™æ ·æ¯æ¬¡æœåŠ¡è°ƒç”¨éƒ½ä¼šåˆ°æ•°æ®åº“ä¸­è¿›è¡ŒæŸ¥è¯¢ï¼Œå¦‚æœè¿™ç±»è¯·æ±‚æ¯”è¾ƒå¤šçš„è¯ï¼Œå°±ä¼šå¯¼è‡´æ•°æ®åº“å‹åŠ›å¢å¤§ï¼Œè¿™æ ·ç¼“å­˜å°±å¤±å»äº†æ„ä¹‰ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥å½“æœ‰é»‘å®¢ç”Ÿæˆå¤§é‡éšæœºçš„ä¸å­˜åœ¨çš„å€¼è¯·æ±‚æœåŠ¡å™¨å¯¼è‡´æŸ¥è¯¢æ•°æ®åº“ï¼Œé€ æˆå¤§é‡ç¼“å­˜ç©¿é€çš„æƒ…å†µæ—¶ã€‚æˆ‘ä»¬å¯ä»¥ç”¨å¸ƒéš†è¿‡æ»¤å™¨è¿›è¡Œæ‹¦æˆªï¼Œè¢«å¸ƒéš†è¿‡æ»¤å™¨åˆ¤æ–­ä¸ºä¸å­˜åœ¨çš„å€¼å°±ä¸éœ€è¦æŸ¥è¯¢æ•°æ®åº“äº†ï¼Œç›´æ¥è¿”å›ï¼Œå¤§å¤§å‡ä½äº†æ•°æ®åº“å‹åŠ›ã€‚(å°‘é‡åˆ¤æ–­ä¸ºå­˜åœ¨çš„å€¼å› ä¸ºæœ‰è¯¯åˆ¤ç‡æ‰€ä»¥å¯ä»¥è¿›è¡Œä¸‹ä¸€æ­¥æŸ¥è¯¢)&lt;/p&gt;
&lt;h2 id=&#34;åœ¨redisä¸­å®‰è£…å¸ƒéš†è¿‡æ»¤å™¨&#34;&gt;åœ¨redisä¸­å®‰è£…å¸ƒéš†è¿‡æ»¤å™¨&lt;/h2&gt;
&lt;p&gt;redisæœ¬èº«æ˜¯ä¸è‡ªå¸¦å¸ƒéš†è¿‡æ»¤å™¨åŠŸèƒ½çš„ï¼Œè¦ä¹ˆåŸºäºbitmapè‡ªå·±å®ç°ï¼Œè¦ä¹ˆå®‰è£…æ’ä»¶&lt;/p&gt;
&lt;p&gt;ï¼ˆå¸ƒéš†è¿‡æ»¤å™¨åœ¨guavaåŒ…ä¸­ä¹Ÿæœ‰å®ç°ï¼‰&lt;/p&gt;
&lt;h3 id=&#34;å®‰è£…redisæ’ä»¶&#34;&gt;å®‰è£…redisæ’ä»¶&lt;/h3&gt;
&lt;p&gt;édockerå®‰è£…çš„rediså¯ä»¥é‡‡ç”¨å®‰è£…æ’ä»¶çš„æ–¹å¼æ¥&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å»è¿™ä¸ªgithubä»“åº“çœ‹çœ‹æœ€æ–°ç‰ˆæœ¬&lt;/span&gt;
wget https://github.com/RedisLabsModules/rebloom/archive/v2.2.4.tar.gz
&lt;span class=&#34;c1&#34;&gt;# è§£å‹&lt;/span&gt;
tar zxvf v2.2.4.tar.gz
&lt;span class=&#34;c1&#34;&gt;# ç¼–è¯‘&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; RedisBloom-2.2.4
make
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»¥ä¸Šæ‰§è¡Œå®Œä¹‹ååœ¨ç›®å½•ä¸‹å¤šäº†ä¸€ä¸ª&lt;code&gt;rebloom.so&lt;/code&gt;æ–‡ä»¶ï¼Œå°†å…¶ç§»åŠ¨åˆ°ä¸€ä¸ªåˆé€‚çš„ä½ç½®&lt;/p&gt;
&lt;p&gt;ç„¶ååœ¨redisçš„é…ç½®æ–‡ä»¶é‡Œå¢åŠ ä»¥ä¸‹ä¸€è¡Œï¼ˆæœ€å¥½æ·»åŠ åœ¨MODULESåŒºåŸŸï¼Œè§„èŒƒç‚¹ï¼Œredisé…ç½®æ–‡ä»¶æ‰€åœ¨è·¯å¾„å¯ä»¥åœ¨redis-cliä¸­ç”¨&lt;code&gt;info&lt;/code&gt; å‘½ä»¤æŸ¥çœ‹ï¼‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# åé¢ä¸ºrebloom.soæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•&lt;/span&gt;
loadmodule /xxx/xxx/xxx/rebloom.so
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‡å¯redisåè¿›å…¥redis-cliå°è¯•ä»¥ä¸‹å‘½ä»¤&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;bf.add &lt;span class=&#34;nb&#34;&gt;test&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
bf.add &lt;span class=&#34;nb&#34;&gt;test&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;
bf.exists &lt;span class=&#34;nb&#34;&gt;test&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
bf.exists &lt;span class=&#34;nb&#34;&gt;test&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;222&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;dockeré•œåƒ&#34;&gt;Dockeré•œåƒ&lt;/h3&gt;
&lt;p&gt;æ‹‰å–é•œåƒå¹¶è¿è¡Œå®¹å™¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker run -d -p 6379:6379 --name redis-redisbloom redislabs/rebloom:latest
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿›å…¥å®¹å™¨æµ‹è¯•å‘½ä»¤&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# è¿›å…¥å®¹å™¨&lt;/span&gt;
docker &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it redis-redisbloom bash
&lt;span class=&#34;c1&#34;&gt;# å¯åŠ¨å®¢æˆ·ç«¯&lt;/span&gt;
redis-cli
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åŒæ ·å»æµ‹è¯•&lt;code&gt;bf.add&lt;/code&gt;å’Œ&lt;code&gt;bf.exists&lt;/code&gt;å‘½ä»¤å³å¯&lt;/p&gt;
&lt;h2 id=&#34;ä½¿ç”¨redissonçš„apiè¿›è¡Œæ“ä½œ&#34;&gt;ä½¿ç”¨Redissonçš„APIè¿›è¡Œæ“ä½œ&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Redisson&lt;/code&gt;æ˜¯è‘—åçš„rediså®¢æˆ·ç«¯ï¼Œæœ‰å¾ˆå¤šå¼ºå¤§çš„åŠŸèƒ½ï¼Œå…¶ä¸­å°±åŒ…æ‹¬äº†å¸ƒéš†è¿‡æ»¤å™¨çš„å®ç°ï¼Œè€Œä¸”æ˜¯ç›´æ¥åŸºäºredisçš„bitmapçš„ï¼Œæ‰€ä»¥ä¹Ÿä¸éœ€è¦å»åœ¨rediså®‰è£…å¸ƒéš†è¿‡æ»¤å™¨çš„æ’ä»¶ï¼ŒåŸç”Ÿçš„rediså³å¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¼•å…¥ä¾èµ–&#34;&gt;å¼•å…¥ä¾èµ–&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.redisson&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;redisson-spring-boot-starter&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;3.16.1&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœåªä¸ºäº†ä½¿ç”¨redissonçš„å¸ƒéš†è¿‡æ»¤å™¨apiï¼Œåˆ™ä¸éœ€è¦é…ç½®å…¶ä»–ä¸œè¥¿ï¼Œåªéœ€è¦åœ¨é¡¹ç›®é…ç½®æ–‡ä»¶ä¸­é…å¥½redisåœ°å€å¯†ç ç­‰ï¼Œç”¨redistemplateåŸæ¥é‚£äº›é…ç½®å°±è¡Œã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç®€å•ä½¿ç”¨demo&#34;&gt;ç®€å•ä½¿ç”¨demo&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Test&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;TestRedissonBloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;c1&#34;&gt;// å…ˆæ ¹æ®keyè·å–ä¸€ä¸ªå¸ƒéš†è¿‡æ»¤å™¨ï¼ˆä¸ç®¡å­˜ä¸å­˜åœ¨ï¼‰
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;RBloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Integer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bloomFilter&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redissonClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getBloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;phoneList&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;//åˆå§‹åŒ–å¸ƒéš†è¿‡æ»¤å™¨ï¼šé¢„è®¡å…ƒç´ ä¸º100000000L,è¯¯å·®ç‡ä¸º3%
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;bloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;tryInit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;100000000L&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;03&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;//å°†å·ç 10086æ’å…¥åˆ°å¸ƒéš†è¿‡æ»¤å™¨ä¸­
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;bloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;666&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;//åˆ¤æ–­ä¸‹é¢å·ç æ˜¯å¦åœ¨å¸ƒéš†è¿‡æ»¤å™¨ä¸­
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;contains&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;666&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//false
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;contains&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;66666&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//true
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å°è£…è¿›redisutil&#34;&gt;å°è£…è¿›RedisUtil&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * åˆå§‹åŒ–ä¸€ä¸ªå¸ƒéš†è¿‡æ»¤å™¨
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @param expectedInsertions é¢„æœŸå…ƒç´ æ•°é‡
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @param falseProbability   è¯¯åˆ¤ç‡
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @return æ˜¯å¦åˆ›å»ºæˆåŠŸ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;initBloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;RBloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;expectedInsertions&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;double&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;falseProbability&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;tryInit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;expectedInsertions&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;falseProbability&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * è·å–å¸ƒéš†è¿‡æ»¤å™¨
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RBloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getBloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redissonClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getBloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * åœ¨å¸ƒéš†è¿‡æ»¤å™¨ä¸­å¢åŠ ä¸€ä¸ªå€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;addInBloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;RBloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;T&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;bloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;IllegalStateException&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;initBloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;50000L&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;01&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * åˆ¤æ–­æŸå€¼æ˜¯å¦å­˜åœ¨äºè¿‡æ»¤å™¨ä¸­
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;containsInBloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;RBloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;T&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;bloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;contains&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;IllegalStateException&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;initBloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;50000L&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;01&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bloomFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;contains&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸ºäº†æ–¹ä¾¿ä½¿ç”¨è¿™äº›APIï¼Œè¿™é‡Œæˆ‘è‡ªå·±å°è£…äº†ä¸€äº›å·¥å…·ç±»ã€‚&lt;/p&gt;
&lt;p&gt;å› ä¸ºBloomFilterä¸åƒrediså…¶ä»–æ•°æ®ç»“æ„ï¼Œä¸ç”¨åˆå§‹åŒ–å°±å¯ä»¥ç›´æ¥setå’Œgetï¼Œå¦‚æœ&lt;code&gt;getBloomFilter&lt;/code&gt; æ–¹æ³•è·å–äº†ä¸€ä¸ªæœªåˆå§‹åŒ–çš„è¿‡æ»¤å™¨ï¼Œå¹¶è¿›è¡Œäº†addå’Œcontainsæ“ä½œï¼Œå°±ä¼šæŠ¥é”™ã€‚å› æ­¤æˆ‘åœ¨è¿™ä¸¤ä¸ªæ“ä½œçš„æ–¹æ³•ä¸­æ•è·äº†æœªåˆå§‹åŒ–çš„å¼‚å¸¸ï¼Œå‡å¦‚æ£€æµ‹åˆ°äº†å¼‚å¸¸å°±è‡ªåŠ¨è¿›è¡Œåˆå§‹åŒ–ï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œç®€åŒ–äº†ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç‚¹èµåŠŸèƒ½çš„è®¾è®¡ä¸æ€è€ƒ&#34;&gt;ç‚¹èµåŠŸèƒ½çš„è®¾è®¡ä¸æ€è€ƒ&lt;/h2&gt;
&lt;p&gt;ç‚¹èµï¼Œä¸€ä¸ªçœ‹èµ·æ¥å¾ˆç®€å•çš„åŠŸèƒ½å®ç°ï¼Œåœ¨æ•°æ®é‡å¤§ï¼Œå¹¶å‘é‡å¤§æƒ…å†µä¸‹å°±ä¸æ˜¯è¿™ä¹ˆå›äº‹äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥ä»£å…¥å¾®åšçš„åœºæ™¯æ¥æ€è€ƒï¼Œå‡å¦‚æ˜æ˜Ÿå‘ä¸€æ¡å¾®åšï¼Œç¬é—´å‡ åä¸‡ç‚¹èµï¼Œè¿™æ³¢æµé‡è¦é¡¶ä½ä¹Ÿä¸æ˜¯é‚£ä¹ˆå®¹æ˜“ï¼Œå°½ç®¡åªæ˜¯ä¸€ä¸ªç‚¹èµåŠŸèƒ½è€Œå·²ã€‚æœ€è¿‘åœ¨åšå…¬å¸é‚£ä¸ªé¡¹ç›®çš„ç‚¹èµåŠŸèƒ½ï¼Œä¸ºäº†è®¾è®¡å¾—æ›´åŠ é«˜å¯ç”¨ï¼Œä¹Ÿæ˜¯å»å¥½å¥½åœ°æ€è€ƒäº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åŠŸèƒ½æ‹†è§£&#34;&gt;åŠŸèƒ½æ‹†è§£&lt;/h3&gt;
&lt;p&gt;ç‚¹èµï¼Œè¯´åˆ°åº•å°±ä¸¤ä¸ªæ–¹é¢éœ€è¦å®ç°&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¯¹åº”å¸–å­çš„ç‚¹èµæ•°&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·ä¸ç‚¹èµå¸–å­çš„å…³è”å…³ç³»&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç¬¬ä¸€ä¸ªæœ¬è´¨å°±æ˜¯ä¸€ä¸ªè®¡æ•°å™¨ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ¯ä¸€ä¸ªå¸–å­è¢«ç‚¹èµçš„æ¬¡æ•°è¿›è¡Œè®¡æ•°&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒä¸ªä¸»è¦æ˜¯ç”¨æ¥åˆ¤æ–­æ­¤ç”¨æˆ·æ˜¯å¦å·²ç»ç‚¹èµè¿‡æ–‡ç« ï¼Œä»è€Œé¿å…äºŒæ¬¡ç‚¹èµæˆ–è€…è¿›è¡Œå–æ¶ˆç‚¹èµçš„æ“ä½œï¼Œéœ€è¦ç»´æŠ¤çš„æ˜¯ä¸€ä¸ªç±»ä¼¼äºŒå…ƒç»„çš„å…³ç³»ç»“æ„ï¼ˆç”¨æˆ·idï¼Œå¸–å­idï¼‰&lt;/p&gt;
&lt;p&gt;æ–¹æ¡ˆä¸»è¦ä¹Ÿæ˜¯ä»ä¸¤ä¸ªæ•°æ®åº“å…¥æ‰‹ï¼Œå³MySQLå’ŒRedisï¼Œä¹Ÿå°±æ˜¯æ€ä¹ˆå¤„ç†å¥½å­˜å‚¨å±‚å’Œç¼“å­˜å±‚ä¹‹é—´çš„å…³ç³»ã€æ€ä¹ˆæœ€åˆç†åœ°é…åˆä½¿ç”¨å®ƒä»¬æ¥è¾¾åˆ°æœ€ä½³çš„å®ç°æ•ˆæœï¼Œè¿™ä¹Ÿæ˜¯è¿™ä¸ªé—®é¢˜çš„æœ¬è´¨ã€‚&lt;/p&gt;
&lt;p&gt;çœ‹é€é—®é¢˜çš„æœ¬è´¨å†æ€è€ƒæ–¹æ¡ˆä¸åŠ¨æ‰‹å®è·µï¼Œæ‰æ˜¯æ­£ç¡®çš„è§£å†³é—®é¢˜çš„æ–¹å¼ã€‚æ•™çˆ¶æ›¾ç»è¯´è¿‡ï¼šâ€èŠ±åŠç§’é’Ÿå°±çœ‹é€äº‹ç‰©æœ¬è´¨çš„äººï¼Œå’ŒèŠ±ä¸€è¾ˆå­éƒ½çœ‹ä¸æ¸…äº‹ç‰©æœ¬è´¨çš„äººï¼Œæ³¨å®šæ˜¯æˆªç„¶ä¸åŒçš„å‘½è¿ã€‚â€ï¼ˆdogeï¼‰&lt;/p&gt;
&lt;h3 id=&#34;æ–¹æ¡ˆä¸€&#34;&gt;æ–¹æ¡ˆä¸€&lt;/h3&gt;
&lt;p&gt;è¿™ä¸ªæ–¹æ¡ˆæ˜¯æˆ‘æœ€å¼€å§‹åœ¨ç¿»é˜…æŸ¥è¯¢äº†æ™šä¸Šçš„ä¸€äº›èµ„æ–™åæƒ³å‡ºæ¥çš„ï¼Œçœ‹èµ·æ¥å¥½åƒæœ‰æ¨¡æœ‰æ ·ï¼Œå…¶å®é—®é¢˜è¿˜æ˜¯æŒºå¤šçš„ï¼Œä¸»è¦ä¹Ÿæ˜¯å’Œå…¬å¸çš„åŒäº‹è®¨è®ºåè¢«æŒ‡å‡ºå¾ˆå¤šä¸åˆç†çš„åœ°æ–¹ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210826025904.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210826025904.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ–¹æ¡ˆä»‹ç»&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è¿™ä¸ªæµç¨‹ä¸»è¦æ˜¯åœ¨ç‚¹èµæ—¶å‰ç«¯ç›´æ¥åœ¨æœ¬åœ°å°†ç‚¹èµæ•°+1å¹¶æ”¹å˜æ ·å¼ï¼Œç„¶åå†å»è¯·æ±‚åç«¯ï¼Œ&lt;/li&gt;
&lt;li&gt;ç„¶åå°±æ˜¯è¯·æ±‚çš„æ¥å£æ˜¯æŠŠç‚¹èµçš„è¿™ä¸ªæ¶ˆæ¯æˆ–è€…è¯´ä»»åŠ¡ï¼Œæ”¾åˆ°äº†æ¶ˆæ¯é˜Ÿåˆ—é‡Œï¼Œä¹‹åç­‰å¾…è¢«æ¶ˆè´¹ã€‚æ¯æ¬¡æ¶ˆè´¹æ˜¯å…ˆç›´æ¥åœ¨rediså¯¹è®¡æ•°å™¨incrã€‚&lt;/li&gt;
&lt;li&gt;æ¥ç€ç”¨æˆ·æ˜¯å¦ç‚¹èµæ˜¯å­˜åœ¨å¸ƒéš†è¿‡æ»¤å™¨ä¸­çš„ï¼Œä¸€ç¯‡æ–‡ç« ä¸€ä¸ªbloom filterï¼Œé‡Œé¢å­˜çš„å°±æ˜¯ç‚¹è¿‡èµçš„ç”¨æˆ·çš„idã€‚&lt;/li&gt;
&lt;li&gt;æœ€åæ˜¯å®šæœŸå°†redisä¸­çš„æ•°æ®æŒä¹…åŒ–åˆ°mysqlã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;åæ€&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å‰ç«¯æœ¬åœ°å…ˆ+1ä¸»è¦æ˜¯ä¸ºäº†ç”¨æˆ·ç›´è§‚æ„Ÿè§‰åˆ°ç‚¹èµå¯ä»¥ç«‹é©¬å¾—åˆ°åé¦ˆï¼Œè€Œä¸æ˜¯å› ä¸ºåˆ°ç­‰å¾…åç«¯è¿”å›è€Œå¸¦æ¥çš„å»¶è¿Ÿæ„Ÿï¼Œå½±å“ç”¨æˆ·ä½“éªŒã€‚&lt;/p&gt;
&lt;p&gt;æ¶ˆæ¯é˜Ÿåˆ—ï¼ŒåŠ å…¥å®ƒçš„æœ¬æ„æ˜¯ä¸ºäº†è®©æ¶ˆæ¯å¯ä»¥è¢«å‡†ç¡®æ¶ˆè´¹ä»æœªä¿è¯ç‚¹èµæ•°è¾ƒä¸ºç²¾ç¡®ï¼Œåæ¥å‘ç°è¿™æ ·å¤±å»äº†å®æ—¶æ€§åŒæ—¶å¢åŠ äº†å¼€é”€ï¼Œè€Œä¸”æˆ‘è¿˜å¾—å»ä¿è¯æ¶ˆæ¯çš„å¯é æ¶ˆè´¹ï¼Œå°±ä¸ºäº†å…¶å®å‹æ ¹ä¸éœ€è¦å¾ˆå‡†ç¡®çš„ç‚¹èµæ•°ï¼Œå®åœ¨æ²¡æœ‰å¿…è¦ï¼Œæ‰€ä»¥åç»­åˆ äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¹‹å‰åœ¨å­¦redisçš„åº”ç”¨åœºæ™¯çš„æ—¶å€™å¥½åƒå°±å¬è¿‡å¯ä»¥ç”¨incræ¥åšç‚¹èµï¼Œæ‰€ä»¥è¿™æ¬¡è¦åšç‚¹èµå°±ç›´æ¥å…ˆåˆ°äº†incrã€‚å¾—ç›Šäºrediså•çº¿ç¨‹ï¼Œè¿™æ ·æ²¡æœ‰å¹¶å‘ä¿®æ”¹é—®é¢˜ï¼Œé€Ÿåº¦ä¹Ÿå¿«ï¼Œä½†åŒæ­¥åˆ°mysqlæ˜¯ä¸ªå¤§é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;æ²¡é”™ï¼Œæˆ‘ç›´æ¥ç”¨ä¸€ä¸ªå¸ƒéš†è¿‡æ»¤å™¨å½“åšå­˜å‚¨ç”¨äº†ï¼Œè¿˜åœ¨æƒ³ä¹‹åæŒä¹…åŒ–åˆ°mysqlå¯ä»¥ç”¨binaryç±»å‹æ¥å­˜ï¼Œå®Œå…¨æ²¡æœ‰æ„è¯†åˆ°äººå®¶æ˜¯ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œä¸æ˜¯ä¸€ä¸ªå­˜å‚¨å™¨ï¼Œæˆ‘ç›´æ¥å¿½ç•¥äº†è¯¯åˆ¤ç‡ã€‚å¯¼è‡´è¿™äº›é”™è¯¯çš„ä½¿ç”¨ä¹Ÿæ˜¯å½“æ—¶å¯¹å®ƒè®¤è¯†è¿˜ä¸å¤Ÿæ·±åˆ»ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºæŒä¹…åŒ–åˆ°mysqlï¼Œå½“æ—¶è¿˜æ²¡ä»”ç»†å¾€ä¸‹æŸ¥å…·ä½“çš„æ–¹æ¡ˆï¼Œæ„Ÿè§‰ä¸šå†…åº”è¯¥ä¼šæœ‰ä¸€ä¸ªæˆç†Ÿçš„æœºåˆ¶æˆ–è€…ä»€ä¹ˆæ’ä»¶ä¸­é—´ä»¶ä¹‹ç±»çš„å¯ä»¥æ–¹ä¾¿å¿«æ·ç¨³å®šåœ°å®Œæˆè¿™ä¸ªä»»åŠ¡ï¼Œåæ¥å‘ç°å¹¶æ²¡æœ‰ï¼Œéœ€è¦è‡ªå·±ä¸šåŠ¡ä»£ç åšå®šæ—¶ä»»åŠ¡å®šæœŸå†™å…¥åº“ï¼Œæ„Ÿè§‰å°±æ¯”è¾ƒéº»çƒ¦ä¸å¥½éå¸¸ä¼˜é›…å®Œç¾åœ°å®ç°ï¼Œå¦‚æœç¼“å­˜ä¸­çš„æ•°æ®è¶Šæ¥è¶Šå¤šï¼Œè¿™ä¸ªåŒæ­¥ä»»åŠ¡å²‚ä¸æ˜¯è¶Šæ¥è¶Šåºå¤§ï¼Ÿè¿™ä¸ªæš‚æ—¶ä¸çŸ¥é“å¦‚ä½•è§£å†³ã€‚&lt;/p&gt;
&lt;p&gt;æ€»ç»“å°±æ˜¯æ–¹æ¡ˆååˆ†ä¸æˆç†Ÿï¼Œæ¼æ´ç™¾å‡ºï¼Œæ˜¯ä¸€ä¸ªå­¬æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ–¹æ¡ˆäºŒ&#34;&gt;æ–¹æ¡ˆäºŒ&lt;/h3&gt;
&lt;p&gt;åœ¨ä¸åŒäº‹è®¨è®ºåå¯¹æ–¹æ¡ˆä¸€è¿›è¡Œæ”¹è‰¯åçš„æ–¹æ¡ˆï¼Œä¹Ÿæ˜¯æœ€åç¡®å®šä½¿ç”¨çš„æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210825043059.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210825043059.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ–¹æ¡ˆä»‹ç»&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é¦–å…ˆå‰ç«¯è¿˜æ˜¯å’Œæ–¹æ¡ˆä¸€ä¸€æ ·ï¼Œä¸å†èµ˜è¿°ã€‚&lt;/li&gt;
&lt;li&gt;å¦‚ä½•é‡‡ç”¨äº†MyBatisçš„äºŒçº§ç¼“å­˜ï¼Œå°†æ¯æ¬¡æŸ¥è¯¢åˆ°çš„ç»“æœç¼“å­˜åˆ°redisä¸­ï¼Œæœ‰å˜æ›´å°±æ¸…é™¤ï¼ŒæŸ¥ä¸åˆ°å†å›åº“æŸ¥ã€‚ç‚¹èµæ•°å°±åœ¨æŸ¥çš„æ—¶å€™ç¼“å­˜åˆ°äº†redisä¸­ï¼Œä½†æ˜¯æ¯æ¬¡æ›´æ–°ç‚¹èµæ•°éƒ½æ˜¯ç›´æ¥åˆ°åº“ä¸­æ“ä½œçš„ï¼Œè€Œä¸”é™„å¸¦ä¸€ä¸ªæ¸…ç¼“å­˜çš„æ“ä½œã€‚&lt;/li&gt;
&lt;li&gt;ç”¨æˆ·æ˜¯å¦ç‚¹èµç”¨ä¸€ä¸ªå¸ƒéš†è¿‡æ»¤å™¨å…ˆåšè¿‡æ»¤ï¼Œä¸€ä¸ªredisçš„setæ¥å­˜å‚¨ç‚¹èµå’Œå¸–å­çš„å…³ç³»ï¼Œç›´æ¥ç”¨redisçš„æŒä¹…åŒ–æœºåˆ¶ï¼Œä¸å…¥MySQLã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;åæ€&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ–¹æ¡ˆå¯¹æ¯”æ–¹æ¡ˆä¸€æ˜æ˜¾æœ‰äº†æ”¹è¿›ï¼Œé¦–å…ˆæ˜¯å»æ‰äº†æ„ä¹‰ä¸å¤§çš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œå¾ˆå¥½ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åæ˜¯äºŒçº§ç¼“å­˜ï¼Œè™½ç„¶æ¯æ¬¡ç‚¹èµéƒ½ä¼šç›´æ¥æ“ä½œåº“ï¼Œå¯¹æ€§èƒ½æœ‰å½±å“è€Œä¸”åŒæ—¶è¿˜æ¸…ç¼“å­˜ï¼Œå¯¼è‡´ä¸‹ä¸€æ¬¡æŸ¥è¯¢ä¹Ÿè¦è¿›åº“æ‰èƒ½å†è®¾ç¼“å­˜ï¼Œä½†æ˜¯è€ƒè™‘åˆ°é¡¹ç›®ä¸€å¼€å§‹ç”¨æˆ·åº”è¯¥ä¸å¤šï¼Œç‚¹èµè¡Œä¸ºçš„å‘ç”Ÿæ¬¡æ•°ç›¸å¯¹æ¥è¯´ä¸ä¼šéå¸¸å¤šï¼Œè‡³å°‘è¦æ¯”æ™®é€šçš„æŸ¥è¯¢å°‘ä¸Šä¸€äº›ï¼Œè¿™æ ·ä¸€æ¥hitåˆ°ç¼“å­˜çš„å‡ ç‡è¿˜æ˜¯ä¸å°çš„ï¼Œç¼“å­˜è¿˜æ˜¯èƒ½èµ·åˆ°ä¸€å®šçš„ä½œç”¨çš„ï¼Œè€Œä¸”äºŒçº§ç¼“å­˜ä¹Ÿä¸ä»…ä»…åªæ˜¯ç”¨åœ¨ç‚¹èµåŠŸèƒ½ä¸Šï¼Œè€Œæ˜¯å…¨çº¿ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ç€å¤¸ä¸€ä¸‹è¿™æ¬¡å¸ƒéš†è¿‡æ»¤å™¨ç”¨çš„ä¸é”™ï¼ŒçœŸå½“ä¸€ä¸ªè¿‡æ»¤å™¨ç”¨äº†ï¼Œç”¨æ¥è¿‡æ»¤æ‰å¾ˆå¤šå…ƒç´ ä¸å­˜åœ¨çš„æƒ…å†µï¼Œå¯¹æ€§èƒ½æå‡ä½œç”¨è¿˜æ˜¯ä¸å°çš„ï¼›ç„¶åå°±æ˜¯ç‚¹èµå…³ç³»çš„å­˜å‚¨ï¼Œæœ‰äººè¯´æ—¢ç„¶æ˜¯ä¸€ä¸ªç±»ä¼¼äºŒå…ƒç»„çš„å…³ç³»ä¸ºå•¥ä¸ä¸€ä¸ªHashç»“æ„æå®šå‘¢ï¼Ÿè€ƒè™‘åˆ°ç›®å‰ç›´æ¥ç”¨redisæŒä¹…åŒ–çš„ï¼Œå¦‚æœæ…¢æ…¢ç§¯ç´¯ä¸‹æ¥ï¼Œè¿™ä¸ªHashå˜å¾—ç¡•å¤§æ— æ¯”ï¼Œä¹Ÿæ˜¯ä¼šå½±å“æ€§èƒ½çš„ã€‚æ‰€ä»¥æˆ‘æ˜¯é€šè¿‡æ ‘å½¢çš„keyæ¥ä½¿å¾—ä¸€ç¯‡å¸–å­æœ‰ä¸€ä¸ªseté›†åˆï¼ˆåŒæ—¶ä¹Ÿæœ‰ä¸€ä¸ªå¸ƒéš†ï¼‰ï¼Œé›†åˆé‡Œæ”¾ç‚¹èµè¿‡çš„userIDã€‚&lt;/p&gt;
&lt;p&gt;æœ€åè¯´ä¸€ä¸‹rediså’ŒmysqlåŒæ­¥çš„é—®é¢˜ï¼Œåœ¨è®¨è®ºè¿‡ç¨‹ä¸­æœäº†ä¸€ä¸‹ï¼Œå‘ç°å¾ˆå¤šåŒæ­¥æ–¹æ¡ˆéƒ½æ˜¯é’ˆå¯¹äºmysqlçš„æ”¹åŠ¨åŒæ­¥åˆ°redisçš„ï¼ˆè€Œä¸æ˜¯redisåŒæ­¥åˆ°mysqlï¼‰ï¼Œå¸¸è§çš„æœ‰ä¸¤ç§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è§¦å‘å™¨+ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°UDF&lt;/li&gt;
&lt;li&gt;ä¸­é—´ä»¶canalï¼ˆbinlogï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åæ¥åœ¨å­¦ä¹ rediså½“MyBatisçš„äºŒçº§ç¼“å­˜ä¸­å‘ç°å…¶å®æ²¡æœ‰å¿…è¦æè¿™ä¸ªäº†ï¼ŒäºŒçº§ç¼“å­˜æœ¬è´¨å·²ç»è§£å†³äº†æ•°æ®éœ€è¦æ›´æ–°çš„é—®é¢˜ï¼ˆæ¸…é™¤å†è®¾ç½®ï¼‰&lt;/p&gt;
&lt;p&gt;æ€»ç»“å°±æ˜¯æ”¹è¿›ä¸å°‘ï¼Œä½†æ˜¯ä»æœ‰ä¸è¶³ï¼Œæˆ–è®¸æ˜¯ç°é˜¶æ®µç°æƒ…æ™¯ä¸‹æœ€å¥½çš„é€‰æ‹©ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ–¹æ¡ˆä¸‰&#34;&gt;æ–¹æ¡ˆä¸‰&lt;/h3&gt;
&lt;p&gt;è¿™ä¸ªæ˜¯åœ¨æˆ‘å¯¹ç€æœç´¢å¼•æ“ç›´æ¥è¾“å…¥å…³é”®å­—â€œrediså®ç°ç‚¹èµåŠŸèƒ½â€åæŸ¥å‡ºæ¥çš„å¸¸è§æ–¹æ¡ˆï¼Œå¤§åŒå°å¼‚ï¼Œè¿™é‡Œç®€ç­”è®²ä¸‹å°±è¡Œã€‚å’Œä¹‹å‰çš„æ–¹æ¡ˆä¸»è¦çš„ä¸åŒæ˜¯æ•°æ®ä¿®æ”¹éƒ½æ˜¯ç›´æ¥ç¼“å­˜ä¸­æ“ä½œï¼Œç„¶åå†åœ¨ä¸šåŠ¡ä»£ç ä¸­ç”¨å®šæ—¶ä»»åŠ¡ä¾‹å¦‚&lt;code&gt;Quartz&lt;/code&gt;æ¯éš”ä¸€æ®µæ—¶é—´å†™å…¥åˆ°mysqlä¸­ï¼›è¿˜æœ‰ä¸€ä¸ªæ˜¯å­˜å‚¨ç‚¹èµå…³ç³»ç”¨redisçš„Hashã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘è¿™äºä¸¤ä¸ªä¸åŒç‚¹çš„çœ‹æ³•ä¸Šé¢ä¹Ÿæåˆ°è¿‡äº†ï¼Œåœ¨è¿™é‡Œåªèƒ½è¿™æ ·è¯´ä¹Ÿä¸å¤±ä¸ºä¸€ç§æ–¹æ¡ˆå§ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h3&gt;
&lt;p&gt;æ–¹æ¡ˆå¾ˆå¤šï¼Œä½†æ˜¯å“ªç§æœ€ä¼˜ï¼Œå“ªç§æ›´å¥½ï¼Œå¯èƒ½è„±ç¦»åœºæ™¯çš„æƒ…å†µä¸‹ä¸ä¼šæœ‰ä¸€ä¸ªæ ‡å‡†ç­”æ¡ˆï¼Œå¯¹äºå¥½æ–¹æ¡ˆçš„è¿½æ±‚ä¸ä¼˜åŒ–æˆ‘ä¹Ÿå°†ä¸æ–­è¿½å¯»ã€‚ã€‚ã€‚ï¼ˆå‡åäº†dogeï¼‰&lt;/p&gt;
&lt;h2 id=&#34;å‚è€ƒé“¾æ¥&#34;&gt;å‚è€ƒé“¾æ¥&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://juejin.cn/post/6844904007790673933&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://juejin.cn/post/6844904007790673933&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://zhuanlan.zhihu.com/p/346651831&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://zhuanlan.zhihu.com/p/346651831&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.csdn.net/ChenMMo/article/details/93615438&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://blog.csdn.net/ChenMMo/article/details/93615438&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Redisåˆ†å¸ƒå¼ç¼“å­˜å®ç°</title>
        <link>https://ccqstark.github.io/p/redis_mybatis_cache/</link>
        <pubDate>Wed, 25 Aug 2021 16:07:15 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/redis_mybatis_cache/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/redis_mybatis_cache/cover.png" alt="Featured image of post Redisåˆ†å¸ƒå¼ç¼“å­˜å®ç°" /&gt;&lt;h2 id=&#34;ç¼“å­˜çš„åˆ†ç±»&#34;&gt;ç¼“å­˜çš„åˆ†ç±»&lt;/h2&gt;
&lt;p&gt;æœ¬åœ°ç¼“å­˜(&lt;code&gt;local cache&lt;/code&gt;)ï¼šå­˜åœ¨åº”ç”¨æœåŠ¡å™¨å†…å­˜ä¸­çš„æ•°æ®ç§°ä¸ºæœ¬åœ°ç¼“å­˜&lt;/p&gt;
&lt;p&gt;åˆ†å¸ƒå¼ç¼“å­˜(&lt;code&gt;dustribute cache&lt;/code&gt;)ï¼šå­˜å‚¨åœ¨å½“å‰åº”ç”¨æœåŠ¡å™¨ä¹‹å¤–çš„æ•°æ®ç§°ä¸ºåˆ†å¸ƒå¼ç¼“å­˜&lt;/p&gt;
&lt;p&gt;è¿™é‡Œé¡ºå¸¦æåŠé›†ç¾¤å’Œåˆ†å¸ƒå¼çš„åŒºåˆ«&lt;/p&gt;
&lt;p&gt;é›†ç¾¤(&lt;code&gt;cluster&lt;/code&gt;)ï¼šå°†åŒä¸€ç§æœåŠ¡çš„å¤šä¸ªèŠ‚ç‚¹æ”¾åœ¨ä¸€èµ·å…±åŒå¯¹ç³»ç»Ÿæä¾›æœåŠ¡ï¼Œç§°ä¸ºé›†ç¾¤&lt;/p&gt;
&lt;p&gt;åˆ†å¸ƒå¼(&lt;code&gt;distribute system&lt;/code&gt;)ï¼šæœ‰å¤šä¸ªä¸åŒæœåŠ¡é›†ç¾¤åŠŸèƒ½å¯¹ç³»ç»Ÿæä¾›æœåŠ¡ï¼Œè¿™ä¸ªç³»ç»Ÿç§°ä¹‹ä¸ºåˆ†å¸ƒå¼ç³»ç»Ÿ&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥ä¸¤è€…è™½ç„¶éƒ½æ˜¯å¤šä¸ªæœåŠ¡å™¨èŠ‚ç‚¹ï¼ŒåŒºåˆ«å°±åœ¨å¤šä¸ªèŠ‚ç‚¹ä¸­ï¼Œé›†ç¾¤ä¾§é‡çš„æ˜¯åŒä¸€ç§æœåŠ¡ï¼Œè€Œåˆ†å¸ƒå¼ä¾§é‡çš„æ˜¯ä¸åŒçš„æœåŠ¡ï¼Œè€Œä¸”åˆ†å¸ƒå¼è¿˜æ˜¯å»ºç«‹åœ¨é›†ç¾¤çš„åŸºç¡€ä¹‹ä¸Šçš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç¼“å­˜å‘æŒ¥çš„ä½œç”¨&#34;&gt;ç¼“å­˜å‘æŒ¥çš„ä½œç”¨&lt;/h2&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210825144223.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210825144223.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ç”±å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œç¼“å­˜æ˜¯ä½œä¸ºå­˜å‚¨å±‚å’Œå®¢æˆ·ç«¯ä¹‹é—´çš„ä¸­é—´å±‚ï¼Œå½“å®¢æˆ·ç«¯çš„è¯·æ±‚è¿‡æ¥æ—¶ï¼Œé¦–å…ˆè¯·æ±‚ç¼“å­˜ä¸­çš„å†…å®¹ï¼Œå¦‚æœæŸ¥åˆ°ï¼ˆhitï¼‰åˆ™ç›´æ¥è¿”å›ï¼Œä¸å†å»æŸ¥æ‰¾å­˜å‚¨å±‚ï¼›å¦‚æœæ²¡æœ‰ï¼ˆmissï¼‰ï¼Œåˆ™å»å­˜å‚¨å±‚ä¸­æŸ¥æ‰¾å¹¶å°†ç»“æœå†™å…¥ç¼“å­˜ï¼ˆwrite cacheï¼‰å†è¿”å›ï¼Œä»¥ä¾¿ä¹‹åç›¸åŒçš„è¯·æ±‚å¯ä»¥å»ç¼“å­˜ä¸­è·å–ã€‚&lt;/p&gt;
&lt;p&gt;ä¹‹æ‰€ä»¥åŠ å…¥ç¼“å­˜å±‚æ˜¯å› ä¸ºå­˜å‚¨å±‚ä¸€èˆ¬æ˜¯éœ€è¦è¯»å†™ç£ç›˜çš„ï¼Œè€Œç¼“å­˜å±‚åœ¨å†…å­˜ä¸­ï¼Œä¸¤è€…çš„è¯»å†™é€Ÿåº¦å®Œå…¨ä¸æ˜¯ä¸€ä¸ªé‡çº§ï¼Œå†…å­˜å¿«çš„å¤šã€‚è€Œå¤§éƒ¨åˆ†åº”ç”¨çš„è¯·æ±‚éƒ½æœ‰ä¸€ä¸ªç‰¹ç‚¹â€”â€”è¯»å¤šå†™å°‘ï¼Œæ‰€ä»¥å°†æ€»æ˜¯éœ€è¦æŸ¥åˆ°çš„æ•°æ®æ”¾åœ¨ç¼“å­˜å±‚ä¸­å¯ä»¥å¤§å¤§æé«˜åº”ç”¨çš„å“åº”é€Ÿåº¦ï¼Œå‡å°‘å­˜å‚¨å±‚çš„å‹åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬Webåº”ç”¨ä¸­ï¼Œå­˜å‚¨å±‚å°±æ˜¯æˆ‘ä»¬ç”¨çš„å…³ç³»å‹æ•°æ®åº“ï¼ŒMySQLã€Oracleã€SQLServerç­‰ï¼Œè€Œç¼“å­˜å±‚åˆ†ç±»ä¸Šé¢å·²ç»æåˆ°ï¼Œå¸¸ç”¨çš„æœ‰Redisï¼ŒMemcachedç­‰ã€‚&lt;/p&gt;
&lt;h2 id=&#34;mybatiså¼€å¯äºŒçº§ç¼“å­˜&#34;&gt;MyBatiså¼€å¯äºŒçº§ç¼“å­˜&lt;/h2&gt;
&lt;p&gt;MyBatisä¸€çº§ç¼“å­˜ä¸­ï¼Œå…¶æœ€å¤§çš„å…±äº«èŒƒå›´å°±æ˜¯ä¸€ä¸ªSqlSessionå†…éƒ¨ï¼Œå¦‚æœå¤šä¸ªSqlSessionä¹‹é—´éœ€è¦å…±äº«ç¼“å­˜ï¼Œåˆ™éœ€è¦ä½¿ç”¨åˆ°äºŒçº§ç¼“å­˜ã€‚&lt;/p&gt;
&lt;p&gt;å¼€å¯æ–¹æ³•ï¼š&lt;/p&gt;
&lt;p&gt;åœ¨ä¸šåŠ¡çš„mapper.xmlæ–‡ä»¶ä¸­æ·»åŠ &lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;cache/&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;äºŒçº§ç¼“å­˜å¼€å¯åï¼ŒåŒä¸€ä¸ªnamespaceä¸‹çš„æ‰€æœ‰æ“ä½œè¯­å¥ï¼Œéƒ½å½±å“ç€åŒä¸€ä¸ªCacheï¼Œå³äºŒçº§ç¼“å­˜è¢«å¤šä¸ªSqlSessionå…±äº«ï¼Œæ˜¯ä¸€ä¸ªå…¨å±€çš„å˜é‡ã€‚&lt;/p&gt;
&lt;p&gt;å½“å¼€å¯ç¼“å­˜åï¼Œæ•°æ®çš„æŸ¥è¯¢æ‰§è¡Œçš„æµç¨‹å°±æ˜¯ &lt;code&gt;äºŒçº§ç¼“å­˜ -&amp;gt; ä¸€çº§ç¼“å­˜ -&amp;gt; æ•°æ®åº“&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210825154918.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210825154918.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è¿™æ ·å¼€å¯çš„æ˜¯æœ¬åœ°äºŒçº§ç¼“å­˜ï¼Œè¿™æ ·æœ‰ä¸ªç¼ºç‚¹å°±æ˜¯åº”ç”¨é‡æ–°å¯åŠ¨åï¼ŒJVMé‡æ–°åˆ†é…å†…å­˜ï¼Œè¿™æ ·çš„è¯ä¹‹å‰çš„ç¼“å­˜å°±éƒ½æ²¡äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾—ç”¨åˆ†å¸ƒå¼ç¼“å­˜æ¥è§£å†³ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä½¿ç”¨redisä½œä¸ºmybatisçš„äºŒçº§ç¼“å­˜&#34;&gt;ä½¿ç”¨Redisä½œä¸ºMybatisçš„äºŒçº§ç¼“å­˜&lt;/h2&gt;
&lt;p&gt;MyBatisçš„ç¼“å­˜å®ç°ç±»é»˜è®¤æ˜¯PerpetualCacheï¼Œå®ƒç»§æ‰¿ç±»&lt;code&gt;Cache&lt;/code&gt;æ¥å£ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰å…¶ä»–å®ç°ç±»ã€‚&lt;/p&gt;
&lt;p&gt;åŸç†å°±æ˜¯ç»´æŠ¤ä¸€ä¸ªHashMapï¼Œå°†æŸ¥è¯¢çš„SQLä»¥åŠMapperçš„namespaceä½œä¸ºKeyï¼Œç„¶åæŸ¥è¯¢çš„ç»“æœä½œä¸ºValueï¼Œé€šè¿‡é”®å€¼å¯¹çš„æ–¹å¼æ¥å®ç°ç¼“å­˜æŸ¥è¯¢è¿‡çš„sqlè¯­å¥çš„ç»“æœï¼Œæ‰€ä»¥è¦ç”¨redisæ›¿æ¢ä¹Ÿè¿˜æ˜¯ååˆ†åˆé€‚çš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;cacheæ¥å£&#34;&gt;Cacheæ¥å£&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Cache&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;

    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;putObject&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;var1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;var2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getObject&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;var1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;removeObject&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;var1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;clear&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;

    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getSize&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;ReadWriteLock&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getReadWriteLock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;è§£æ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;getId&lt;/code&gt; ï¼šè¿™ä¸ªæ–¹æ³•å…¶å®æ˜¯è·å–äº†æ‰§è¡Œçš„sqlå¯¹åº”çš„namespaceï¼Œå¯ä»¥ç”¨æ¥ç»„æˆç¼“å­˜çš„key&lt;/p&gt;
&lt;p&gt;&lt;code&gt;putObject&lt;/code&gt; ï¼šæ­¤æ–¹æ³•å°±æ˜¯ç”¨æ¥å°†æ•°æ®æ”¾å…¥ç¼“å­˜çš„&lt;/p&gt;
&lt;p&gt;&lt;code&gt;getObject&lt;/code&gt; ï¼šç”¨ä»¥æ ¹æ®keyè·å–ç¼“å­˜çš„å€¼&lt;/p&gt;
&lt;p&gt;&lt;code&gt;removeObject&lt;/code&gt; ï¼šåˆ é™¤æŸä¸€ç¼“å­˜é¡¹ç›®ï¼ŒMyBatisæš‚æœªå®ç°ä¸å¯ç”¨æ­¤æ–¹æ³•ï¼Œæ‰€ä»¥æš‚æ—¶æ— ç”¨&lt;/p&gt;
&lt;p&gt;&lt;code&gt;clear&lt;/code&gt; ï¼š&lt;strong&gt;æ¯æ¬¡&lt;/strong&gt;æ‰§è¡Œupdate/delete/insertè¯­å¥éƒ½ä¼šè°ƒç”¨æ­¤æ–¹æ³•è¿›è¡Œæ¸…é™¤åŸæœ‰çš„ç¼“å­˜&lt;/p&gt;
&lt;p&gt;&lt;code&gt;getSize&lt;/code&gt; ï¼šè·å–ç¼“å­˜å¤§å°ï¼Œæš‚æ—¶ç”¨å¤„ä¸å¤§&lt;/p&gt;
&lt;p&gt;&lt;code&gt;getReadWriteLock&lt;/code&gt; ï¼šè·å–è¯»å†™é”ï¼Œè¿™æ˜¯ç”¨æ¥æ‹¿åˆ°äº’æ–¥é”è§£å†³&lt;strong&gt;ç¼“å­˜å‡»ç©¿&lt;/strong&gt;é—®é¢˜çš„&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æˆ‘ä»¬åªè¦æ°å½“åœ°å®ç°ä»¥ä¸Šæ–¹æ³•ï¼Œå¯¹æ¥ä¸Šredisï¼Œå°±å¯ä»¥ä½¿ç”¨redisä½œä¸ºmybatisçš„äºŒçº§ç¼“å­˜äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;mybatisrediscacheå®ç°ç±»&#34;&gt;MyBatisRedisCacheå®ç°ç±»&lt;/h3&gt;
&lt;p&gt;è¿™é‡Œåœ¨ç½‘ä¸Šæ‰¾äº†ä¸€ä¸ªåšä¸»å®ç°åœ°æ¯”è¾ƒå¥½çš„ï¼Œé“¾æ¥åœ¨æ–‡ç« æœ€åï¼Œä½œè€…ä¸º&lt;strong&gt;Leven&lt;/strong&gt;&lt;/p&gt;
&lt;h4 id=&#34;springbooté…ç½®&#34;&gt;SpringBooté…ç½®&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;mybatis&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;configuration&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;cache-enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;redisconfigä¸­é…ç½®redistemplate&#34;&gt;RedisConfigä¸­é…ç½®RedisTemplate&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * Redisç¼“å­˜é…ç½®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @author Leven
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @date 2019-09-07
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@Configuration&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;RedisConfig&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * é…ç½®è‡ªå®šä¹‰redisTemplate
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return redisTemplate
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Bean&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RedisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;RedisConnectionFactory&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisConnectionFactory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;RedisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;template&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RedisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;template&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setConnectionFactory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;redisConnectionFactory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// ä½¿ç”¨Jackson2JsonRedisSerializeræ¥åºåˆ—åŒ–å’Œååºåˆ—åŒ–redisçš„valueå€¼
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;Jackson2JsonRedisSerializer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;jackson2JsonRedisSerializer&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Jackson2JsonRedisSerializer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;StringRedisSerializer&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;stringRedisSerializer&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;StringRedisSerializer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;ObjectMapper&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mapper&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ObjectMapper&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;mapper&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setVisibility&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PropertyAccessor&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;ALL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;JsonAutoDetect&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;Visibility&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;ANY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;mapper&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;enableDefaultTyping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ObjectMapper&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;DefaultTyping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;NON_FINAL&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;jackson2JsonRedisSerializer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setObjectMapper&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mapper&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;template&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setKeySerializer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stringRedisSerializer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;template&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setValueSerializer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jackson2JsonRedisSerializer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;template&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setHashKeySerializer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stringRedisSerializer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;template&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setHashValueSerializer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jackson2JsonRedisSerializer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;template&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;afterPropertiesSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;template&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;redisserviceæ¥å£&#34;&gt;RedisServiceæ¥å£&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * redisåŸºç¡€æœåŠ¡æ¥å£
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @author Leven
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @date 2019-09-07
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;RedisService&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;// =============================common============================
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * æŒ‡å®šç¼“å­˜å¤±æ•ˆæ—¶é—´
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param time æ—¶é—´(ç§’)
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;expire&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * æŒ‡å®šç¼“å­˜å¤±æ•ˆæ—¶é—´
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param expireAt å¤±æ•ˆæ—¶é—´ç‚¹
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return å¤„ç†ç»“æœ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;expireAt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Date&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;expireAt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * æ ¹æ®key è·å–è¿‡æœŸæ—¶é—´
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”® ä¸èƒ½ä¸ºnull
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return æ—¶é—´(ç§’) è¿”å›0ä»£è¡¨ä¸ºæ°¸ä¹…æœ‰æ•ˆ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getExpire&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * åˆ¤æ–­keyæ˜¯å¦å­˜åœ¨
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return true å­˜åœ¨ falseä¸å­˜åœ¨
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Boolean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hasKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * åˆ é™¤ç¼“å­˜
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key å¯ä»¥ä¼ ä¸€ä¸ªå€¼ æˆ–å¤šä¸ª
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * åˆ é™¤ç¼“å­˜
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param keys å¯ä»¥ä¼ ä¸€ä¸ªå€¼ æˆ–å¤šä¸ª
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Collection&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;keys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// ============================String=============================
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * æ™®é€šç¼“å­˜è·å–
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * æ™®é€šç¼“å­˜æ”¾å…¥
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * æ™®é€šç¼“å­˜æ”¾å…¥å¹¶è®¾ç½®æ—¶é—´
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param time æ—¶é—´(ç§’) timeè¦å¤§äº0 å¦‚æœtimeå°äºç­‰äº0 å°†è®¾ç½®æ— é™æœŸ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * æ™®é€šç¼“å­˜æ”¾å…¥å¹¶è®¾ç½®æ—¶é—´
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param time æ—¶é—´(ç§’) timeè¦å¤§äº0 å¦‚æœtimeå°äºç­‰äº0 å°†è®¾ç½®æ— é™æœŸ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TimeUnit&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;timeUnit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * é€’å¢
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value è¦å¢åŠ å‡ (å¤§äº0)
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return é€’å¢åç»“æœ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;incr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * é€’å‡
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value è¦å‡å°‘å‡ (å¤§äº0)
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return é€’å‡åç»“æœ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;decr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// ================================Map=================================
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * HashGet
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”® ä¸èƒ½ä¸ºnull
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param item é¡¹ ä¸èƒ½ä¸ºnull
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashGet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * è·å–hashKeyå¯¹åº”çš„æ‰€æœ‰é”®å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return å¯¹åº”çš„å¤šä¸ªé”®å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashEntries&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * HashSet
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param map å¯¹åº”å¤šä¸ªé”®å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * HashSet å¹¶è®¾ç½®æ—¶é—´
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param map å¯¹åº”å¤šä¸ªé”®å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param time æ—¶é—´(ç§’)
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * å‘ä¸€å¼ hashè¡¨ä¸­æ”¾å…¥æ•°æ®,å¦‚æœä¸å­˜åœ¨å°†åˆ›å»º
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param item é¡¹
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * å‘ä¸€å¼ hashè¡¨ä¸­æ”¾å…¥æ•°æ®,å¦‚æœä¸å­˜åœ¨å°†åˆ›å»º
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param item é¡¹
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param time æ—¶é—´(ç§’) æ³¨æ„:å¦‚æœå·²å­˜åœ¨çš„hashè¡¨æœ‰æ—¶é—´,è¿™é‡Œå°†ä¼šæ›¿æ¢åŸæœ‰çš„æ—¶é—´
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * åˆ é™¤hashè¡¨ä¸­çš„å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”® ä¸èƒ½ä¸ºnull
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param item é¡¹ å¯ä»¥ä½¿å¤šä¸ª ä¸èƒ½ä¸ºnull
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashDelete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * åˆ é™¤hashè¡¨ä¸­çš„å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”® ä¸èƒ½ä¸ºnull
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param items é¡¹ å¯ä»¥ä½¿å¤šä¸ª ä¸èƒ½ä¸ºnull
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashDelete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Collection&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;items&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * åˆ¤æ–­hashè¡¨ä¸­æ˜¯å¦æœ‰è¯¥é¡¹çš„å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”® ä¸èƒ½ä¸ºnull
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param item é¡¹ ä¸èƒ½ä¸ºnull
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return true å­˜åœ¨ falseä¸å­˜åœ¨
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Boolean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashHasKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * hashé€’å¢ å¦‚æœä¸å­˜åœ¨,å°±ä¼šåˆ›å»ºä¸€ä¸ª å¹¶æŠŠæ–°å¢åçš„å€¼è¿”å›
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param item é¡¹
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value è¦å¢åŠ å‡ (å¤§äº0)
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return é€’å¢åç»“æœ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Double&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashIncr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;double&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * hashé€’å‡
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param item é¡¹
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value è¦å‡å°‘è®°(å°äº0)
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return é€’å‡åç»“æœ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Double&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashDecr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;double&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// ============================set=============================
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * æ ¹æ®keyè·å–Setä¸­çš„æ‰€æœ‰å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return seté›†åˆ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setGet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * æ ¹æ®valueä»ä¸€ä¸ªsetä¸­æŸ¥è¯¢,æ˜¯å¦å­˜åœ¨
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return true å­˜åœ¨ falseä¸å­˜åœ¨
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Boolean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setIsMember&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * å°†æ•°æ®æ”¾å…¥setç¼“å­˜
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param values å€¼ å¯ä»¥æ˜¯å¤šä¸ª
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return æˆåŠŸä¸ªæ•°
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setAdd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * å°†æ•°æ®æ”¾å…¥setç¼“å­˜
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param values å€¼ å¯ä»¥æ˜¯å¤šä¸ª
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return æˆåŠŸä¸ªæ•°
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setAdd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Collection&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * å°†setæ•°æ®æ”¾å…¥ç¼“å­˜
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param time æ—¶é—´(ç§’)
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param values å€¼ å¯ä»¥æ˜¯å¤šä¸ª
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return æˆåŠŸä¸ªæ•°
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setAdd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * è·å–setç¼“å­˜çš„é•¿åº¦
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return seté•¿åº¦
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setSize&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * ç§»é™¤å€¼ä¸ºvalueçš„
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param values å€¼ å¯ä»¥æ˜¯å¤šä¸ª
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return ç§»é™¤çš„ä¸ªæ•°
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setRemove&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// ===============================list=================================
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * è·å–listç¼“å­˜çš„å†…å®¹
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param start å¼€å§‹
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param end ç»“æŸ 0 åˆ° -1ä»£è¡¨æ‰€æœ‰å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return ç¼“å­˜åˆ—è¡¨
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;listRange&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * è·å–listç¼“å­˜çš„é•¿åº¦
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return é•¿åº¦
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;listSize&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * é€šè¿‡ç´¢å¼• è·å–listä¸­çš„å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param index ç´¢å¼• index&amp;gt;=0æ—¶ï¼Œ 0 è¡¨å¤´ï¼Œ1 ç¬¬äºŒä¸ªå…ƒç´ ï¼Œä¾æ¬¡ç±»æ¨ï¼›index&amp;lt;0æ—¶ï¼Œ-1ï¼Œè¡¨å°¾ï¼Œ-2å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ ï¼Œä¾æ¬¡ç±»æ¨
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;listIndex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * å°†listæ”¾å…¥ç¼“å­˜
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;listRightPush&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * å°†listæ”¾å…¥ç¼“å­˜
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param time æ—¶é—´(ç§’)
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;listRightPush&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * å°†listæ”¾å…¥ç¼“å­˜
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;listRightPushAll&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * å°†listæ”¾å…¥ç¼“å­˜
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param time æ—¶é—´(ç§’)
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;listRightPushAll&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * æ ¹æ®ç´¢å¼•ä¿®æ”¹listä¸­çš„æŸæ¡æ•°æ®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param index ç´¢å¼•
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;listSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * ç§»é™¤Nä¸ªå€¼ä¸ºvalue
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param count ç§»é™¤å¤šå°‘ä¸ª
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return ç§»é™¤çš„ä¸ªæ•°
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;listRemove&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;redisserviceimplå®ç°&#34;&gt;RedisServiceImplå®ç°&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * redisåŸºç¡€æœåŠ¡æ¥å£å®ç°
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @author Leven
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @date 2019-09-07
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@Slf4j&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@Service&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;RedisServiceImpl&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;implements&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RedisService&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PREFIX&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;åº”ç”¨å&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RedisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// =============================common============================
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * æŒ‡å®šç¼“å­˜å¤±æ•ˆæ—¶é—´
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key  é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param time æ—¶é—´(ç§’)
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;expire&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;expire&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TimeUnit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;SECONDS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * æŒ‡å®šç¼“å­˜å¤±æ•ˆæ—¶é—´
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key      é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param expireAt å¤±æ•ˆæ—¶é—´ç‚¹
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return å¤„ç†ç»“æœ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;expireAt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Date&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;expireAt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;expireAt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;expireAt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * æ ¹æ®key è·å–è¿‡æœŸæ—¶é—´
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”® ä¸èƒ½ä¸ºnull
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return æ—¶é—´(ç§’) è¿”å›0ä»£è¡¨ä¸ºæ°¸ä¹…æœ‰æ•ˆ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getExpire&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getExpire&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TimeUnit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;SECONDS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * åˆ¤æ–­keyæ˜¯å¦å­˜åœ¨
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return true å­˜åœ¨ falseä¸å­˜åœ¨
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Boolean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hasKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;hasKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * åˆ é™¤ç¼“å­˜
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param keys å¯ä»¥ä¼ ä¸€ä¸ªå€¼ æˆ–å¤šä¸ª
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;keys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;keys&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;keys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;keys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;keys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]));&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;keyList&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ArrayList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;keys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;keys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;keyList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;keyList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * åˆ é™¤ç¼“å­˜
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param keys å¯ä»¥ä¼ ä¸€ä¸ªå€¼ æˆ–å¤šä¸ª
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Collection&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;keys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;keys&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;keys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;isEmpty&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;())&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;keyList&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ArrayList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;keys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;keys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;keyList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;keyList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// ============================String=============================
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * æ™®é€šç¼“å­˜è·å–
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForValue&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * æ™®é€šç¼“å­˜æ”¾å…¥
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key   é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForValue&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * æ™®é€šç¼“å­˜æ”¾å…¥å¹¶è®¾ç½®æ—¶é—´
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key   é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param time  æ—¶é—´(ç§’) timeè¦å¤§äº0 å¦‚æœtimeå°äºç­‰äº0 å°†è®¾ç½®æ— é™æœŸ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TimeUnit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;SECONDS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * æ™®é€šç¼“å­˜æ”¾å…¥å¹¶è®¾ç½®æ—¶é—´
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key      é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value    å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param time     æ—¶é—´ timeè¦å¤§äº0 å¦‚æœtimeå°äºç­‰äº0 å°†è®¾ç½®æ— é™æœŸ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param timeUnit æ—¶é—´å•ä½
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TimeUnit&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;timeUnit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForValue&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;timeUnit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * é€’å¢
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key   é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value è¦å¢åŠ å‡ (å¤§äº0)
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return é€’å¢åç»“æœ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;incr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;value&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;BizException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;é€’å¢å› å­å¿…é¡»å¤§äº0&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForValue&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;increment&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * é€’å‡
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key   é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value è¦å‡å°‘å‡ (å¤§äº0)
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return é€’å‡åç»“æœ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;decr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;value&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;BizException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;é€’å‡å› å­å¿…é¡»å¤§äº0&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForValue&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;decrement&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// ================================Map=================================
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * HashGet
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key  é”® ä¸èƒ½ä¸ºnull
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param item é¡¹ ä¸èƒ½ä¸ºnull
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashGet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForHash&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * è·å–hashKeyå¯¹åº”çš„æ‰€æœ‰é”®å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return å¯¹åº”çš„å¤šä¸ªé”®å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashEntries&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForHash&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;entries&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * HashSet
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param map å¯¹åº”å¤šä¸ªé”®å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForHash&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;putAll&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * HashSet å¹¶è®¾ç½®æ—¶é—´
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key  é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param map  å¯¹åº”å¤šä¸ªé”®å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param time æ—¶é—´(ç§’)
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;k&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForHash&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;putAll&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;expire&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * å‘ä¸€å¼ hashè¡¨ä¸­æ”¾å…¥æ•°æ®,å¦‚æœä¸å­˜åœ¨å°†åˆ›å»º
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key   é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param item  é¡¹
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForHash&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;putIfAbsent&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * å‘ä¸€å¼ hashè¡¨ä¸­æ”¾å…¥æ•°æ®,å¦‚æœä¸å­˜åœ¨å°†åˆ›å»º
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key   é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param item  é¡¹
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param time  æ—¶é—´(ç§’) æ³¨æ„:å¦‚æœå·²å­˜åœ¨çš„hashè¡¨æœ‰æ—¶é—´,è¿™é‡Œå°†ä¼šæ›¿æ¢åŸæœ‰çš„æ—¶é—´
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;k&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForHash&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;putIfAbsent&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;expire&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * åˆ é™¤hashè¡¨ä¸­çš„å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key  é”® ä¸èƒ½ä¸ºnull
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param item é¡¹ å¯ä»¥ä½¿å¤šä¸ª ä¸èƒ½ä¸ºnull
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashDelete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForHash&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * åˆ é™¤hashè¡¨ä¸­çš„å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key   é”® ä¸èƒ½ä¸ºnull
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param items é¡¹ å¯ä»¥ä½¿å¤šä¸ª ä¸èƒ½ä¸ºnull
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashDelete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Collection&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;items&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForHash&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;items&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;toArray&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * åˆ¤æ–­hashè¡¨ä¸­æ˜¯å¦æœ‰è¯¥é¡¹çš„å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key  é”® ä¸èƒ½ä¸ºnull
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param item é¡¹ ä¸èƒ½ä¸ºnull
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return true å­˜åœ¨ falseä¸å­˜åœ¨
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Boolean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashHasKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForHash&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;hasKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * hashé€’å¢ å¦‚æœä¸å­˜åœ¨,å°±ä¼šåˆ›å»ºä¸€ä¸ª å¹¶æŠŠæ–°å¢åçš„å€¼è¿”å›
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key   é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param item  é¡¹
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value è¦å¢åŠ å‡ (å¤§äº0)
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return é€’å¢åç»“æœ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Double&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashIncr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;double&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;value&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;BizException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;é€’å¢å› å­å¿…é¡»å¤§äº0&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForHash&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;increment&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * hashé€’å‡
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key   é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param item  é¡¹
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value è¦å‡å°‘è®°(å°äº0)
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return é€’å‡åç»“æœ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Double&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hashDecr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;double&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;value&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;BizException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;é€’å‡å› å­å¿…é¡»å¤§äº0&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForHash&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;increment&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// ============================set=============================
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * æ ¹æ®keyè·å–Setä¸­çš„æ‰€æœ‰å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return seté›†åˆ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setGet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;members&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * æ ¹æ®valueä»ä¸€ä¸ªsetä¸­æŸ¥è¯¢,æ˜¯å¦å­˜åœ¨
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key   é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return true å­˜åœ¨ falseä¸å­˜åœ¨
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Boolean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setIsMember&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;isMember&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * å°†æ•°æ®æ”¾å…¥setç¼“å­˜
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key    é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param values å€¼ å¯ä»¥æ˜¯å¤šä¸ª
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return æˆåŠŸä¸ªæ•°
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setAdd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * å°†æ•°æ®æ”¾å…¥setç¼“å­˜
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key    é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param values å€¼ å¯ä»¥æ˜¯å¤šä¸ª
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return æˆåŠŸä¸ªæ•°
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setAdd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Collection&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;toArray&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * å°†setæ•°æ®æ”¾å…¥ç¼“å­˜
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key    é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param time   æ—¶é—´(ç§’)
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param values å€¼ å¯ä»¥æ˜¯å¤šä¸ª
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return æˆåŠŸä¸ªæ•°
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setAdd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;k&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;count&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;expire&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * è·å–setç¼“å­˜çš„é•¿åº¦
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return seté•¿åº¦
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setSize&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * ç§»é™¤å€¼ä¸ºvalueçš„
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key    é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param values å€¼ å¯ä»¥æ˜¯å¤šä¸ª
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return ç§»é™¤çš„ä¸ªæ•°
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setRemove&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;remove&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;values&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// ===============================list=================================
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * è·å–listç¼“å­˜çš„å†…å®¹
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key   é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param start å¼€å§‹
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param end   ç»“æŸ 0 åˆ° -1ä»£è¡¨æ‰€æœ‰å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return ç¼“å­˜åˆ—è¡¨
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;listRange&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;range&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * è·å–listç¼“å­˜çš„é•¿åº¦
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return é•¿åº¦
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;listSize&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * é€šè¿‡ç´¢å¼• è·å–listä¸­çš„å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key   é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param index ç´¢å¼• index&amp;gt;=0æ—¶ï¼Œ 0 è¡¨å¤´ï¼Œ1 ç¬¬äºŒä¸ªå…ƒç´ ï¼Œä¾æ¬¡ç±»æ¨ï¼›index&amp;lt;0æ—¶ï¼Œ-1ï¼Œè¡¨å°¾ï¼Œ-2å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ ï¼Œä¾æ¬¡ç±»æ¨
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;listIndex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * å°†listæ”¾å…¥ç¼“å­˜
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key   é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;listRightPush&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;rightPush&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * å°†listæ”¾å…¥ç¼“å­˜
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key   é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param time  æ—¶é—´(ç§’)
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;listRightPush&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;k&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;rightPush&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;expire&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * å°†listæ”¾å…¥ç¼“å­˜
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key   é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;listRightPushAll&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;rightPushAll&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * å°†listæ”¾å…¥ç¼“å­˜
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key   é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param time  æ—¶é—´(ç§’)
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;listRightPushAll&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;k&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;rightPushAll&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;time&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;expire&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * æ ¹æ®ç´¢å¼•ä¿®æ”¹listä¸­çš„æŸæ¡æ•°æ®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key   é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param index ç´¢å¼•
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;listSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * ç§»é™¤Nä¸ªå€¼ä¸ºvalue
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key   é”®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param count ç§»é™¤å¤šå°‘ä¸ª
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return ç§»é™¤çš„ä¸ªæ•°
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;listRemove&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;opsForList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;remove&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PREFIX&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;:&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;å®ç°cacheæ¥å£çš„mybatisrediscache&#34;&gt;å®ç°Cacheæ¥å£çš„MybatisRedisCache&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * MyBatisäºŒçº§ç¼“å­˜Rediså®ç°
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * é‡ç‚¹å¤„ç†ä»¥ä¸‹å‡ ä¸ªé—®é¢˜
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * 1ã€ç¼“å­˜ç©¿é€ï¼šå­˜å‚¨ç©ºå€¼è§£å†³ï¼ŒMyBatisæ¡†æ¶å®ç°
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * 2ã€ç¼“å­˜å‡»ç©¿ï¼šä½¿ç”¨äº’æ–¥é”ï¼Œæˆ‘ä»¬è‡ªå·±å®ç°
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * 3ã€ç¼“å­˜é›ªå´©ï¼šç¼“å­˜æœ‰æ•ˆæœŸè®¾ç½®ä¸ºä¸€ä¸ªéšæœºèŒƒå›´ï¼Œæˆ‘ä»¬è‡ªå·±å®ç°
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * 4ã€è¯»å†™æ€§èƒ½ï¼šredis keyä¸èƒ½è¿‡é•¿ï¼Œä¼šå½±å“æ€§èƒ½ï¼Œè¿™é‡Œä½¿ç”¨SHA-256è®¡ç®—æ‘˜è¦å½“æˆkey
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @author Leven
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @date 2019-09-07
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@Slf4j&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;MybatisRedisCache&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;implements&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Cache&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * ç»Ÿä¸€å­—ç¬¦é›†
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CHARSET&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;utf-8&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * keyæ‘˜è¦ç®—æ³•
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ALGORITHM&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;SHA-256&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * ç»Ÿä¸€ç¼“å­˜å¤´
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CACHE_NAME&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;MyBatis:&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * è¯»å†™é”ï¼šè§£å†³ç¼“å­˜å‡»ç©¿
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ReadWriteLock&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;readWriteLock&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ReentrantReadWriteLock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * è¡¨ç©ºé—´IDï¼šæ–¹ä¾¿åé¢çš„ç¼“å­˜æ¸…ç†
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * redisæœåŠ¡æ¥å£ï¼šæä¾›åŸºæœ¬çš„è¯»å†™å’Œæ¸…ç†
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;volatile&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RedisService&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * ä¿¡æ¯æ‘˜è¦
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;volatile&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MessageDigest&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;messageDigest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;/////////////////////// è§£å†³ç¼“å­˜é›ªå´©ï¼Œå…·ä½“èŒƒå›´æ ¹æ®ä¸šåŠ¡éœ€è¦è®¾ç½®åˆç†å€¼ //////////////////////////
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * ç¼“å­˜æœ€å°æœ‰æ•ˆæœŸ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MIN_EXPIRE_MINUTES&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;60&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * ç¼“å­˜æœ€å¤§æœ‰æ•ˆæœŸ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MAX_EXPIRE_MINUTES&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;120&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * MyBatisç»™æ¯ä¸ªè¡¨ç©ºé—´åˆå§‹åŒ–çš„æ—¶å€™è¦ç”¨åˆ°
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param id å…¶å®å°±æ˜¯namespaceçš„å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;MybatisRedisCache&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;IllegalArgumentException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Cache instances require an ID&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * è·å–ID
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return çœŸå®å€¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * åˆ›å»ºç¼“å­˜
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key å…¶å®å°±æ˜¯sqlè¯­å¥
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param value sqlè¯­å¥æŸ¥è¯¢ç»“æœ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;putObject&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;strKey&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;// æœ‰æ•ˆæœŸä¸º1~2å°æ—¶ä¹‹é—´éšæœºï¼Œé˜²æ­¢é›ªå´©
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;expireMinutes&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RandomUtils&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;nextInt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MIN_EXPIRE_MINUTES&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MAX_EXPIRE_MINUTES&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;getRedisService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;strKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;expireMinutes&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TimeUnit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;MINUTES&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;debug&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Put cache to redis, id={}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Exception&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Redis put failed, id=&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * è¯»å–ç¼“å­˜
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key å…¶å®å°±æ˜¯sqlè¯­å¥
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return ç¼“å­˜ç»“æœ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getObject&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;strKey&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;debug&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Get cache from redis, id={}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getRedisService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;strKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Exception&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Redis get failed, fail over to db&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * åˆ é™¤ç¼“å­˜
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param key å…¶å®å°±æ˜¯sqlè¯­å¥
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return ç»“æœ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;removeObject&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;strKey&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;getRedisService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;strKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;debug&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Remove cache from redis, id={}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Exception&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Redis remove failed&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * ç¼“å­˜æ¸…ç†
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * ç½‘ä¸Šå¥½å¤šåšå®¢è¿™é‡Œç”¨äº†flushDbç”šè‡³æ˜¯flushAllï¼Œæ„Ÿè§‰å¥½å‘é¸­ï¼
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * åº”è¯¥æ˜¯æ ¹æ®è¡¨ç©ºé—´è¿›è¡Œæ¸…ç†
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;clear&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;debug&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;clear cache, id={}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;hsKey&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CACHE_NAME&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;// è·å–CacheNamespaceæ‰€æœ‰ç¼“å­˜key
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;idMap&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getRedisService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;hashEntries&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;hsKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;idMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;isEmpty&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;())&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;Set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;keySet&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;idMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;keySet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;Set&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;keys&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HashSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;keySet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;keySet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;forEach&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;item&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;keys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;item&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;toString&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()));&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;// æ¸…ç©ºCacheNamespaceæ‰€æœ‰ç¼“å­˜
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;n&#34;&gt;getRedisService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;keys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;// æ¸…ç©ºCacheNamespace
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;n&#34;&gt;getRedisService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;hsKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Exception&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;clear cache failed&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * è·å–ç¼“å­˜å¤§å°ï¼Œæš‚æ—¶æ²¡ç”¨ä¸Š
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return é•¿åº¦
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getSize&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * è·å–è¯»å†™é”ï¼šä¸ºäº†è§£å†³ç¼“å­˜å‡»ç©¿
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return é”
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ReadWriteLock&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getReadWriteLock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;readWriteLock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * è®¡ç®—å‡ºkeyçš„æ‘˜è¦
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param cacheKey CacheKey
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return å­—ç¬¦ä¸²key
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cacheKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cacheKeyStr&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cacheKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;toString&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;debug&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;count hash key, cache key origin string:{}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cacheKeyStr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;strKey&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;byte2hex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getSHADigest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cacheKeyStr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;debug&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;hash key:{}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;strKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CACHE_NAME&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;strKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// åœ¨redisé¢å¤–ç»´æŠ¤CacheNamespaceåˆ›å»ºçš„keyï¼Œclearçš„æ—¶å€™åªæ¸…ç†å½“å‰CacheNamespaceçš„æ•°æ®
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;getRedisService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;hashSet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CACHE_NAME&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * è·å–ä¿¡æ¯æ‘˜è¦
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param data å¾…è®¡ç®—å­—ç¬¦ä¸²
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return å­—èŠ‚æ•°ç»„
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;byte&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getSHADigest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;messageDigest&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;kd&#34;&gt;synchronized&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MessageDigest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;messageDigest&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                        &lt;span class=&#34;n&#34;&gt;messageDigest&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MessageDigest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getInstance&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ALGORITHM&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
                    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;messageDigest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;digest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getBytes&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CHARSET&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Exception&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;SHA-256 digest error: &amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SPIException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ExceptionCode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;RUNTIME_UNITE_EXP&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;SHA-256 digest error, id=&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;  &lt;span class=&#34;s&#34;&gt;&amp;#34;.&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * å­—èŠ‚æ•°ç»„è½¬16è¿›åˆ¶å­—ç¬¦ä¸²
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param bytes å¾…è½¬æ¢æ•°ç»„
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return 16è¿›åˆ¶å­—ç¬¦ä¸²
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;byte2hex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;byte&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bytes&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;StringBuilder&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sign&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;StringBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;byte&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;aByte&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bytes&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;hex&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Integer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;toHexString&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;aByte&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0xFF&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;hex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;sign&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;0&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;sign&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;hex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;toUpperCase&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sign&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;toString&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * è·å–RedisæœåŠ¡æ¥å£
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * ä½¿ç”¨åŒé‡æ£€æŸ¥ä¿è¯çº¿ç¨‹å®‰å…¨
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return æœåŠ¡å®ä¾‹
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RedisService&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getRedisService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;redisService&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;kd&#34;&gt;synchronized&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;RedisService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;redisService&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;redisService&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ApplicationContextUtils&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getBeanByClass&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;RedisService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;redisService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;é…ç½®å®ç°ç±»&#34;&gt;é…ç½®å®ç°ç±»&lt;/h4&gt;
&lt;p&gt;æœ‰ä¸¤ç§æ–¹å¼é…ç½®äºŒçº§ç¼“å­˜å®ç°ç±»åˆ°mapperä¸Šï¼ŒäºŒé€‰ä¸€&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Javaä»£ç ï¼ˆæ³¨è§£ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@CacheNamespace&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;implementation&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;com&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;leven&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;mybatis&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;core&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;cache&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;MybatisRedisCache&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;UserMapper&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;extends&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;OracleMapper&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;UserDO&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;XML&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;cache&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;type=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;com.leven.mybatis.core.cache.MybatisRedisCache&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å®ç°ç±»è§£æä¸ç¼“å­˜ä¸‰å¤§é—®é¢˜çš„è§£å†³&#34;&gt;å®ç°ç±»è§£æä¸ç¼“å­˜ä¸‰å¤§é—®é¢˜çš„è§£å†³&lt;/h3&gt;
&lt;p&gt;é€šè¿‡é˜…è¯»ä»¥ä¸Šå®ç°ç±»æºç å¯ä»¥çœ‹å‡ºå…¶ä¸­ä¸€äº›è®¾è®¡çš„ç²¾å·§ï¼Œä¸‹é¢ä¸€ä¸€æ¥åˆ†æã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Keyçš„å‘½å&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;keyçš„å‘½åå¯ä»¥çœ‹åˆ°ä½¿ç”¨äº†ä¸€äº›å‰ç¼€ï¼Œæ¯”å¦‚æœ€ç»ˆå¯¹æŸä¸€sqlè¿è¡Œç»“æœç¼“å­˜çš„keyå®é™…ä¸Šæ˜¯&lt;/p&gt;
&lt;p&gt;&lt;code&gt;åº”ç”¨å:MyBatis:SQLè½¬ä¸ºçš„HEX&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹å‡ºæ˜¯ç”¨å†’å·éš”å¼€çš„ï¼Œä¸€å±‚ä¸€å±‚çš„ï¼Œç±»ä¼¼å‘½åç©ºé—´ä¸€æ ·çš„æ–¹å¼ï¼Œè¿™ç§keyå‘½åæ–¹å¼çš„å¥½å¤„æ˜¯å¯ä»¥å¾ˆå¥½åœ°åŒºåˆ†ä¸åŒä¸šåŠ¡çš„keyï¼Œä½¿å¾—ç¼“å­˜çš„å­˜å‚¨æ›´æœ‰æ¡ç†æ›´åŠ è§„èŒƒï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥ä½¿å¾—åœ¨RDMç­‰rediså¯è§†åŒ–ç•Œé¢ä¸­å‘ˆç°æ ‘å½¢çš„ç»“æ„ã€‚&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;&lt;strong&gt;keyçš„æ‘˜è¦å¤„ç†&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;MyBatisåŸå§‹çš„keyé‡Œæ˜¯ç›´æ¥åŒ…å«äº†è¢«æ‰§è¡Œçš„sqlè¯­å¥ï¼Œä½†æ˜¯è¿™æ ·ä¼šå¯¼è‡´keyçš„é•¿åº¦å¤ªå¤§ï¼Œå¯¹redisæ€§èƒ½æœ‰ä¸€å®šçš„å½±å“ï¼Œæ‰€ä»¥è¿™é‡Œçš„å¤„ç†æ˜¯ç”¨&lt;code&gt;SHA-256&lt;/code&gt;ç®—æ³•è®¡ç®—å‡ºåŸæœ¬ä¸ºstringçš„keyçš„æ‘˜è¦ï¼Œæœ€åå°†å…¶è½¬æ¢ä¸ºåå…­è¿›åˆ¶çš„è¡¨ç¤ºå½¢å¼ã€‚&lt;/p&gt;
&lt;p&gt;è¿™æ ·åšçš„ä¼˜ç‚¹æ˜¯å¯ä»¥ç¼©çŸ­keyçš„é•¿åº¦ï¼Œæå‡redisæ€§èƒ½ï¼ŒåŒæ—¶ä¹Ÿä¿è¯äº†sqlä¸keyçš„å”¯ä¸€å¯¹åº”æ€§ï¼Œåªæ˜¯éœ€è¦ä¸€ç‚¹å¼€é”€å»è®¡ç®—è¿™ä¸ªè¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;&lt;strong&gt;CacheNamespace&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç½‘ä¸Šå¾ˆå¤šå…¶ä»–çš„clearæ–¹æ³•çš„å®ç°ç±»éƒ½æ˜¯&lt;code&gt;flushdb&lt;/code&gt;çš„ï¼Œè¿™æ ·åšä¸å¥½ï¼Œå› ä¸ºå¾ˆå¤šæƒ…å†µä¸‹ä¸åŒnamespaceä¸‹çš„æ•°æ®å¹¶æ— å…³è”ï¼Œè¿™è¾¹çš„ä¿®æ”¹ä¸ä¼šå½±å“é‚£è¾¹ï¼Œæ‰€ä»¥åªéœ€è¦æ¸…é™¤æœ¬SQLæ‰€åœ¨çš„namespaceå³å¯ï¼Œä¸éœ€è¦å…¨éƒ¨æ¸…é™¤ï¼Œè¢«æ¸…é™¤çš„ä¹‹åè¿˜è¦å»æ•°æ®åº“ä¸­å–ä¹Ÿæ˜¯å¢åŠ äº†å¼€é”€ã€‚ï¼ˆå¦‚æœæœ‰å…³è”çš„ç¼“å­˜åˆ™ç”¨å¦ä¸€ç§æ–¹æ³•å¤„ç†ï¼Œæ–‡ç« ä¸‹é¢æœ‰ä»‹ç»ï¼‰&lt;/p&gt;
&lt;p&gt;ä¸Šé¢çš„å®ç°ç±»å°±æ˜¯é€šè¿‡redisç»´æŠ¤ä¸€ä¸ªhashç»“æ„ï¼Œkeyä¸ºnamespaceï¼Œé‡Œé¢çš„æ¯ä¸ªfieldå°±æ˜¯å…¶ä¸‹çš„æ‰§è¡Œè¿‡çš„SQLçš„æ‘˜è¦ï¼Œvalueåªæ˜¯æ ‡å¿—ä½ã€‚è€ŒSQLå¯¹åº”çš„æŸ¥è¯¢ç»“æœç¼“å­˜åˆ™æ˜¯å•ç‹¬ç”¨æ™®é€šçš„stringçš„key-valueè¿›è¡Œå­˜å‚¨ï¼Œåªæ˜¯æˆ‘ä»¬åˆ¶å®šäº†åºåˆ—åŒ–ç”¨jsonè€Œå·²ã€‚åœ¨clearæ—¶ï¼ŒæŸ¥è¯¢åˆ°æ­¤namespaceä¸‹çš„æ‰€æœ‰æ‘˜è¦ï¼Œæƒ³åˆ é™¤äº†å¯¹åº”çš„æ‰€æœ‰çš„stringçš„key-valueï¼Œå†å»æŠŠhashç»“æ„åˆ äº†ã€‚&lt;/p&gt;
&lt;p&gt;é‚£æœ‰äººå¯èƒ½ä¼šè¯´ï¼Œä¸ºå•¥ä¸ç›´æ¥åœ¨hashä¸­fieldå¯¹åº”çš„valueé‡Œå­˜å‚¨SQLçš„æŸ¥è¯¢ç»“æœï¼Œè¦åœ¨å¤–é¢å¦å¤–çš„ç”¨key-valueç»“æ„å»å­˜å‘¢ï¼Œè¿™æ ·æˆ‘clearçš„æ—¶å€™ç›´æ¥åˆ é™¤æ•´ä¸ªnamespaceå¯¹åº”çš„hashå°±è¡Œäº†å‘—ã€‚è¿™å…¶å®ä¹Ÿæ˜¯ä¸€ç§æ–¹æ¡ˆï¼Œä½†æ˜¯ç¼ºç‚¹æœ‰ä¸¤ä¸ªï¼šï¼ˆä¸€ï¼‰æ— æ³•å¯¹æ¯ä¸€ä¸ªSQLæ‘˜è¦è¿›è¡Œå•ç‹¬è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œæœ€å¤šåªèƒ½å¯¹hashç»“æ„çš„å¤§keyè®¾ç½®ï¼›ï¼ˆäºŒï¼‰hashä¸­çš„filedä¸å®œè¿‡å¤š&lt;/p&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;&lt;strong&gt;éšæœºè¿‡æœŸæ—¶é—´â€”â€”åº”å¯¹ç¼“å­˜é›ªå´©&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;ç¼“å­˜é›ªå´©&lt;/code&gt;ï¼Œç®€å•æ¥è¯´å°±æ˜¯å½“æˆ‘ä»¬æœ‰ä¸€ç»„keyå› ä¸ºè¿‡æœŸæ—¶é—´ç‚¹ç›¸è¿‘ï¼Œåœ¨é‚£ä¸€å°æ®µæ—¶é—´å†…è¿™ç»„keyé›†ä½“å¤±æ•ˆï¼Œè€Œæ­¤æ—¶åˆæœ‰å¾ˆå¤šè¯·æ±‚è¿‡æ¥è¦è·å–è¿™ç»„keyçš„å†…å®¹ï¼Œé‚£å°±å…¨éƒ¨æ‰“åœ¨MySQLä¸Šï¼Œå¯èƒ½å°±ä¼šé€ æˆæ•°æ®åº“å‹åŠ›è¿‡å¤§è€Œå´©æºƒã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ³•æ˜¯åœ¨è®¾ç½®keyçš„è¿‡æœŸæ—¶é—´æ—¶åŠ ä¸Šéšæœºæ•°ï¼Œä½¿å¾—ä»–ä»¬çš„è¿‡æœŸæ—¶é—´å°½é‡åˆ†æ•£ï¼Œé¿å…åœ¨åŒä¸€æ—¶é—´å†…é›†ä½“å¤±æ•ˆã€‚&lt;/p&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;&lt;strong&gt;å­˜å‚¨ç©ºå€¼â€”â€”åº”å¯¹ç¼“å­˜ç©¿é€&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;ç¼“å­˜ç©¿é€&lt;/code&gt; ï¼Œå½“å®¢æˆ·ç«¯è¯·æ±‚ä¸€ä¸ªæ•°æ®åº“ä¸­æ²¡æœ‰çš„å€¼å¾—æ—¶å€™ï¼Œç¼“å­˜ä¸­è‡ªç„¶ä¹Ÿä¸ä¼šæœ‰ï¼Œé‚£å°±ç©¿è¿‡ç¼“å­˜ç›´æ¥æ¥åˆ°æ•°æ®åº“è¿›è¡ŒæŸ¥è¯¢ï¼Œå¦‚æœè¿™æ ·çš„è¯·æ±‚å¤šäº†çš„è¯å¯¹æ•°æ®åº“ä¹Ÿä¸åˆ©ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ³•æ˜¯å¯¹æŸ¥è¯¢ä¸å­˜åœ¨çš„ç»“æœä¹Ÿåœ¨ç¼“å­˜ä¸­å­˜å‚¨ç©ºå€¼æ¥è§£å†³ï¼Œè¿™ä¸ªç”±MyBatiså®ç°ï¼Œä¸‹æ¬¡å†æ¥è¯·æ±‚è¿™ä¸ªä¸å­˜åœ¨çš„å€¼å¾—æ—¶å€™å°±å¯ä»¥æ‹¦æˆªåœ¨ç¼“å­˜ä¸­äº†ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœé‡åˆ°é‚£ç§é»‘å®¢æ”»å‡»ï¼Œç”Ÿæˆäº†ä¸€å †éšæœºçš„ï¼Œä¸å­˜åœ¨çš„å€¼æ¥ç©¿é€ï¼Œæ¥æ‰“åˆ°æˆ‘ä»¬çš„æ•°æ®åº“æ€ä¹ˆåŠï¼Ÿé‚£å°±è¦ç”¨å¤§åé¼é¼çš„&lt;code&gt;å¸ƒéš†è¿‡æ»¤å™¨&lt;/code&gt;ï¼ˆ&lt;code&gt;bloom filter&lt;/code&gt;ï¼‰äº†ï¼Œè¿™é‡Œä¸å±•å¼€ã€‚&lt;/p&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;&lt;strong&gt;ä½¿ç”¨äº’æ–¥é”â€”â€”åº”å¯¹ç¼“å­˜å‡»ç©¿&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;ç¼“å­˜å‡»ç©¿&lt;/code&gt; ï¼Œè¿™ä¸ªè·Ÿç¼“å­˜é›ªå´©æœ‰ç‚¹ç±»ä¼¼ï¼Œç¼“å­˜é›ªå´©æ˜¯å¤§è§„æ¨¡çš„keyå¤±æ•ˆï¼Œè€Œç¼“å­˜å‡»ç©¿æ˜¯ä¸€ä¸ª&lt;strong&gt;çƒ­ç‚¹çš„key&lt;/strong&gt;å¤±æ•ˆï¼Œç»å¸¸æœ‰å¤§å¹¶å‘é›†ä¸­å¯¹å…¶è¿›è¡Œè®¿é—®ï¼Œçªç„¶é—´è¿™ä¸ªKeyå¤±æ•ˆäº†ï¼Œå¯¼è‡´å¤§å¹¶å‘å…¨éƒ¨æ‰“åœ¨æ•°æ®åº“ä¸Šï¼Œå¯¼è‡´æ•°æ®åº“å‹åŠ›å‰§å¢ã€‚è¿™ç§ç°è±¡å°±å«åšç¼“å­˜å‡»ç©¿ã€‚&lt;/p&gt;
&lt;p&gt;è§£å†³æ–¹æ¡ˆæ˜¯äº’æ–¥é”ï¼Œå½“è¿™ä¸ªçƒ­ç‚¹keyå¤±æ•ˆæ—¶å…ˆåŠ æŠŠäº’æ–¥é”ï¼Œæ‹¿åˆ°é”çš„çº¿ç¨‹å»æ•°æ®åº“ä¸­æŸ¥æ‰¾ï¼Œå…¶å®ƒçº¿ç¨‹åªèƒ½ç­‰åˆ°é‡è¯•ï¼Œç­‰load dbå®Œæˆåå†å†™åˆ°ç¼“å­˜ä¸­ï¼Œæ‹¿åˆ°é”çš„çº¿ç¨‹æ‰é‡Šæ”¾é”ï¼Œè¿™æ—¶å…¶ä»–çº¿ç¨‹å°±å¯ä»¥å»ç¼“å­˜ä¸­å–äº†ï¼Œè¿™æ ·å°±å‡å°‘äº†æ•°æ®åº“çš„å‹åŠ›ã€‚å½“ç„¶ï¼Œç”¨äº†é”å°±ä¼šå½±å“ç³»ç»Ÿä¸€å®šçš„æ€§èƒ½ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å…³è”ç¼“å­˜&#34;&gt;å…³è”ç¼“å­˜&lt;/h3&gt;
&lt;p&gt;å½“é‡åˆ°ä¸åŒnamespaceä¹‹é—´çš„æ•°æ®æœ‰å…³è”ï¼Œä¹Ÿå°±æ˜¯åœ¨æ¸…é™¤ä¸€ä¸ªnamespaceæ—¶ï¼Œä¹Ÿéœ€è¦æ¸…é™¤å¦ä¸€ä¸ªä¸ä¹‹ç›¸å…³è”çš„é¿å…è¯»åˆ°è„æ•°æ®ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å…³è”ç¼“å­˜ã€‚&lt;/p&gt;
&lt;p&gt;å¼€å¯æ–¹æ³•ï¼šåœ¨å¯¹åº”çš„mapperä¸‹åŠ ä¸Šä»¥ä¸‹æ ‡ç­¾ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;cache-ref&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;namespace=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;xxxxxxx&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;/&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è®¾ç½®ä¹‹åæœ¬mapperçš„ç¼“å­˜ä¼šæ”¾åˆ°cache-refåˆ¶å®šçš„namespaceä¸‹ï¼Œä¹Ÿå°±æ˜¯ä¸å†è‡ªå·±ä¸€ä¸ªnamespaceï¼Œå…±ç”¨äº†æŒ‡å‘çš„namespaceï¼Œé‚£åˆ°æ—¶æ¸…é™¤çš„æ—¶å€™å°±ä¼šä¸€å—æ¸…é™¤ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å‚è€ƒé“¾æ¥&#34;&gt;å‚è€ƒé“¾æ¥&lt;/h2&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://segmentfault.com/a/1190000023667657&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;MyBatisæ•´åˆRediså®ç°äºŒçº§ç¼“å­˜&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://tech.meituan.com/2018/01/19/mybatis-cache.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;èŠèŠMyBatisç¼“å­˜æœºåˆ¶&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.bilibili.com/video/BV1jD4y1Q7tU?p=22&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ã€ç¼–ç¨‹ä¸è‰¯äººã€‘é€‚åˆåç«¯ç¼–ç¨‹äººå‘˜çš„Rediså®æˆ˜æ•™ç¨‹ã€redisåº”ç”¨åœºæ™¯ã€åˆ†å¸ƒå¼ç¼“å­˜ã€Sessionç®¡ç†ã€é¢è¯•ç›¸å…³ç­‰å·²å®Œç»“!&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[å®æˆ˜]è‡ªå·±åŠ¨æ‰‹ç¼–è¯‘JDKå®å½•</title>
        <link>https://ccqstark.github.io/p/compile_jdk/</link>
        <pubDate>Tue, 27 Jul 2021 03:44:28 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/compile_jdk/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/compile_jdk/cover.png" alt="Featured image of post [å®æˆ˜]è‡ªå·±åŠ¨æ‰‹ç¼–è¯‘JDKå®å½•" /&gt;&lt;h2 id=&#34;å‰è¨€&#34;&gt;å‰è¨€&lt;/h2&gt;
&lt;p&gt;æœ€è¿‘åœ¨çœ‹å‘¨å¿—æ˜è€å¸ˆçš„ç»å…¸ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹ï¼Œç¬¬1ç« æœ€åæ˜¯ä¸€ä¸ªè‡ªå·±ç¼–è¯‘JDKçš„å®æˆ˜ï¼Œæƒ³åˆ°ç¾Šå“¥ä¹‹å‰ä¹Ÿå‡ºè¿‡è¿™æ ·ä¸€æœŸè§†é¢‘ï¼Œè§‰å¾—åšä¸€åšä¹Ÿè›®æœ‰æˆå°±æ„Ÿçš„ï¼Œè¿˜å¯ä»¥åŠ æ·±ä¸‹å¯¹Javaçš„ç†è§£ï¼Œæ‰€ä»¥è¾¹åšè¾¹å†™ä¸‹æ­¤ç¯‡åšæ–‡ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç¯å¢ƒå‡†å¤‡&#34;&gt;ç¯å¢ƒå‡†å¤‡&lt;/h2&gt;
&lt;h3 id=&#34;ç³»ç»Ÿç¯å¢ƒ&#34;&gt;ç³»ç»Ÿç¯å¢ƒ&lt;/h3&gt;
&lt;p&gt;æˆ‘çš„ç¯å¢ƒæ˜¯macOS10.14.6(é»‘è‹¹æœ)ï¼Œé—®é¢˜ç›¸å¯¹Windowsåº”è¯¥ä¼šå°‘å¾ˆå¤šï¼Œæ¨èå¤§å®¶ä¹Ÿæ˜¯ç”¨Linuxæˆ–è€…macOSæ¥è¿›è¡Œç¼–è¯‘ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727013611.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727013611.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;xcodeä¸‹è½½&#34;&gt;Xcodeä¸‹è½½&lt;/h3&gt;
&lt;p&gt;ä¸€äº›C/C++ç›¸å…³çš„å·¥å…·é“¾ä¸€èˆ¬æ˜¯ç”¨Xcodeå¸¦çš„ï¼Œæ‰€ä»¥å»å®˜ç½‘ä¸‹è½½å°±è¡Œã€‚ä½†æ˜¯å¦‚æœåƒæˆ‘ä¸€æ ·æ˜¯é»‘è‹¹æœï¼Œç³»ç»Ÿä¸æ˜¯æœ€æ–°çš„ï¼Œå®˜ç½‘çš„ç‰ˆæœ¬å¾ˆå¯èƒ½ä¸é€‚é…ï¼ˆç›®å‰æœ€æ–°Xcode 13è¦æ±‚macOS 11ä»¥ä¸Šï¼‰ï¼Œæ‰€ä»¥åªèƒ½ç¿»åˆ°ä»¥å‰ç™¾åº¦äº‘é‡Œå­˜çš„Xcode11.xipä¸‹è½½è§£å‹å¹¶å®‰è£…å°±å¯ä»¥äº†ã€‚&lt;/p&gt;
&lt;p&gt;xipæ–‡ä»¶åœ¨è§£å‹æ—¶éœ€è¦ç”¨ç³»ç»Ÿè‡ªå¸¦çš„è§£å‹å·¥å…·ï¼Œä¸è¦ç”¨ç¬¬ä¸‰æ–¹çš„ï¼Œä¸ç„¶è§£å‹å‡ºæ¥ä¸æ˜¯ä¸€ä¸ª.appæ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰å°±æ˜¯è§£å‹æ—¶å¯èƒ½ä¼šé‡åˆ°ç³»ç»ŸéªŒè¯é—®é¢˜ï¼Œé€šè¿‡ä»¥ä¸‹ä¸¤æ­¥è§£å†³ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è¿è¡Œä»¥ä¸‹å‘½ä»¤è¡Œ&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æœ€åæ˜¯xipæ–‡ä»¶çš„ä½ç½®&lt;/span&gt;
xattr -d com.apple.quarantine Xcode_11.xip
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;åœ¨ç³»ç»Ÿè®¾ç½®ä¸­ä¿®æ”¹ç³»ç»Ÿçš„æ—¶é—´çº¦ä¸º2018å¹´7æœˆï¼Œç„¶åå…è®¸ä»»ä½•æ¥æºçš„è½¯ä»¶å®‰è£…ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;æ‰€æœ‰è½¯ä»¶ç¯å¢ƒåŸºç¡€&#34;&gt;æ‰€æœ‰è½¯ä»¶ç¯å¢ƒåŸºç¡€&lt;/h3&gt;
&lt;p&gt;ä»¥ä¸‹éƒ½æ˜¯ç¼–è¯‘ä¸­éœ€è¦ç”¨åˆ°çš„è½¯ä»¶ç¯å¢ƒï¼Œç¡®ä¿éƒ½å·²ç»å®‰è£…&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æœ‰ä¸€ä¸ªå·²ç»å¯ç”¨çš„jdkï¼Œç‰ˆæœ¬è‡³å°‘æ˜¯è¦ç¼–è¯‘çš„ç‰ˆæœ¬-1&lt;/span&gt;
java -version
&lt;span class=&#34;c1&#34;&gt;# è¾“å‡º&lt;/span&gt;
openjdk version &lt;span class=&#34;s2&#34;&gt;&amp;#34;11.0.9&amp;#34;&lt;/span&gt; 2020-10-20
OpenJDK Runtime Environment &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;build 11.0.9+11&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
OpenJDK 64-Bit Server VM &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;build 11.0.9+11, mixed mode&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# Cçš„ç¼–è¯‘å™¨&lt;/span&gt;
clang --version
&lt;span class=&#34;c1&#34;&gt;# è¾“å‡º&lt;/span&gt;
Apple clang version 11.0.0 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;clang-1100.0.33.8&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
Target: x86_64-apple-darwin18.7.0
Thread model: posix
InstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin

&lt;span class=&#34;c1&#34;&gt;# C++çš„ç¼–è¯‘å™¨&lt;/span&gt;
clang++ --version
&lt;span class=&#34;c1&#34;&gt;# è¾“å‡º&lt;/span&gt;
Apple clang version 11.0.0 &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;clang-1100.0.33.8&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
Target: x86_64-apple-darwin18.7.0
Thread model: posix
InstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin

&lt;span class=&#34;c1&#34;&gt;# è‡ªåŠ¨é…ç½®å·¥å…·autoconf&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# ä¸‹è½½æ–¹å¼ï¼šbrew install autoconf&lt;/span&gt;
autoconf --version
&lt;span class=&#34;c1&#34;&gt;# è¾“å‡º&lt;/span&gt;
autoconf &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;GNU Autoconf&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; 2.69

&lt;span class=&#34;c1&#34;&gt;# ç¼–è¯‘æ„å»ºå·¥å…·&lt;/span&gt;
make --version
&lt;span class=&#34;c1&#34;&gt;# è¾“å‡º&lt;/span&gt;
GNU Make 3.81

&lt;span class=&#34;c1&#34;&gt;# æ¸²æŸ“åº“freetype&lt;/span&gt;
freetype-config --ftversion
&lt;span class=&#34;c1&#34;&gt;# è¾“å‡º&lt;/span&gt;
2.10.4
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;æºç ä¸‹è½½&#34;&gt;æºç ä¸‹è½½&lt;/h2&gt;
&lt;p&gt;è¿™æ¬¡è¦ç¼–è¯‘çš„ç›®æ ‡ç‰ˆæœ¬æ˜¯jdk11ï¼Œæ‰€ä»¥ä¸‹è½½jdk11çš„æºç &lt;/p&gt;
&lt;h3 id=&#34;æ–¹å¼ä¸€é€šè¿‡mercurial&#34;&gt;æ–¹å¼ä¸€ï¼šé€šè¿‡Mercurial&lt;/h3&gt;
&lt;p&gt;JDKæ˜¯é€šè¿‡è¿™ä¸ªå«Mercurialçš„ç‰ˆæœ¬ç®¡ç†å·¥å…·æ¥è¿›è¡Œä»£ç ç®¡ç†çš„ï¼Œè¿™ä¸ªå’Œgitæ˜¯ä¸€ç±»å·¥å…·ï¼Œåªä¸è¿‡è¿‡äºå°ä¼—ã€‚è€Œä¸”è¿™ç§æ–¹å¼æ…¢ï¼Œä¸æ¨èã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å®‰è£…Mercurial&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;brew install mercurial
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å»ç½‘å€hg.openjdk.java.netä¸Šå¤åˆ¶åœ°å€&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727020008.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727020008.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727020008.png&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727020008.png&#34;&gt;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727020008.png&lt;/a&gt;&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ä½¿ç”¨å‘½ä»¤cloneæºç åŒ…&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;hg clone https://hg.openjdk.java.net/jdk/jdk11/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ–¹å¼äºŒå®˜ç½‘ä¸‹è½½å‹ç¼©åŒ…&#34;&gt;æ–¹å¼äºŒï¼šå®˜ç½‘ä¸‹è½½å‹ç¼©åŒ…&lt;/h3&gt;
&lt;p&gt;è¿™ç§æ–¹å¼é€Ÿåº¦å¿«ï¼Œæ¨èè¿™ç§æ–¹å¼&lt;/p&gt;
&lt;p&gt;å‰å¾€åœ°å€ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://jdk.java.net/java-se-ri/11&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Java Platform, Standard Edition 11 Reference Implementations&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»ä¸‹è½½zipå‹ç¼©åŒ…å³å¯&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727020308.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727020308.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æ–°å»ºä¸€ä¸ªä¸“é—¨çš„æ–‡ä»¶å¤¹å­˜æ”¾æºç åŒ…ï¼Œè§£å‹åå°±å¯ä»¥çœ‹åˆ°ç›®å½•ç»“æ„&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727020419.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727020419.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;srcå°±æ˜¯æºç éƒ¨åˆ†ï¼Œçœ‹åˆ°é‡Œé¢åŸºæœ¬éƒ½æ˜¯Cå’ŒC++çš„ä»£ç ï¼Œè¯´æ˜Javaå°±æ˜¯ç”¨Cå’ŒC++å†™çš„ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è‡ªåŠ¨é…ç½®å·¥ä½œ&#34;&gt;è‡ªåŠ¨é…ç½®å·¥ä½œ&lt;/h2&gt;
&lt;p&gt;è¿™ä¸€æ­¥è¿›è¡Œç¼–è¯‘å‰çš„è‡ªåŠ¨ç¼–è¯‘å·¥ä½œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# é¦–å…ˆcdè¿›æºç ç›®å½•ï¼Œä¹Ÿå°±æ˜¯ä¸Šå›¾çš„openjdk11&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; openjdk11

&lt;span class=&#34;c1&#34;&gt;# è¿è¡Œè„šæœ¬&lt;/span&gt;
sh configure
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ªè¿‡ç¨‹è¾ƒå¿«ï¼Œæœ€åä¼šè¾“å‡ºä¸€äº›æ¦‚è§ˆä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ­£å¼ç¼–è¯‘å·¥ä½œ&#34;&gt;æ­£å¼ç¼–è¯‘å·¥ä½œ&lt;/h2&gt;
&lt;p&gt;ç¬¬ä¸€æ¬¡ç¼–è¯‘ç›´æ¥è¿›è¡Œå…¨é‡ç¼–è¯‘ï¼Œæ‰§è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;make all
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ªè¿‡ç¨‹æ¯”è¾ƒä¹…ï¼Œè€å¿ƒç­‰å¾…ï¼Œä¼šç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶ï¼ŒJDKæˆå“é•œåƒç­‰å¾ˆå¤šä¸œè¥¿&lt;/p&gt;
&lt;p&gt;è¿‡ç¨‹ä¸­çš„è­¦å‘Šå¯ä»¥å¿½ç•¥ï¼Œåªè¦ä¸å‡ºç°é”™è¯¯å¯¼è‡´æ•´ä¸ªè¿‡ç¨‹åœæ­¢å³å¯&lt;/p&gt;
&lt;p&gt;å¯ä»¥çœ‹åˆ°è¿™ä¸ªè¿‡ç¨‹ä¸­æˆ‘çš„macçš„æ´»åŠ¨ç›‘è§†å™¨ï¼ŒCPUå¿«è¦ç‚¸äº†&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727013350.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727013350.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ç›´åˆ°æ§åˆ¶å°æœ€åå‡ è¡Œè¾“å‡ºä¸€ä¸‹ä¿¡æ¯å°±è¯æ˜æˆåŠŸäº†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;Creating support/demos/image/jfc/SampleTree/SampleTree.jar
Creating support/demos/image/jfc/TableExample/TableExample.jar
Creating support/demos/image/jfc/TransparentRuler/TransparentRuler.jar
Creating jdk image
Finished building target &lt;span class=&#34;s1&#34;&gt;&amp;#39;all&amp;#39;&lt;/span&gt; in configuration &lt;span class=&#34;s1&#34;&gt;&amp;#39;macosx-x86_64-normal-server-release&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;æˆå“éªŒæ”¶&#34;&gt;æˆå“éªŒæ”¶&lt;/h2&gt;
&lt;p&gt;å®Œæˆä¸Šä¸€æ­¥åå°±å¯ä»¥å‘ç°ç›®å½•ä¸‹å¤šäº†ä¸€ä¸ªbuildç›®å½•ï¼Œè¿›å…¥&lt;code&gt;build/macosx-x86_64-normal-server-release/&lt;/code&gt;ç›®å½•å¯ä»¥çœ‹åˆ°å¦‚ä¸‹æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727022009.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727022009.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å‘½ä»¤è¡ŒéªŒè¯ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# è¿›å…¥ç¼–è¯‘åçš„jdkçš„binç›®å½•&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; build/macosx-x86_64-normal-server-release/jdk/bin

&lt;span class=&#34;c1&#34;&gt;# æ‰§è¡Œjavaå‘½ä»¤æŸ¥çœ‹ç‰ˆæœ¬&lt;/span&gt;
./java -version

&lt;span class=&#34;c1&#34;&gt;# è¾“å‡º&lt;/span&gt;
openjdk version &lt;span class=&#34;s2&#34;&gt;&amp;#34;11-internal&amp;#34;&lt;/span&gt; 2018-09-25
OpenJDK Runtime Environment &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;build 11-internal+0-adhoc.ccqstark.openjdk11&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
OpenJDK 64-Bit Server VM &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;build 11-internal+0-adhoc.ccqstark.openjdk11, mixed mode&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ€ç»ˆçš„JDKæˆå“å°±åœ¨&lt;code&gt;images/jdk&lt;/code&gt;ç›®å½•ä¸‹ï¼Œè¿™ä¸ªå°±å’Œæˆ‘ä»¬å¹³æ—¶åœ¨å®˜ç½‘ä¸Šä¸‹è½½çš„JDKåŸºæœ¬æ˜¯ä¸€æ ·çš„&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727022600.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727022600.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;ideaä¸­ä½¿ç”¨æ–°jdk&#34;&gt;IDEAä¸­ä½¿ç”¨æ–°JDK&lt;/h2&gt;
&lt;p&gt;æ–°å»ºä¸€ä¸ªHello Worldé¡¹ç›®&lt;/p&gt;
&lt;p&gt;æ·»åŠ è‡ªå·±ç¼–è¯‘çš„JDKçš„è·¯å¾„&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727030400.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727030400.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;åˆ‡æ¢é¡¹ç›®æ‰€ç”¨çš„JDKä¸ºåˆšåˆšæ–°å¢çš„&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727030440.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727030440.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è¿è¡Œä¹‹åå¯ä»¥çœ‹åˆ°æˆ‘ä»¬ä½¿ç”¨çš„JDKå·²ç»æ¢æˆè‡ªå·±ç¼–è¯‘å¾—åˆ°çš„äº†&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727030536.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727030536.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;å®šåˆ¶jdk&#34;&gt;å®šåˆ¶JDK&lt;/h2&gt;
&lt;p&gt;å½“æˆ‘ä»¬éœ€è¦è‡ªå·±å®šåˆ¶ä¸€å¥—å±äºè‡ªå·±çš„JDKçš„æ—¶å€™å°±éœ€è¦æˆ‘ä»¬å»ä¿®æ”¹æºç ä¸­çš„ä¸€äº›å®ç°ï¼Œä¿®æ”¹ä¹‹åè¦ç”Ÿæ•ˆçš„è¯å¿…é¡»é‡æ–°ç¼–è¯‘ä¸€æ¬¡ï¼Œè¿™æ¬¡çš„ç¼–è¯‘å°±å¯ä»¥ç”¨å¢é‡ç¼–è¯‘äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¿®æ”¹sourcepath&#34;&gt;ä¿®æ”¹Sourcepath&lt;/h3&gt;
&lt;p&gt;åˆ é™¤åŸæ¥å…¨éƒ¨è·¯å¾„&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727031328.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727031328.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;é‡æ–°æ·»åŠ æˆ‘ä»¬ä¸€å¼€å§‹ä¸‹è½½çš„å‹ç¼©åŒ…ä¸­è§£å‹å‡ºæ¥çš„&lt;code&gt;src&lt;/code&gt;ç›®å½•ä¸‹çš„æºç ï¼Œå¹¶è®©IDEAé‡æ–°ç´¢å¼•&lt;/p&gt;
&lt;h3 id=&#34;ä¿®æ”¹æºç &#34;&gt;ä¿®æ”¹æºç &lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬CtrlåŠ é¼ æ ‡ç‚¹å‡»è¿›å…¥printlnæºç ï¼Œå¹¶åšç‚¹ä¿®æ”¹æ„æ€æ„æ€&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727032804.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727032804.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;å¢é‡ç¼–è¯‘&#34;&gt;å¢é‡ç¼–è¯‘&lt;/h3&gt;
&lt;p&gt;å†æ¬¡cdåˆ°è§£å‹å‡ºæ¥çš„å¤§ç›®å½•ä¸‹ï¼Œæ‰§è¡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;make images
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿›è¡Œå¢é‡ç¼–è¯‘ï¼Œé€Ÿåº¦ä¼šæ¯”å…¨é‡ç¼–è¯‘å¿«&lt;/p&gt;
&lt;p&gt;å†æ¬¡è¿è¡Œä»£ç å‘ç°ä¹‹å‰å¯¹æºç çš„ä¿®æ”¹å·²ç»ç”Ÿæ•ˆ&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727033822.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210727033822.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;å‚è€ƒèµ„æ–™&#34;&gt;å‚è€ƒèµ„æ–™&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ã€Šæ·±å…¥ç†è§£Javaè™šæ‹Ÿæœºã€‹ å‘¨å¿—æ˜&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.bilibili.com/video/BV1zT4y177Zf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;JDKéƒ½æ²¡æ‰‹åŠ¨ç¼–è¯‘è¿‡ï¼Œæ•¢è¯´è‡ªå·±æ˜¯Javaç¨‹åºå‘˜å—ï¼Ÿå®æˆ˜ç¼–è¯‘Javaæºç ï¼ˆJDKæºç ,JVMï¼‰è§†é¢‘æ•™ç¨‹  CodeSheep&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>[leetcode]15.ä¸‰æ•°ä¹‹å’Œ</title>
        <link>https://ccqstark.github.io/p/three_sum/</link>
        <pubDate>Fri, 23 Jul 2021 16:55:26 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/three_sum/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/three_sum/cover.png" alt="Featured image of post [leetcode]15.ä¸‰æ•°ä¹‹å’Œ" /&gt;&lt;h2 id=&#34;é¢˜ç›®&#34;&gt;é¢˜ç›®&lt;/h2&gt;
&lt;p&gt;ç»™ä½ ä¸€ä¸ªåŒ…å« n ä¸ªæ•´æ•°çš„æ•°ç»„Â numsï¼Œåˆ¤æ–­Â numsÂ ä¸­æ˜¯å¦å­˜åœ¨ä¸‰ä¸ªå…ƒç´  aï¼Œbï¼Œc ï¼Œä½¿å¾—Â a + b + c = 0 ï¼Ÿè¯·ä½ æ‰¾å‡ºæ‰€æœ‰å’Œä¸º 0 ä¸”ä¸é‡å¤çš„ä¸‰å…ƒç»„ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;n&#34;&gt;ç¤ºä¾‹&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼š&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;è¾“å…¥&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼š&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;è¾“å‡º&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼š&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[[-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;],[-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;ç¤ºä¾‹&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼š&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;è¾“å…¥&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼š&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;è¾“å‡º&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼š&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;ç¤ºä¾‹&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼š&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;è¾“å…¥&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼š&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;è¾“å‡º&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼š&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;åˆ†æ&#34;&gt;åˆ†æ&lt;/h2&gt;
&lt;p&gt;è¿™é‡Œæœ¬å¯ä»¥å€Ÿé‰´&lt;code&gt;ä¸¤æ•°ä¹‹å’Œ&lt;/code&gt;çš„å“ˆå¸Œæ³•ï¼Œé€šè¿‡åˆ¤æ–­0-(a+b)æ˜¯å¦å­˜åœ¨æ•°ç»„ä¸­æ¥è§£ç­”ï¼Œä½†æ˜¯ç”±äºé¢˜ç›®è¦æ±‚çš„ä¸èƒ½åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ç”¨è¿™ä¸ªæ–¹æ³•å®åœ¨å¾ˆéš¾å»å¤„ç†ï¼Œæ‰€ä»¥è¿™é‡Œå°±ä¸æ¨èç”¨å“ˆå¸Œæ³•äº†ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæ¨è&lt;code&gt;æ’åº+åŒæŒ‡é’ˆæ³•&lt;/code&gt; æ¥è§£å†³ã€‚å…ˆå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œç„¶åç”¨ä¸€ä¸ª&lt;code&gt;æŒ‡é’ˆi&lt;/code&gt;å¯¹æ‰€æœ‰å…ƒç´ è¿›è¡Œéå†ï¼Œæ¯ä¸€æ¬¡éå†æˆ‘ä»¬éƒ½æœ‰ä¸¤ä¸ªæŒ‡é’ˆå«&lt;code&gt;left&lt;/code&gt;å’Œ&lt;code&gt;right&lt;/code&gt;ï¼Œleftä¸€å¼€å§‹æŒ‡å‘&lt;code&gt;i+1&lt;/code&gt;ï¼Œrightä¸€å¼€å§‹æŒ‡å‘æ•°ç»„æœ€åä¸€ä½ï¼Œç„¶åå¼€å§‹åˆ¤æ–­æ­¤æ—¶ä¸‰ä¸ªæŒ‡é’ˆä¹‹å’Œsumæ˜¯å¦ä¸º0ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœä¸æ˜¯åˆåˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œsumå¤§äº0ï¼Œåˆ™è®©rightå·¦ç§»ä¸€ä½ï¼Œè®©sumå‡å°ï¼›å¦‚æœsumå°äº0ï¼Œåˆ™è®©leftå³ç§»ä¸€ä½ï¼Œè®©sumå¢åŠ ã€‚å¦‚æœæ˜¯æ‰¾åˆ°äº†çš„è¯ï¼Œå°±ä¸¤è¾¹åŒæ—¶æ”¶ç¼©ã€‚æ•´ä¸ªè¿‡ç¨‹å°±æ˜¯é€šè¿‡è°ƒæ•´leftå’ŒrightæŒ‡é’ˆæ¥æ¯•ç«Ÿè®©sumé€¼è¿‘0ï¼Œå†æ³¨æ„ä¸€ä¸‹å»é™¤é‡å¤æƒ…å†µå³å¯ã€‚&lt;/p&gt;
&lt;p&gt;åŠ¨ç”»å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://code-thinking.cdn.bcebos.com/gifs/15.%E4%B8%89%E6%95%B0%E4%B9%8B%E5%92%8C.gif&#34; &gt;
		&lt;img src=&#34;https://code-thinking.cdn.bcebos.com/gifs/15.%E4%B8%89%E6%95%B0%E4%B9%8B%E5%92%8C.gif&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä»£ç &#34;&gt;ä»£ç &lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// æ’åº+åŒæŒ‡é’ˆæ³•ï¼ˆè¾ƒä¼˜ï¼‰
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Integer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;threeSum&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Integer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ArrayList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// æ’åº
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;Arrays&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;sort&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

        &lt;span class=&#34;c1&#34;&gt;// é¦–ä½å¤§äº0çš„ç›´æ¥è¿”å›
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

        &lt;span class=&#34;c1&#34;&gt;// içš„å»é‡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;])&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;continue&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// å¾ªç¯
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;// è®¡ç®—æ­¤æ—¶çš„ä¸‰æ•°ä¹‹å’Œ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;];&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;// ä¸‰ç§æƒ…å†µ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;--;&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++;&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;// æ‰¾åˆ°ä¸€ç§ç­”æ¡ˆæ·»åŠ åˆ°ç»“æœé›†
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Arrays&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;asList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]));&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;// å»é‡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;])&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;--;&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;])&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++;&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;// æ‰¾åˆ°ä¸€ä¸ªç­”æ¡ˆåä¸¤è¾¹æŒ‡é’ˆéƒ½æ”¶ç¼©
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;--;&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++;&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)&lt;/p&gt;
&lt;h2 id=&#34;å»¶ä¼¸&#34;&gt;å»¶ä¼¸&lt;/h2&gt;
&lt;p&gt;è¿™é‡Œé¡ºä¾¿æŠŠå››æ•°ä¹‹å’Œä¹Ÿè¯´äº†ï¼Œæ€è·¯ä¹Ÿæ˜¯å·®ä¸å¤šçš„ï¼Œå¤šäº†ä¸€ä¸ªæ•°å…¶å®å°±å¤šåŠ ä¸€å±‚å¾ªç¯å†å»ä½¿ç”¨leftå’Œrightç®—sumç½¢äº†ï¼Œæ—¶é—´å¤æ‚åº¦å°±å˜æˆO(n^3)ï¼Œå¦‚æœæœ‰äº”æ•°ä¹‹å’Œã€å…­æ•°ä¹‹å’Œä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†ã€‚&lt;/p&gt;
&lt;p&gt;ç›´æ¥ä¸Šä»£ç ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Integer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;fourSum&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Integer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ArrayList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Arrays&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;sort&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// å››æ•°ä¹‹å’Œå®é™…ä¸Šæ˜¯åœ¨ä¸‰æ•°ä¹‹å’Œä¸Šå¤šåŠ äº†ä¸€å±‚å¾ªç¯
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;])&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;continue&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;])&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;continue&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

            &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

            &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;];&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;--;&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;++;&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Arrays&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;asList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]));&lt;/span&gt;
                    &lt;span class=&#34;c1&#34;&gt;// å»é‡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                    &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;])&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;--;&lt;/span&gt;
                    &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;])&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++;&lt;/span&gt;
                    &lt;span class=&#34;c1&#34;&gt;// æ‰¾åˆ°åå·¦å³æŒ‡é’ˆå„æ”¶ç¼©ä¸€ä¸‹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                    &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;--;&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++;&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>Javaæ³¨è§£å’Œåå°„</title>
        <link>https://ccqstark.github.io/p/java_annotaion_reflection/</link>
        <pubDate>Thu, 22 Jul 2021 23:43:42 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/java_annotaion_reflection/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/java_annotaion_reflection/cover.png" alt="Featured image of post Javaæ³¨è§£å’Œåå°„" /&gt;&lt;h2 id=&#34;æ³¨è§£&#34;&gt;æ³¨è§£&lt;/h2&gt;
&lt;h3 id=&#34;æ¦‚è¿°&#34;&gt;æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;ä¸æ˜¯ç¨‹åºæœ¬èº«ï¼Œå¯ä»¥å¯¹ç¨‹åºä½œå‡ºè§£é‡Šï¼Œå¯ä»¥è¢«å…¶ä»–ç¨‹åºï¼ˆå¦‚ç¼–è¯‘å™¨ç­‰ï¼‰è¯»å–&lt;/p&gt;
&lt;p&gt;å¯ä»¥é™„åŠ åœ¨packageã€classã€methodã€fieldç­‰ä¸Šé¢ï¼Œå¯ä»¥é€šè¿‡åå°„æœºåˆ¶ç¼–ç¨‹å®ç°å¯¹è¿™äº›å…ƒæ•°æ®å¯¹è®¿é—®&lt;/p&gt;
&lt;h3 id=&#34;å†…ç½®æ³¨è§£&#34;&gt;å†…ç½®æ³¨è§£&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;@Override&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åªç”¨ä¿®é¥°æ–¹æ³•ï¼Œè¡¨ç¤ºä¸€ä¸ªæ–¹æ³•å£°æ˜æ‰“ç®—é‡å†™è¶…ç±»ä¸­çš„å¦ä¸€ä¸ªæ–¹æ³•å£°æ˜&lt;/p&gt;
&lt;p&gt;&lt;code&gt;@Deprecated&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¯ä»¥ç”¨äºä¿®é¥°æ–¹æ³•ï¼Œå±æ€§ï¼Œç±»ï¼Œè¡¨ç¤ºä¸é¼“åŠ±ç¨‹åºçŒ¿ä½¿ç”¨ï¼Œä½†æ˜¯è¿˜æ˜¯å¯ä»¥ä½¿ç”¨çš„ï¼Œåªæ˜¯ä½¿ç”¨å®ƒå¯èƒ½æœ‰å±é™©æˆ–è€…å­˜åœ¨æ›´å¥½çš„é€‰æ‹©ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;@SuppressWarnings&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç”¨æ¥æŠ‘åˆ¶ç¼–è¯‘æ—¶çš„è­¦å‘Šä¿¡æ¯ï¼Œéœ€è¦æ·»åŠ ä¸€ä¸ªå‚æ•°&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722153224.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722153224.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;å…ƒæ³¨è§£&#34;&gt;å…ƒæ³¨è§£&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;@Target&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç”¨äºæè¿°æ³¨è§£çš„ä½¿ç”¨èŒƒå›´&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;value&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ElementType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;METHOD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ElementType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;TYPE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;@Retention&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¡¨ç¤ºéœ€è¦åœ¨ä»€ä¹ˆçº§åˆ«ä¿å­˜è¯¥æ³¨é‡Šä¿¡æ¯ï¼ˆSOURCE &amp;gt; CLASS &amp;gt; RUNTIMEï¼‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Retention&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;value&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RetentionPolicy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;RUNTIME&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;@Document&lt;/code&gt;
è¯´æ˜è¯¥æ³¨è§£å°†è¢«åŒ…å«åœ¨javadocä¸­&lt;/p&gt;
&lt;p&gt;&lt;code&gt;@Inherited&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¯´æ˜å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»ä¸­çš„è¯¥æ³¨è§£&lt;/p&gt;
&lt;h3 id=&#34;è‡ªå®šä¹‰æ³¨è§£&#34;&gt;è‡ªå®šä¹‰æ³¨è§£&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;@interface&lt;/code&gt;è‡ªå®šä¹‰æ³¨è§£æ—¶,è‡ªåŠ¨ç»§æ‰¿äº†java. lang.annotation Annotationæ¥å£&lt;/p&gt;
&lt;p&gt;&lt;code&gt;@interface&lt;/code&gt;ç”¨æ¥å£°æ˜ä¸€ä¸ªæ³¨è§£ï¼Œæ ¼å¼: public @interface æ³¨è§£å { å®šä¹‰å†…å®¹ }&lt;/p&gt;
&lt;p&gt;å…¶ä¸­çš„æ¯ä¸€ä¸ªæ–¹æ³•å®é™…ä¸Šæ˜¯å£°æ˜äº†ä¸€ä¸ªé…ç½®å‚æ•°ï¼Œæ–¹æ³•çš„åç§°å°±æ˜¯å‚æ•°çš„åç§°
è¿”å›å€¼ç±»å‹å°±æ˜¯å‚æ•°çš„ç±»å‹(è¿”å›å€¼åªèƒ½æ˜¯åŸºæœ¬ç±»å‹, Class, String, enum)&lt;/p&gt;
&lt;p&gt;å¯ä»¥é€šè¿‡ defaultæ¥å£°æ˜å‚æ•°çš„é»˜è®¤å€¼&lt;/p&gt;
&lt;p&gt;å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°æˆå‘˜,ä¸€èˆ¬å‚æ•°åä¸º value
æ³¨è§£å…ƒç´ å¿…é¡»è¦æœ‰å€¼ï¼Œæˆ‘ä»¬å®šä¹‰æ³¨è§£å…ƒç´ æ—¶ï¼Œç»å¸¸ä½¿ç”¨ç©ºå­—ç¬¦ä¸²å’Œ0ä½œä¸ºé»˜è®¤å€¼&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;({&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ElementType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;TYPE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ElementType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;METHOD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@Retention&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;RetentionPolicy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;RUNTIME&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@interface&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MyAnnotation2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// æ–¹æ³•åä¸ºå‚æ•°å
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;age&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// å¦‚æœé»˜è®¤å€¼ä¸º-1, ä»£è¡¨ä¸å­˜åœ¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;schools&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;è¥¿éƒ¨å¼€æº&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ä¸œéƒ¨é—­æº&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;};&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;åå°„&#34;&gt;åå°„&lt;/h2&gt;
&lt;h3 id=&#34;æ¦‚è¿°-1&#34;&gt;æ¦‚è¿°&lt;/h3&gt;
&lt;p&gt;Javaä¸æ˜¯åŠ¨æ€è¯­è¨€ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡åå°„æœºåˆ¶è·å¾—ç±»ä¼¼åŠ¨æ€è¯­è¨€çš„ç‰¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;Reflectionï¼ˆåå°„ï¼‰å…è®¸ç¨‹åºåœ¨æ‰§è¡ŒæœŸé—´å€ŸåŠ© Reflection API å–å¾—ä»»ä½•ç±»çš„å†…éƒ¨ä¿¡æ¯ï¼Œå¹¶èƒ½ç›´æ¥æ“ä½œä»»æ„å¯¹è±¡çš„å†…éƒ¨å±æ€§åŠæ–¹æ³•ã€‚&lt;/p&gt;
&lt;p&gt;åŠ è½½å®Œç±»ä¹‹åï¼Œåœ¨å †å†…å­˜çš„æ–¹æ³•åŒºä¸­å°±äº§ç”Ÿäº†ä¸€ä¸ªClassç±»å‹çš„å¯¹è±¡ï¼ˆä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªClasså¯¹è±¡ï¼‰ï¼Œè¿™ä¸ªå¯¹è±¡å°±åŒ…å«äº†å®Œæ•´çš„ç±»çš„ç»“æ„ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå¯¹è±¡çœ‹åˆ°ç±»çš„ç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722153541.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722153541.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;javaåå°„æœºåˆ¶æä¾›çš„åŠŸèƒ½&#34;&gt;Javaåå°„æœºåˆ¶æä¾›çš„åŠŸèƒ½&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªå¯¹è±¡æ‰€å±çš„ç±»&lt;/li&gt;
&lt;li&gt;åœ¨è¿è¡Œæ—¶æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡&lt;/li&gt;
&lt;li&gt;åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä¸€ä¸ªç±»æ‰€å…·æœ‰çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•&lt;/li&gt;
&lt;li&gt;åœ¨è¿è¡Œæ—¶è·å–æ³›å‹ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;åœ¨è¿è¡Œæ—¶è°ƒç”¨ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•&lt;/li&gt;
&lt;li&gt;åœ¨è¿è¡Œæ—¶å¤„ç†æ³¨è§£&lt;/li&gt;
&lt;li&gt;ç”ŸæˆåŠ¨æ€ä»£ç†&lt;/li&gt;
&lt;li&gt;&amp;hellip;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;ä¼˜ç‚¹&lt;/strong&gt;ï¼šå¯ä»¥å®ç°åŠ¨æ€åˆ›å»ºå¯¹è±¡å’Œç¼–è¯‘ï¼Œä½“ç°å‡ºå¾ˆå¤§çš„çµæ´»æ€§&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¼ºç‚¹&lt;/strong&gt;ï¼šå¯¹æ€§èƒ½æœ‰å½±å“ã€‚ä½¿ç”¨åå°„æ˜¯è®©JVMæ‰§è¡Œæˆ‘ä»¬å‘½ä»¤çš„æ“ä½œï¼Œè¿™ç±»æ“ä½œæ€»æ˜¯æ…¢äºç›´æ¥æ‰§è¡Œç›¸åŒçš„æ“ä½œã€‚&lt;/p&gt;
&lt;h3 id=&#34;classç±»&#34;&gt;Classç±»&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Classæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªç±»&lt;/li&gt;
&lt;li&gt;Classå¯¹è±¡åªèƒ½ç”±ç³»ç»Ÿåˆ›å»ºå¯¹è±¡&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªåŠ è½½çš„ç±»åœ¨JVMä¸­åªä¼šæœ‰ä¸€ä¸ªClasså®ä¾‹&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªClasså¯¹è±¡å¯¹åº”çš„æ˜¯ä¸€ä¸ªåŠ è½½åˆ°JVMçš„ä¸€ä¸ª.classæ–‡ä»¶&lt;/li&gt;
&lt;li&gt;æ¯ä¸ªç±»çš„å®ä¾‹éƒ½ä¼šè®°å¾—è‡ªå·±æ˜¯ç”±å“ªä¸ªClasså®ä¾‹æ‰€ç”Ÿæˆçš„&lt;/li&gt;
&lt;li&gt;é€šè¿‡Classå¯ä»¥å®Œæ•´çš„å¾—åˆ°ä¸€ä¸ªç±»ä¸­æ‰€æœ‰è¢«åŠ è½½çš„ç»“æ„&lt;/li&gt;
&lt;li&gt;Classç±»æ˜¯Reflectionçš„æ ¹æºï¼Œé’ˆå¯¹ä»»ä½•æƒ³åŠ¨æ€åŠ è½½ã€è¿è¡Œçš„ç±»ï¼Œå”¯æœ‰å…ˆè·å¾—ç›¸åº”çš„Classå¯¹è±¡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722153724.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722153724.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;å¾—åˆ°classçš„å‡ ç§åŠæ³•&#34;&gt;å¾—åˆ°Classçš„å‡ ç§åŠæ³•&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// æ–¹å¼ä¸€ï¼šé€šè¿‡å¯¹è±¡è·å¾—
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Class&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;person&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getClass&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;hashCode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// æ–¹å¼äºŒï¼šé€šè¿‡forNameè·å¾—
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Class&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;forName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;com.ccqstark.reflection.Person&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;hashCode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// æ–¹æ³•ä¸‰ï¼šé€šè¿‡ç±»å.classè·å¾—
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Class&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c3&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Student&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;hashCode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// æ–¹æ³•å››ï¼šåŸºæœ¬å†…ç½®ç±»å‹çš„åŒ…è£…ç±»éƒ½æœ‰ä¸€ä¸ªTypeå±æ€§
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Class&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c4&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Integer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;TYPE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// è·å¾—çˆ¶ç±»ç±»å‹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Class&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c5&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getSuperclass&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c5&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æœ‰classå¯¹è±¡çš„ç±»å‹&#34;&gt;æœ‰Classå¯¹è±¡çš„ç±»å‹&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;class å¤–éƒ¨ç±»ï¼Œæˆå‘˜ï¼ˆæˆå‘˜å†…éƒ¨ç±»ï¼Œé™æ€å†…éƒ¨ç±»ï¼‰ï¼Œå±€éƒ¨å†…éƒ¨ç±»ï¼ŒåŒ¿åå†…éƒ¨ç±»&lt;/li&gt;
&lt;li&gt;interface æ¥å£&lt;/li&gt;
&lt;li&gt;&lt;input disabled=&#34;&#34; type=&#34;checkbox&#34;&gt; æ•°ç»„&lt;/li&gt;
&lt;li&gt;enum æšä¸¾&lt;/li&gt;
&lt;li&gt;annotation æ³¨è§£&lt;/li&gt;
&lt;li&gt;primitive type åŸºæœ¬æ•°æ®ç±»å‹&lt;/li&gt;
&lt;li&gt;void&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;ç±»åŠ è½½å™¨çš„ä½œç”¨&#34;&gt;ç±»åŠ è½½å™¨çš„ä½œç”¨&lt;/h3&gt;
&lt;p&gt;ç±»åŠ è½½çš„ä½œç”¨ï¼šå°†classæ–‡ä»¶å­—èŠ‚ç å†…å®¹åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶å°†è¿™äº›é™æ€æ•°æ®è½¬æ¢æˆæ–¹æ³•åŒºçš„è¿è¡Œæ—¶æ•°æ®ç»“æ„ï¼Œç„¶ååœ¨å †ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„&lt;code&gt;java.lang.Class&lt;/code&gt;å¯¹è±¡ï¼Œä½œä¸ºæ–¹æ³•åŒºä¸­ç±»æ•°æ®çš„è®¿é—®å…¥å£ã€‚&lt;/p&gt;
&lt;p&gt;ç±»ç¼“å­˜ï¼šæ ‡å‡†çš„JavaSEç±»åŠ è½½å™¨å¯ä»¥æŒ‰è¦æ±‚æŸ¥æ‰¾ç±»ï¼Œä½†ä¸€æ—¦æŸä¸ªç±»è¢«åŠ è½½åˆ°ç±»åŠ è½½å™¨ä¸­ï¼Œå®ƒå°†ç»´æŒåŠ è½½ï¼ˆç¼“å­˜ï¼‰ä¸€æ®µæ—¶é—´ã€‚ä¸è¿‡JVMåƒåœ¾å›æ”¶æœºåˆ¶å¯ä»¥å›æ”¶è¿™äº›Classå¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722154454.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722154454.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸‰ç§ç±»åŠ è½½å™¨ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¼•å¯¼ç±»åŠ è½½å™¨&lt;/strong&gt;ï¼šç”¨C++ç¼–å†™çš„ï¼Œæ˜¯JVMè‡ªå¸¦çš„ç±»åŠ è½½å™¨ï¼Œè´Ÿè´£Javaå¹³å°æ ¸å¿ƒåº“(&lt;code&gt;rt.jar&lt;/code&gt;)ï¼Œç”¨æ¥è½¬è½½æ ¸å¿ƒç±»åº“ã€‚è¯¥åŠ è½½å™¨æ— æ³•ç›´æ¥è·å–&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;æ‰©å±•ç±»åŠ è½½å™¨&lt;/strong&gt;ï¼šè´Ÿè´£jre/lib/extç›®å½•ä¸‹çš„jaråŒ…æˆ–è€…&lt;code&gt;-D java.ext.dirs&lt;/code&gt;æŒ‡å®šç›®å½•ä¸‹çš„jaråŒ…è£…å…¥å·¥ä½œåº“&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ç³»ç»Ÿç±»åŠ è½½å™¨&lt;/strong&gt;ï¼šè´Ÿè´£ &lt;code&gt;java -classpath&lt;/code&gt; æˆ– &lt;code&gt;-D java.class.path&lt;/code&gt; æ‰€æŒ‡ç›®å½•ä¸‹çš„ç±»ä¸jaråŒ…è£…å…¥å·¥ä½œï¼Œæ˜¯å¸¸ç”¨çš„åŠ è½½å™¨&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722155700.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722155700.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ä»£ç ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// è·å–ç³»ç»Ÿçš„ç±»åŠ è½½å™¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ClassLoader&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;systemClassLoader&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ClassLoader&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getSystemClassLoader&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;systemClassLoader&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// è·å–ç³»ç»Ÿçš„ç±»åŠ è½½å™¨çš„çˆ¶ç±»åŠ è½½å™¨--&amp;gt;æ‰©å±•ç±»åŠ è½½å™¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ClassLoader&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;parent&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;systemClassLoader&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getParent&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;parent&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// è·å–æ‰©å±•ç±»åŠ è½½å™¨çš„çˆ¶ç±»åŠ è½½å™¨--&amp;gt;æ ¹åŠ è½½å™¨(c/c++)
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ClassLoader&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;parent1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;parent&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getParent&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;parent1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// æµ‹è¯•å½“å‰çš„ç±»æ˜¯å“ªä¸ªåŠ è½½å™¨åŠ è½½çš„
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ClassLoader&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;classLoader&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;forName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;com.ccqstark.reflection.Test07&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getClassLoader&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;classLoader&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// æµ‹è¯•JDKå†…ç½®çš„ç±»æ˜¯è°åŠ è½½çš„
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;classLoader&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;forName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;java.lang.Object&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getClassLoader&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;classLoader&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// è·å¾—ç³»ç»Ÿç±»åŠ è½½å™¨å¯ä»¥åŠ è½½çš„è·¯å¾„
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getProperty&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;java.class.path&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;è·å¾—è¿è¡Œæ—¶ç±»çš„å®Œæ•´ç»“æ„&#34;&gt;è·å¾—è¿è¡Œæ—¶ç±»çš„å®Œæ•´ç»“æ„&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;ä¸Šä»£ç &lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;n&#34;&gt;Class&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;forName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;com.ccqstark.reflection.User&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// è·å¾—ç±»çš„åå­—
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getSimpleName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// è·å¾—ç±»çš„å±æ€§
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;========================&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;Field&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fields&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getFields&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// åªèƒ½æ‰¾åˆ°publicå±æ€§
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;fields&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getDeclaredFields&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// æ‰¾åˆ°å…¨éƒ¨çš„å±æ€§
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Field&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;field&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fields&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;field&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// è·å¾—æŒ‡å®šå±æ€§çš„å€¼
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Field&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getDeclaredField&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// è·å¾—æ–¹æ³•
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;=========================&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;Method&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;methods&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getMethods&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// è·å¾—æœ¬ç±»åŠå…¶çˆ¶ç±»çš„å…¨éƒ¨publicæ–¹æ³•
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Method&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;method&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;methods&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;çˆ¶ç±»ä»¥åŠå…¬æœ‰çš„ï¼š&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;method&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;methods&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getDeclaredMethods&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// è·å¾—æœ¬ç±»çš„æ‰€æœ‰æ–¹æ³•
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Method&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;method&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;methods&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;æœ¬ç±»æ‰€æœ‰çš„æ–¹æ³•ï¼š&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;method&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// è·å¾—æŒ‡å®šçš„æ–¹æ³•
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Method&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getName&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getMethod&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;getName&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;Method&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;setName&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getMethod&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;setName&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;setName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// è·å¾—æŒ‡å®šçš„æ„é€ å™¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;==========================&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;Constructor&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;constructors&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getConstructors&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// è·å¾—å…¬æœ‰çš„
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Constructor&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;constructor&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;constructors&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;constructor&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;constructors&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getDeclaredConstructors&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// è·å–å…¨éƒ¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Constructor&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;constructor&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;constructors&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;#&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;constructor&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// è·å¾—æŒ‡å®šçš„æ„é€ å™¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Constructor&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;declaredConstructor&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getDeclaredConstructor&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;æŒ‡å®šï¼š&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;declaredConstructor&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;é€šè¿‡åå°„åŠ¨æ€åˆ›å»ºå¯¹è±¡&#34;&gt;é€šè¿‡åå°„åŠ¨æ€åˆ›å»ºå¯¹è±¡&lt;/h3&gt;
&lt;p&gt;åˆ›å»ºç±»çš„å¯¹è±¡ï¼šè°ƒç”¨Classå¯¹è±¡çš„&lt;code&gt;newInstance()&lt;/code&gt;æ–¹æ³•ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç±»å¿…é¡»æœ‰ä¸€ä¸ªæ— å‚æ„é€ å™¨&lt;/li&gt;
&lt;li&gt;ç±»çš„æ„é€ å™¨çš„è®¿é—®æƒé™éœ€è¦è¶³å¤Ÿ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥é€šè¿‡è°ƒç”¨æœ‰å‚æ„é€ å™¨ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é€šè¿‡Classç±»çš„&lt;code&gt;getDeclaredConstructor(Class ... parameterTypes)&lt;/code&gt;å–å¾—æœ¬ç±»çš„æŒ‡å®šå‚æ•°ç±»å‹çš„æ„é€ å™¨&lt;/li&gt;
&lt;li&gt;å‘æ„é€ å™¨çš„å½¢å‚ä¸­ä¼ é€’ä¸€ä¸ªå¯¹è±¡æ•°ç»„è¿›å»ï¼Œé‡Œé¢åŒ…å«äº†æ„é€ å™¨ä¸­æ‰€éœ€çš„å„ä¸ªå‚æ•°&lt;/li&gt;
&lt;li&gt;é€šè¿‡&lt;code&gt;Constructor&lt;/code&gt;å®ä¾‹åŒ–å¯¹è±¡ï¼ˆnewInstance()æ–¹æ³•ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ä»£ç &lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// è·å¾—Classå¯¹è±¡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Class&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;forName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;com.ccqstark.reflection.User&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// æ„é€ ä¸€ä¸ªå¯¹è±¡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;User&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;newInstance&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// é€šè¿‡æ„é€ å™¨åˆ›å»ºå¯¹è±¡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Constructor&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;constructor&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getConstructor&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;User&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;user2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;constructor&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;newInstance&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;ccq&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;user2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;é€šè¿‡åå°„è°ƒç”¨æŒ‡å®šçš„æ–¹æ³•&#34;&gt;é€šè¿‡åå°„è°ƒç”¨æŒ‡å®šçš„æ–¹æ³•&lt;/h3&gt;
&lt;p&gt;é€šè¿‡åå°„ï¼Œè°ƒç”¨ç±»ä¸­çš„æ–¹æ³•ï¼Œé€šè¿‡Methodç±»å®Œæˆ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;é€šè¿‡Classç±»çš„&lt;code&gt;getMethod(String name, Class...parameterTypes)&lt;/code&gt;æ–¹æ³•å–å¾—ä¸€ä¸ªMethodå¯¹è±¡ï¼Œå¹¶è®¾ç½®æ­¤æ–¹æ³•æ“ä½œæ—¶æ‰€éœ€çš„å‚ç±»å‹ã€‚&lt;/li&gt;
&lt;li&gt;ä¹‹åä½¿ç”¨&lt;code&gt;Object invoke(Object obj, Object[] args)&lt;/code&gt;è¿›è¡Œè°ƒç”¨ï¼Œå¹¶å‘æ–¹æ³•ä¸­ä¼ é€’è¦è°ƒç”¨æ­¤æ–¹æ³•çš„objå¯¹è±¡ä»¥åŠæ–¹æ³•çš„å‚æ•°&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722173651.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722173651.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç¤ºä¾‹ä»£ç &lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// é€šè¿‡åå°„è°ƒç”¨æ™®é€šæ–¹æ³•
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;User&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;user3&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;newInstance&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;// é€šè¿‡åå°„è·å–ä¸€ä¸ªæ–¹æ³•
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Method&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;setName&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getDeclaredMethod&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;setName&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// invoke(å¯¹è±¡, &amp;#34;æ–¹æ³•çš„å‚æ•°&amp;#34;)
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;setName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;invoke&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;user3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ccq&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;user3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Object invoke(Object obj, Object&amp;hellip; args)&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Objectå¯¹åº”åŸæ–¹æ³•çš„è¿”å›å€¼ï¼Œè‹¥åŸæ–¹æ³•æ— è¿”å›å€¼ï¼Œæ­¤æ—¶è¿”å›null&lt;/li&gt;
&lt;li&gt;è‹¥åŸæ–¹æ³•è‹¥ä¸ºé™æ€æ–¹æ³•ï¼Œæ­¤æ—¶å½¢å‚Object objå¯ä¸ºnull&lt;/li&gt;
&lt;li&gt;è‹¥åŸæ–¹æ³•çš„å½¢å‚åˆ—è¡¨ä¸ºç©ºï¼Œåˆ™Object[] argsä¸ºnull&lt;/li&gt;
&lt;li&gt;è‹¥åŸæ–¹æ³•å£°æ˜ä¸º&lt;code&gt;private&lt;/code&gt;ï¼Œåˆ™éœ€è¦åœ¨è°ƒç”¨æ­¤&lt;code&gt;invoke()&lt;/code&gt;æ–¹æ³•å‰ï¼Œæ˜¾ç¤ºè°ƒç”¨æ–¹æ³•å¯¹è±¡çš„&lt;code&gt;setAccessible(true)&lt;/code&gt;æ–¹æ³•ï¼Œå°†å¯è®¿é—®privateçš„æ–¹æ³•ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;setAccessible&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Methodå’Œ Fieldã€ Constructor å¯¹è±¡éƒ½æœ‰ setaccessible()æ–¹æ³•&lt;/li&gt;
&lt;li&gt;&lt;code&gt;setAccessible&lt;/code&gt;ä½œç”¨æ˜¯å¯åŠ¨å’Œç¦ç”¨è®¿é—®å®‰å…¨æ£€æŸ¥çš„å¼€å…³ã€‚&lt;/li&gt;
&lt;li&gt;å‚æ•°å€¼ä¸ºtrueåˆ™æŒ‡ç¤ºåå°„çš„å¯¹è±¡åœ¨ä½¿ç”¨æ—¶åº”è¯¥å–æ¶ˆ&lt;strong&gt;Javaè¯­è¨€è®¿é—®æ£€æŸ¥&lt;/strong&gt;ã€‚
&lt;ul&gt;
&lt;li&gt;æé«˜åå°„çš„æ•ˆç‡ã€‚å¦‚æœä»£ç ä¸­å¿…é¡»ç”¨åå°„ï¼Œè€Œè¯¥å¥ä»£ç éœ€è¦é¢‘ç¹çš„è¢«è°ƒç”¨ï¼Œæœ€å¥½è®¾ç½®ä¸º&lt;code&gt;true&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;ä½¿å¾—åŸæœ¬æ— æ³•è®¿é—®çš„ç§æœ‰æˆå‘˜ä¹Ÿå¯ä»¥è®¿é—®&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;å‚æ•°å€¼ä¸º&lt;code&gt;false&lt;/code&gt;åˆ™æŒ‡ç¤ºåå°„çš„å¯¹è±¡åº”è¯¥å®æ–½Javaè¯­è¨€è®¿é—®æ£€æŸ¥&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åå°„æ“ä½œæ³›å‹&#34;&gt;åå°„æ“ä½œæ³›å‹&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;test01&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;test01&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;test02&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;test02&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;NoSuchMethodException&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Method&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;method&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Test11&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getMethod&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;test01&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// è·å¾—èŒƒå‹å‚æ•°ç±»å‹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;Type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;genericParameterTypes&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;method&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getGenericParameterTypes&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Type&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;genericParameterType&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;genericParameterTypes&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;genericParameterType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// å¦‚æœæ˜¯å‚æ•°åŒ–ç±»å‹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;genericParameterType&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;instanceof&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ParameterizedType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;// å¼ºè½¬ä¸ºå‚æ•°åŒ–ç±»å‹ï¼Œå¹¶ä¸”è·å¾—çœŸå®ç±»å‹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;Type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;actualTypeArguments&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ParameterizedType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;genericParameterType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getActualTypeArguments&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Type&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;actualTypeArgument&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;actualTypeArguments&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;actualTypeArgument&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;method&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Test11&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getMethod&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;test02&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// è·å¾—æ³›å‹è¿”å›ç±»å‹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;Type&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;genericReturnType&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;method&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getGenericReturnType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;genericReturnType&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;instanceof&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ParameterizedType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;Type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;actualTypeArguments&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ParameterizedType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;genericReturnType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getActualTypeArguments&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Type&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;actualTypeArgument&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;actualTypeArguments&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;actualTypeArgument&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;é€šè¿‡åå°„æ“ä½œæ³¨è§£&#34;&gt;é€šè¿‡åå°„æ“ä½œæ³¨è§£&lt;/h3&gt;
&lt;p&gt;é€šè¿‡åå°„æ“ä½œæ³¨è§£æ¥å®ç°ä¸€äº›åŠŸèƒ½å°±æ˜¯å¾ˆå¤šæ¡†æ¶çš„åŸç†äº†ï¼ŒåƒSpringã€MyBatisä¸­çš„æ³¨è§£åº•å±‚å°±æ˜¯é€šè¿‡åå°„æ¥è·å¾—ä¸€äº›ä¿¡æ¯å¹¶è¿›è¡Œä¸€äº›æ“ä½œæ¥è¾¾æˆæŸäº›åŠŸèƒ½çš„ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ä¸‹é¢çš„å®ç°ORMçš„ç¤ºä¾‹ï¼Œé€šè¿‡è‡ªå®šä¹‰æ³¨è§£è®©ç”¨æˆ·ä½¿ç”¨ï¼Œè®©ç”¨æˆ·å®šä¹‰ç±»åå¯¹åº”çš„è¡¨åï¼Œå±æ€§åå¯¹åº”çš„å­—æ®µåï¼Œç„¶åé€šè¿‡åå°„è·å–è¿™äº›ä¿¡æ¯ï¼Œå°±å¯ä»¥ç”Ÿæˆå¯¹åº”çš„SQLäº†ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// åå°„æ“ä½œæ³¨è§£
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Test12&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ClassNotFoundException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;NoSuchFieldException&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;Class&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;forName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;com.ccqstark.reflection.Student2&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

        &lt;span class=&#34;c1&#34;&gt;// é€šè¿‡åå°„è·å¾—æ³¨è§£
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;Annotation&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;annotations&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getAnnotations&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Annotation&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;annotation&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;annotations&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;annotation&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

        &lt;span class=&#34;c1&#34;&gt;// è·å¾—æ³¨è§£çš„valueå€¼ï¼Œè¿™é‡Œé€šè¿‡åå°„è·å¾—äº†æ˜ å°„è¡¨åçš„æ³¨è§£çš„å€¼ï¼Œä¹Ÿå°±æ˜¯è·å¾—äº†è¡¨å
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;TableCcq&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tableCcq&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TableCcq&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getAnnotation&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TableCcq&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;tableCcq&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

        &lt;span class=&#34;c1&#34;&gt;// é€šè¿‡åå°„æ“ä½œfieldçš„æ³¨è§£ï¼Œè·å¾—äº†å±æ€§æ˜ å°„çš„è¡¨å­—æ®µçš„ä¿¡æ¯ï¼Œå¦‚å­—æ®µåã€ç±»å‹ã€é•¿åº¦
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;Field&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getDeclaredField&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;FieldCcq&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;annotation&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getAnnotation&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;FieldCcq&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;annotation&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;columnName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;annotation&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;annotation&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;

    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;nd&#34;&gt;@TableCcq&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;db_ccq&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Student2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@FieldCcq&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;columnName&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;db_id&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;int&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;length&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@FieldCcq&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;columnName&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;db_age&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;int&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;length&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;age&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@FieldCcq&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;columnName&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;db_name&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;varchar&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;length&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// ç±»å-&amp;gt;è¡¨å çš„æ³¨è§£
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;@Target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ElementType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;TYPE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@Retention&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;RetentionPolicy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;RUNTIME&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@interface&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TableCcq&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// å±æ€§-&amp;gt;å­—æ®µ çš„æ³¨è§£
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;@Target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ElementType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;FIELD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@Retention&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;RetentionPolicy&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;RUNTIME&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@interface&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;FieldCcq&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;columnName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;

    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;æ³¨è§£æ˜¯ç»™ç¨‹åºåšçš„æ³¨é‡Šã€æ ‡è®°ï¼Œè®©ç¨‹åºå¯ä»¥è¯»å–ä¸€äº›é¢å¤–ä¿¡æ¯å¹¶åšå‡ºä¸€äº›è¡Œä¸º&lt;/p&gt;
&lt;p&gt;åå°„è®©Javaç¨‹åºåœ¨è¿è¡Œæ—¶å¯ä»¥è·å–åˆ°ç±»å’Œå¯¹è±¡çš„ä¿¡æ¯ï¼ˆç±»åã€å±æ€§ã€æ–¹æ³•&amp;hellip;ï¼‰&lt;/p&gt;
&lt;p&gt;æ³¨è§£å’Œåå°„ä¸Javaå¾ˆå¤šæµè¡Œæ¡†æ¶æ¯æ¯ç›¸å…³ï¼Œä¸¤è€…çš„æ­é…ä½¿ç”¨æ˜¯å®ƒä»¬çš„åº•å±‚åŸç†ï¼Œæ‰€ä»¥éå¸¸é‡è¦ã€‚&lt;/p&gt;
&lt;p&gt;å‚è€ƒè‡ªï¼š&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.bilibili.com/video/BV1p4411P7V3&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ã€ç‹‚ç¥è¯´Javaã€‘æ³¨è§£å’Œåå°„&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Dubbo&#43;Nacoså®ç°RPC</title>
        <link>https://ccqstark.github.io/p/dubbo_nacos_rpc/</link>
        <pubDate>Thu, 22 Jul 2021 02:26:29 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/dubbo_nacos_rpc/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/dubbo_nacos_rpc/cover.png" alt="Featured image of post Dubbo&#43;Nacoså®ç°RPC" /&gt;&lt;h2 id=&#34;restful-ä¸-rpc-çš„åŒºåˆ«&#34;&gt;RESTful ä¸ RPC çš„åŒºåˆ«&lt;/h2&gt;
&lt;p&gt;åœ¨å¾®æœåŠ¡å®šä¹‰ä¸­æé“ï¼Œæ¯ä¸ªå°æœåŠ¡è¿è¡Œåœ¨è‡ªå·±çš„è¿›ç¨‹ä¸­ï¼Œå¹¶ä»¥è½»é‡çº§çš„æœºåˆ¶è¿›è¡Œé€šä¿¡ã€‚è¿™é‡Œå¹¶æ²¡æœ‰æ˜ç¡®ç»™å‡ºå…·ä½“çš„é€šä¿¡æ–¹å¼ï¼Œåªæ˜¯è¦æ±‚ä»¥è½»é‡çº§çš„æœºåˆ¶è¿›è¡Œé€šä¿¡ï¼Œè™½ç„¶ä½œè€…æ¨èä½¿ç”¨ RESTful ä½œä¸ºé¦–é€‰æ–¹æ¡ˆï¼Œä½†å¾®æœåŠ¡é—´é€šä¿¡æœ¬èº«è¿˜æœ‰å¦ä¸€ä¸ªè½»é‡çº§çš„é€‰æ‹©ï¼šä»¥ Dubbo ä¸ºä»£è¡¨çš„ RPCé€šä¿¡æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;RPC æ˜¯è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼ˆRemote Procedure Callï¼‰çš„ç¼©å†™å½¢å¼ï¼ŒRPC ä¸ RESTful æœ€å¤§çš„ä¸åŒæ˜¯ï¼ŒRPC é‡‡ç”¨å®¢æˆ·ç«¯ï¼ˆClient) - æœåŠ¡ç«¯ï¼ˆServerï¼‰ çš„æ¶æ„æ–¹å¼å®ç°è·¨è¿›ç¨‹é€šä¿¡ï¼Œå®ç°çš„é€šä¿¡åè®®ä¹Ÿæ²¡æœ‰ç»Ÿä¸€çš„æ ‡å‡†ï¼Œå…·ä½“å®ç°ä¾æ‰˜äºç ”å‘å‚å•†çš„è®¾è®¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722021203.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722021203.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ç›®å‰å¼€æºå¸‚åœºä¸Š RPC æ¡†æ¶æœ‰å¾ˆå¤šï¼Œä¾‹å¦‚ GoogleRPCã€Alibaba Dubboã€FacebookÂ Thriftï¼Œæ¯ä¸€ç§äº§å“éƒ½æœ‰è‡ªå·±çš„è®¾è®¡ä¸å®ç°æ–¹æ¡ˆã€‚&lt;/p&gt;
&lt;p&gt;é‚£ RESTful ä¸ RPC æœ‰ä»€ä¹ˆåŒºåˆ«å‘¢ï¼Ÿé€šè¿‡ä¸€ä¸ªè¡¨æ ¼è¿›è¡Œè¯´æ˜ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722021230.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722021230.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;apache-dubbo&#34;&gt;Apache Dubbo&lt;/h2&gt;
&lt;p&gt;Dubbo æ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„é«˜æ€§èƒ½ã€è½»é‡çº§çš„å¼€æº Java æ¡†æ¶ï¼Œç›®å‰è¢« Apacheæ”¶å½•ï¼Œå®˜ç½‘æ˜¯ï¼š
&lt;a class=&#34;link&#34; href=&#34;http://dubbo.apache.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://dubbo.apache.org/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722021248.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722021248.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Dubbo æ˜¯å…¸å‹çš„ RPC æ¡†æ¶çš„ä»£è¡¨ï¼Œé€šè¿‡å®¢æˆ·ç«¯/æœåŠ¡ç«¯ç»“æ„å®ç°è·¨è¿›ç¨‹åº”ç”¨çš„é«˜æ•ˆäºŒè¿›åˆ¶é€šä¿¡ã€‚&lt;/p&gt;
&lt;p&gt;Apache Dubbo æä¾›äº†å…­å¤§æ ¸å¿ƒèƒ½åŠ›ï¼š&lt;/p&gt;
&lt;p&gt;é¢å‘æ¥å£ä»£ç†çš„é«˜æ€§èƒ½ RPC è°ƒç”¨ï¼›&lt;/p&gt;
&lt;p&gt;æ™ºèƒ½å®¹é”™å’Œè´Ÿè½½å‡è¡¡ï¼›&lt;/p&gt;
&lt;p&gt;æœåŠ¡è‡ªåŠ¨æ³¨å†Œå’Œå‘ç°ï¼›&lt;/p&gt;
&lt;p&gt;é«˜åº¦å¯æ‰©å±•èƒ½åŠ›ï¼›&lt;/p&gt;
&lt;p&gt;è¿è¡ŒæœŸæµé‡è°ƒåº¦ï¼›&lt;/p&gt;
&lt;p&gt;å¯è§†åŒ–çš„æœåŠ¡æ²»ç†ä¸è¿ç»´ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹å›¾å¼•ç”¨ Dubbo çš„å®˜æ–¹æ¶æ„å›¾ï¼Œè®²è§£ ApacheDubbo çš„ç»„æˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722021336.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722021336.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Dubbo æ¶æ„ä¸­ï¼ŒåŒ…å« 5 ç§è§’è‰²ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Provider&lt;/code&gt;ï¼šRPCæœåŠ¡æä¾›è€…ï¼ŒProvider æ˜¯æ¶ˆæ¯çš„æœ€ç»ˆå¤„ç†è€…ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Container&lt;/code&gt;ï¼šå®¹å™¨ï¼Œç”¨äºå¯åŠ¨ã€åœæ­¢ Provider æœåŠ¡ã€‚è¿™é‡Œçš„å®¹å™¨å¹¶é Tomcatã€Jetty ç­‰ Web å®¹å™¨ï¼ŒDubbo ä¹Ÿå¹¶ä¸å¼ºåˆ¶è¦æ±‚ Provider å¿…é¡»å…·å¤‡ Web èƒ½åŠ›ã€‚Dubbo çš„å®¹å™¨æ˜¯æŒ‡å¯¹è±¡å®¹å™¨ï¼Œä¾‹å¦‚ Dubbo å†…ç½®çš„ SpringContainer å®¹å™¨å°±æä¾›äº†åˆ©ç”¨ Spring IOC å®¹å™¨ç®¡ç† Provider å¯¹è±¡çš„èŒèƒ½ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Consumer&lt;/code&gt;ï¼šæ¶ˆè´¹è€…ï¼Œè°ƒç”¨çš„å‘èµ·è€…ã€‚Consumer éœ€è¦åœ¨å®¢æˆ·ç«¯æŒæœ‰ Provider çš„é€šä¿¡æ¥å£æ‰èƒ½å®Œæˆé€šä¿¡è¿‡ç¨‹ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Registry&lt;/code&gt;ï¼šæ³¨å†Œä¸­å¿ƒï¼ŒDubbo æ¶æ„ä¸­æ³¨å†Œä¸­å¿ƒä¸å¾®æœåŠ¡æ¶æ„ä¸­çš„æ³¨å†Œä¸­å¿ƒèŒè´£ç±»ä¼¼ï¼Œæä¾›äº† Dubbo Provider çš„æ³¨å†Œä¸å‘ç°èŒèƒ½ï¼ŒConsumeré€šè¿‡ Registry å¯ä»¥è·å–Provider å¯ç”¨çš„èŠ‚ç‚¹å®ä¾‹çš„ IPã€ç«¯å£ç­‰ï¼Œå¹¶äº§ç”Ÿç›´æ¥é€šä¿¡ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå‰é¢æˆ‘ä»¬è®²è§£çš„ Alibaba Nacos é™¤äº†å¯ä»¥ä½œä¸ºå¾®æœåŠ¡æ¶æ„ä¸­çš„æ³¨å†Œä¸­å¿ƒå¤–ï¼ŒåŒæ ·å¯¹è‡ªå®¶çš„ Dubbo æä¾›äº† RPC è°ƒç”¨æ³¨å†Œå‘ç°çš„èŒè´£ï¼Œè¿™æ˜¯å…¶ä»– Spring Cloud æ³¨å†Œä¸­å¿ƒæ‰€ä¸å…·å¤‡çš„åŠŸèƒ½ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Monitor&lt;/code&gt;ï¼šç›‘æ§å™¨ï¼Œç›‘æ§å™¨æä¾›äº†Dubboçš„ç›‘æ§èŒè´£ã€‚åœ¨ Dubbo äº§ç”Ÿé€šä¿¡æ—¶ï¼ŒMonitor è¿›è¡Œæ”¶é›†ã€ç»Ÿè®¡ï¼Œå¹¶é€šè¿‡å¯è§†åŒ– UI ç•Œé¢å¸®åŠ©è¿ç»´äººå‘˜äº†è§£ç³»ç»Ÿè¿›ç¨‹é—´çš„é€šä¿¡çŠ¶å†µã€‚Dubbo Monitor ä¸»æµäº§å“æœ‰ Dubbo Adminã€Dubbo Ops ç­‰ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;é¡¹ç›®æ•´åˆ&#34;&gt;é¡¹ç›®æ•´åˆ&lt;/h2&gt;
&lt;h3 id=&#34;æœåŠ¡æä¾›è€…provider&#34;&gt;æœåŠ¡æä¾›è€…Provider&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å¼•å…¥ä¾èµ–&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.dubbo&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;dubbo-spring-boot-starter&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.7.8&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.springframework.boot&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;spring-boot-starter-actuator&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç›¸æ¯”æ ‡å‡†å¾®æœåŠ¡ï¼Œéœ€è¦é¢å¤–ä¾èµ– &lt;code&gt;dubbo-spring-boot-starter&lt;/code&gt; ä¸ &lt;code&gt;spring-boot-starter-actuator&lt;/code&gt;ã€‚å…¶ä¸­ dubbo-spring-boot-starter æ˜¯ Dubbo ä¸ Spring Boot æ•´åˆæœ€å…³é”®çš„ç»„ä»¶ï¼Œä¸º Spring Boot æä¾›äº† Dubbo çš„é»˜è®¤æ”¯æŒã€‚è€Œ spring-boot-starter-actuatoråˆ™ä¸ºå¾®æœåŠ¡æä¾›äº†ç›‘æ§æŒ‡æ ‡æ¥å£ï¼Œä¾¿äºç›‘æ§ç³»ç»Ÿä»åº”ç”¨æ”¶é›†å„é¡¹è¿è¡ŒæŒ‡æ ‡ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;8000&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#æœåŠ¡ç«¯å£&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spring&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;application&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;warehouse-service&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å¾®æœåŠ¡id&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;cloud&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#nacosæ³¨å†Œåœ°å€&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;discovery&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;server-addr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;192.168.31.101&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;8848&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dubbo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#dubboä¸nacosçš„é€šä¿¡é…ç½®&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;application&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;warehouse-dubbo&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#provideråœ¨Nacosä¸­çš„åº”ç”¨id&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;registry&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#Providerä¸Nacosé€šä¿¡åœ°å€ï¼Œä¸spring.cloud.nacosåœ°å€ä¸€è‡´&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;address&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;nacos://192.168.31.101:8848&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;protocol&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; 
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;dubbo&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#é€šä¿¡åè®®å&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;20880&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#é…ç½®é€šä¿¡ç«¯å£ï¼Œé»˜è®¤ä¸º20880&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;scan&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; 
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;base-packages&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;com.lagou.warehouseservice.dubbo&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Dubbo éœ€è¦ä¾æ‰˜ Containerï¼ˆå®¹å™¨ï¼‰å¯¹å¤–æš´éœ²æœåŠ¡ï¼Œè€Œè¿™ä¸ªå®¹å™¨é…ç½®ä¸å¾®æœåŠ¡é…ç½®æ˜¯åˆ†å¼€çš„ï¼Œéœ€è¦é¢å¤–å ç”¨ä¸€ä¸ªç½‘ç»œç«¯å£20880æä¾›æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722021359.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722021359.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;dubbo.scan.base-packages&lt;/code&gt; ä»£è¡¨åœ¨ Dubbo å®¹å™¨å¯åŠ¨æ—¶è‡ªåŠ¨æ‰«æ com.lagou.warehouseservice.dubbo åŒ…ä¸‹çš„æ¥å£ä¸å®ç°ç±»ï¼Œå¹¶å°†è¿™äº›æ¥å£ä¿¡æ¯åœ¨Nacos è¿›è¡Œç™»è®°ï¼Œå› æ­¤ Dubbo å¯¹å¤–æš´éœ²çš„æ¥å£å¿…é¡»æ”¾åœ¨è¯¥åŒ…ä¸‹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¼€å‘æœåŠ¡&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å®ä½“ç±»dtoè¿™é‡Œä¸åšç¤ºä¾‹äº†&lt;/p&gt;
&lt;p&gt;ä¸‹é¢æ˜¯&lt;code&gt;com.lagou.warehouseservice.dubbo&lt;/code&gt;åŒ…ä¸‹åˆ›å»ºçš„æœåŠ¡æ¥å£ï¼ŒåŒ…åè¦ä¸ dubbo.scan.base-packages ä¿æŒä¸€è‡´&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;c1&#34;&gt;//Provideræ¥å£
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;WarehouseService&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;//æŸ¥è¯¢åº“å­˜
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Stock&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getStock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;skuId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨ &lt;code&gt;com.lagou.warehouseservice.dubbo.impl&lt;/code&gt;åŒ…ä¸‹åˆ›å»ºå®ç°ç±»&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@DubboService&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;WarehouseServiceImpl&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;implements&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;WarehouseService&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Stock&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getStock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;skuId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;
        &lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;				 code
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;				*/&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;stock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;éœ€è¦é¢å¤–å¢åŠ  &lt;code&gt;@DubboService&lt;/code&gt;æ³¨è§£ã€‚@DubboService æ˜¯ Provider æ³¨è§£ï¼Œè¯´æ˜è¯¥ç±»æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯æœåŠ¡æä¾›è€…ï¼ŒåŠ å…¥è¯¥æ³¨è§£ä¼šè‡ªåŠ¨å°†ç±»ä¸æ–¹æ³•çš„ä¿¡æ¯åœ¨ Nacosä¸­æ³¨å†Œä¸º Providerã€‚&lt;/p&gt;
&lt;h3 id=&#34;æœåŠ¡æ¶ˆè´¹è€…consumer&#34;&gt;æœåŠ¡æ¶ˆè´¹è€…Consumer&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;å¼•å…¥ä¾èµ–å’ŒæœåŠ¡æä¾›è€…ä¸€æ ·&lt;/li&gt;
&lt;li&gt;é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;spring&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;application&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;order-service&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;cloud&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;discovery&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;server-addr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;192.168.31.101&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;8848&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;9000&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;dubbo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;application&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;order-service-dubbo&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;registry&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;address&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;nacos://192.168.31.101:8848&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;å°†å¤„äºæœåŠ¡æä¾›æ–¹çš„æœåŠ¡æ¥å£å’Œç›¸å…³å®ä½“ç±»å¤åˆ¶åˆ°è°ƒç”¨æ–¹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722021421.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722021421.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æ¥å£å°±è¡Œï¼Œæ¥å£çš„å®ç°ç±»ä¸ç”¨ã€‚ç›¸å½“äºå£°æ˜äº†é€šä¿¡æ¥å£ï¼Œæ³¨æ„è¦æ±‚åŒ…åã€ç±»ååŠä»£ç ä¿æŒå®Œå…¨ä¸€è‡´ã€‚ä¸Šé¢æ˜¯åœ¨ä¸åŸé¡¹ç›®åŒçº§ç›®å½•æ–°å»ºäº†ä¸€ä¸ªå’ŒæœåŠ¡æä¾›æ–¹ä¸€æ ·çš„åŒ…è·¯å¾„ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¶ˆè´¹è€…è°ƒç”¨æœåŠ¡&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@RestController&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;OrderController&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    
		&lt;span class=&#34;nd&#34;&gt;@DubboReference&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;WarehouseService&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;warehouseService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    
    &lt;span class=&#34;nd&#34;&gt;@GetMapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/create_order&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;createOrder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;skuId&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;salesQuantity&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;
        
				&lt;span class=&#34;c1&#34;&gt;// æŸ¥è¯¢å•†å“åº“å­˜ï¼Œåƒè°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·å®Œæˆä¸šåŠ¡é€»è¾‘ã€‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;Stock&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;stock&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;warehouseService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getStock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;skuId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

				&lt;span class=&#34;c1&#34;&gt;// code				
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…³é”®ç‚¹æ˜¯ &lt;code&gt;@DubboReference&lt;/code&gt; æ³¨è§£ã€‚è¯¥æ³¨è§£ç”¨åœ¨ Consumer ç«¯ï¼ŒSpring ä¼šè‡ªåŠ¨ç”Ÿæˆè¿œç¨‹æœåŠ¡çš„æ¥å£çš„ä»£ç†å®ç°ç±»ï¼Œå¹¶éšè—è¿œç¨‹é€šä¿¡ç»†èŠ‚ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722021502.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722021502.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å¾®æœåŠ¡å¯åŠ¨åï¼Œåœ¨nacosçš„æœåŠ¡åˆ—è¡¨ç•Œé¢å¯ä»¥çœ‹åˆ°å¾®æœåŠ¡å’ŒDubboçš„æœåŠ¡ï¼Œè¡¨ç¤ºæ³¨å†ŒæˆåŠŸäº†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722021520.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722021520.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å°å‘&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¼•å…¥äº†&lt;code&gt;spring-boot-starter-actuator&lt;/code&gt; ä¼šä¸ShardingSphereæ£€æŸ¥æ•°æ®åº“è¿æ¥æ—¶äº§ç”Ÿå†²çªï¼ŒæŠ›å‡ºé”™è¯¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;n&#34;&gt;org&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;springframework&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;dao&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;InvalidDataAccessApiUsageException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ConnectionCallback&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;isValid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; 
&lt;span class=&#34;n&#34;&gt;nested&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;exception&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;java&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;sql&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;SQLFeatureNotSupportedException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;isValid&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è§£å†³åŠæ³•ï¼š&lt;/p&gt;
&lt;p&gt;é…ç½®æ–‡ä»¶åŠ ä¸Š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;management&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;health&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>RocketMQå…¥é—¨</title>
        <link>https://ccqstark.github.io/p/rocketmq_startup/</link>
        <pubDate>Thu, 22 Jul 2021 02:03:53 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/rocketmq_startup/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/rocketmq_startup/cover.png" alt="Featured image of post RocketMQå…¥é—¨" /&gt;&lt;h2 id=&#34;ç†è®ºçŸ¥è¯†&#34;&gt;ç†è®ºçŸ¥è¯†&lt;/h2&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722015824.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722015824.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;RocketMQ å¤©ç„¶é‡‡ç”¨é›†ç¾¤æ¨¡å¼ï¼Œå¸¸è§çš„ RocketMQ é›†ç¾¤æœ‰ä¸‰ç§å½¢å¼ï¼š&lt;strong&gt;å¤š Master æ¨¡å¼&lt;/strong&gt;ã€&lt;strong&gt;å¤š Master å¤š Slave- å¼‚æ­¥å¤åˆ¶æ¨¡å¼&lt;/strong&gt;ã€&lt;strong&gt;å¤š Master å¤š Slave- åŒæ­¥åŒå†™æ¨¡å¼&lt;/strong&gt;ï¼Œè¿™ä¸‰ç§æ¨¡å¼å„è‡ªçš„ä¼˜ç¼ºç‚¹å¦‚ä¸‹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¤š Master æ¨¡å¼æ˜¯é…ç½®æœ€ç®€å•çš„æ¨¡å¼ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä½¿ç”¨æœ€å¤šçš„å½¢å¼ã€‚ä¼˜ç‚¹æ˜¯å•ä¸ª Master å®•æœºæˆ–é‡å¯ç»´æŠ¤å¯¹åº”ç”¨æ— å½±å“ï¼Œåœ¨ç£ç›˜é…ç½®ä¸º RAID10 æ—¶ï¼Œå³ä½¿æœºå™¨å®•æœºä¸å¯æ¢å¤æƒ…å†µä¸‹ï¼Œç”±äº RAID10 ç£ç›˜éå¸¸å¯é ï¼ŒåŒæ­¥åˆ·ç›˜æ¶ˆæ¯ä¹Ÿä¸ä¼šä¸¢å¤±ï¼Œæ€§èƒ½ä¹Ÿæ˜¯æœ€é«˜çš„ï¼›ç¼ºç‚¹æ˜¯å•å°æœºå™¨å®•æœºæœŸé—´ï¼Œè¿™å°æœºå™¨ä¸Šæœªè¢«æ¶ˆè´¹çš„æ¶ˆæ¯åœ¨æœºå™¨æ¢å¤ä¹‹å‰ä¸å¯è®¢é˜…ï¼Œæ¶ˆæ¯å®æ—¶æ€§ä¼šå—åˆ°å½±å“ã€‚&lt;/li&gt;
&lt;li&gt;å¤š Master å¤š Slave å¼‚æ­¥å¤åˆ¶æ¨¡å¼ã€‚æ¯ä¸ª Master é…ç½®ä¸€ä¸ª Slaveï¼Œæœ‰å¤šå¯¹ Master-Slaveï¼ŒHA é‡‡ç”¨å¼‚æ­¥å¤åˆ¶æ–¹å¼ï¼Œä¸»å¤‡æœ‰çŸ­æš‚æ¶ˆæ¯æ¯«ç§’çº§å»¶è¿Ÿï¼Œå³ä½¿ç£ç›˜æŸååªä¼šä¸¢å¤±å°‘é‡æ¶ˆæ¯ï¼Œä¸”æ¶ˆæ¯å®æ—¶æ€§ä¸ä¼šå—å½±å“ã€‚åŒæ—¶ Master å®•æœºåï¼Œæ¶ˆè´¹è€…ä»ç„¶å¯ä»¥ä» Slave æ¶ˆè´¹ï¼Œè€Œä¸”æ­¤è¿‡ç¨‹å¯¹åº”ç”¨é€æ˜ï¼Œä¸éœ€è¦äººå·¥å¹²é¢„ï¼Œæ€§èƒ½åŒå¤š Master æ¨¡å¼å‡ ä¹ä¸€æ ·ï¼›ç¼ºç‚¹æ˜¯ Master å®•æœºï¼Œç£ç›˜æŸåæƒ…å†µä¸‹ä¼šä¸¢å¤±å°‘é‡æ¶ˆæ¯ã€‚&lt;/li&gt;
&lt;li&gt;å¤š Master å¤š Slave åŒæ­¥åŒå†™æ¨¡å¼ï¼ŒHA é‡‡ç”¨åŒæ­¥åŒå†™æ–¹å¼ï¼Œå³åªæœ‰ä¸»å¤‡éƒ½å†™æˆåŠŸï¼Œæ‰å‘åº”ç”¨è¿”å›æˆåŠŸï¼Œè¯¥æ¨¡å¼æ•°æ®ä¸æœåŠ¡éƒ½æ— å•ç‚¹æ•…éšœï¼ŒMaster å®•æœºæƒ…å†µä¸‹ï¼Œæ¶ˆæ¯æ— å»¶è¿Ÿï¼ŒæœåŠ¡å¯ç”¨æ€§ä¸æ•°æ®å¯ç”¨æ€§éƒ½éå¸¸é«˜ï¼›ç¼ºç‚¹æ˜¯æ€§èƒ½æ¯”å¼‚æ­¥å¤åˆ¶æ¨¡å¼ä½ 10% å·¦å³ï¼Œå‘é€å•ä¸ªæ¶ˆæ¯çš„æ‰§è¡Œæ—¶é—´ä¼šç•¥é«˜ï¼Œä¸”ç›®å‰ç‰ˆæœ¬åœ¨ä¸»èŠ‚ç‚¹å®•æœºåï¼Œå¤‡æœºä¸èƒ½è‡ªåŠ¨åˆ‡æ¢ä¸ºä¸»æœºã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722015856.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722015856.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;éƒ¨ç½²&#34;&gt;éƒ¨ç½²&lt;/h2&gt;
&lt;h3 id=&#34;éƒ¨ç½²-nameserver-é›†ç¾¤&#34;&gt;éƒ¨ç½² NameServer é›†ç¾¤&lt;/h3&gt;
&lt;p&gt;ç›´æ¥wgetä¸‹è½½&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;wget https://mirror-hk.koddos.net/apache/rocketmq/4.8.0/rocketmq-all-4.8.0-bin-release.zip
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;unzip&lt;/code&gt; è§£å‹åï¼Œæˆ‘ä»¬è¿›å…¥&lt;code&gt;bin&lt;/code&gt;ç›®å½•ä¿®æ”¹&lt;code&gt;runserver.sh&lt;/code&gt;æ–‡ä»¶çš„è™šæ‹Ÿæœºå†…å­˜é…ç½®ï¼ˆå› ä¸ºé»˜è®¤çš„å¤ªå¤§äº†åƒä¸æ¶ˆï¼‰ï¼Œæ ¹æ®è‡ªå·±æœåŠ¡å™¨å®é™…æƒ…å†µæ›´æ”¹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nv&#34;&gt;JAVA_OPT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;JAVA_OPT&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; -server -Xms128m -Xmx128m -Xmn128m -XX:MetaspaceSize=128m -XX:MaxMetaspaceSize=320m&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åå°å¯åŠ¨ä¸€ä¸‹NameServeræœåŠ¡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;nohup sh mqnamesrv &lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;NameServer å°†å ç”¨ &lt;code&gt;9876&lt;/code&gt; ç«¯å£æä¾›æœåŠ¡ï¼Œä¸è¦å¿˜è®°åœ¨é˜²ç«å¢™è®¾ç½®æ”¾è¡Œï¼Œå¦ä¸€å°æœåŠ¡å™¨ä¹ŸåŒæ ·æ–¹å¼æ“ä½œä¸€æ³¢ã€‚&lt;/p&gt;
&lt;h3 id=&#34;éƒ¨ç½²-broker-é›†ç¾¤&#34;&gt;éƒ¨ç½² Broker é›†ç¾¤&lt;/h3&gt;
&lt;p&gt;åŒæ ·æ”¹å°JVMå†…å­˜ï¼Œè¿™æ¬¡æ”¹&lt;code&gt;bin&lt;/code&gt;ä¸‹çš„&lt;code&gt;runbroker.sh&lt;/code&gt;æ–‡ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nv&#34;&gt;JAVA_OPT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;JAVA_OPT&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; -server -Xms128m -Xmx128m -Xmn128m&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åæˆ‘ä»¬è¦é…ç½®ä¸€ä¸‹Brokerï¼Œåœ¨ &lt;code&gt;conf&lt;/code&gt; ç›®å½•ä¸‹ï¼ŒRocketMQ å·²ç»ç»™æˆ‘ä»¬è´´å¿ƒçš„å‡†å¤‡å¥½ä¸‰ç»„é›†ç¾¤é…ç½®æ¨¡æ¿ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;2m-2s-async ä»£è¡¨åŒä¸»åŒä»å¼‚æ­¥å¤åˆ¶æ¨¡å¼ï¼›&lt;/li&gt;
&lt;li&gt;2m-2s-sync ä»£è¡¨åŒä¸»åŒä»åŒæ­¥åŒå†™æ¨¡å¼ï¼›&lt;/li&gt;
&lt;li&gt;2m-noslave ä»£è¡¨åŒä¸»æ¨¡å¼ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™é‡Œé…ç½®çš„æ˜¯&lt;code&gt;åŒä¸»æ¨¡å¼&lt;/code&gt; ï¼Œæ‰€ä»¥å»2m-noslaveç›®å½•ä¸‹ï¼Œå‘ç°æœ‰broker-a.propertieså’Œbroker-b.propertiesä¸¤ä¸ªé…ç½®æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€å°ä¸»æœºä¿®æ”¹broker-a.propertiesä½œä¸ºbroker-aï¼Œç¬¬äºŒå°ä¿®æ”¹broker-b.propertiesä½œä¸ºbroker-bï¼Œéƒ½æ·»åŠ ä¸Š&lt;strong&gt;NameServer&lt;/strong&gt;é›†ç¾¤çš„åœ°å€å¹¶é…ä¸Šè‡ªå·±çš„&lt;strong&gt;å…¬ç½‘IPï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#é›†ç¾¤åç§°ï¼ŒåŒä¸€ä¸ªé›†ç¾¤ä¸‹çš„ broker è¦æ±‚ç»Ÿä¸€&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;brokerClusterName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;DefaultCluster
&lt;span class=&#34;c1&#34;&gt;#broker åç§°&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;brokerName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;broker-a
&lt;span class=&#34;c1&#34;&gt;#broker å…¬ç½‘IP&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;brokerIP1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;49.234.82.226
&lt;span class=&#34;c1&#34;&gt;#brokerId=0 ä»£è¡¨ä¸»èŠ‚ç‚¹ï¼Œå¤§äºé›¶ä»£è¡¨ä»èŠ‚ç‚¹&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;brokerId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#åˆ é™¤æ—¥å¿—æ–‡ä»¶æ—¶é—´ç‚¹ï¼Œé»˜è®¤å‡Œæ™¨ 4 ç‚¹&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;deleteWhen&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;04&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#æ—¥å¿—æ–‡ä»¶ä¿ç•™æ—¶é—´ï¼Œé»˜è®¤ 48 å°æ—¶&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;fileReservedTime&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;48&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#Broker çš„è§’è‰²&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#- ASYNC_MASTER å¼‚æ­¥å¤åˆ¶Master&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#- SYNC_MASTER åŒæ­¥åŒå†™Master&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;brokerRole&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ASYNC_MASTER
&lt;span class=&#34;c1&#34;&gt;#åˆ·ç›˜æ–¹å¼&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#- ASYNC_FLUSH å¼‚æ­¥åˆ·ç›˜ï¼Œæ€§èƒ½å¥½å®•æœºä¼šä¸¢æ•°&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#- SYNC_FLUSH åŒæ­¥åˆ·ç›˜ï¼Œæ€§èƒ½è¾ƒå·®ä¸ä¼šä¸¢æ•°&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;flushDiskType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ASYNC_FLUSH
&lt;span class=&#34;c1&#34;&gt;#æœ«å°¾è¿½åŠ ï¼ŒNameServer èŠ‚ç‚¹åˆ—è¡¨ï¼Œä½¿ç”¨åˆ†å·åˆ†å‰²&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;namesrvAddr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;192.168.31.200:9876&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;192.168.31.201:9876
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;brokeré…ç½®æ–‡ä»¶é‡Œä¸€å®šè¦é…ä¸ªå…¬ç½‘IPï¼Œå¦åˆ™é»˜è®¤æ˜¯ç”¨å†…ç½‘çš„ï¼&lt;/p&gt;
&lt;p&gt;broker-bå°±åªæœ‰&lt;code&gt;brokerName&lt;/code&gt;å’Œ&lt;code&gt;brokerIP1&lt;/code&gt;ä¸åŒ&lt;/p&gt;
&lt;p&gt;ä¹‹åå°±å¯ä»¥è¿è¡Œäº†ï¼Œåˆ°binç›®å½•ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;nohup sh mqbroker -c ../conf/2m-noslave/broker-a.properties &lt;span class=&#34;p&#34;&gt;&amp;amp;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;broker-aå°±ç”¨broker-a.propertieså¯åŠ¨ï¼Œbroker-bå°±ç”¨broker-b.propertieså¯åŠ¨&lt;/p&gt;
&lt;p&gt;Broker å°†å ç”¨ &lt;code&gt;10911&lt;/code&gt; ç«¯å£æä¾›æœåŠ¡ï¼Œè®°å¾—è®¾ç½®é˜²ç«å¢™æ”¾è¡Œ&lt;/p&gt;
&lt;h3 id=&#34;æµ‹è¯•éƒ¨ç½²ç»“æœ&#34;&gt;æµ‹è¯•éƒ¨ç½²ç»“æœ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ä¿®æ”¹binä¸‹&lt;code&gt;tools.sh&lt;/code&gt;çš„&lt;code&gt;Djava.ext.dirs&lt;/code&gt;ï¼Œæ·»åŠ jvmçš„extç»å¯¹è·¯å¾„ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nv&#34;&gt;JAVA_OPT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;JAVA_OPT&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; -Djava.ext.dirs=&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;BASE_DIR&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/lib:&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;JAVA_HOME&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/jre/lib/ext:&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;JAVA_HOME&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;/lib/ext:/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.282.b08-1.el7_9.x86_64/jre/lib/ext&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚ä¸Šï¼Œåœ¨æœ€åç”¨å†’å·éš”å¼€åŠ ä¸Šè‡ªå·±çš„&lt;code&gt;jre/lib/ext&lt;/code&gt; ç»å¯¹è·¯å¾„&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ &lt;code&gt;mqadmin&lt;/code&gt; å‘½ä»¤æŸ¥çœ‹é›†ç¾¤çŠ¶æ€&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;sh mqadmin clusterList -n &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;NameServeræœåŠ¡å™¨çš„IP&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:9876
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯ä»¥çœ‹åˆ°broker-aå’Œbroker-bçš„åœ°å€å’Œç«¯å£&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722015916.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722015916.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½¿ç”¨ &lt;code&gt;tools.sh&lt;/code&gt;å·¥å…·é€šè¿‡ç”Ÿæˆæ¼”ç¤ºæ•°æ®æ¥æµ‹è¯• MQ å®é™…çš„è¿è¡Œæƒ…å†µ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æµ‹è¯•ç”Ÿäº§è€…å‘é€æ¶ˆæ¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;NAMESRV_ADDR&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=[&lt;/span&gt;NameServeræœåŠ¡å™¨çš„IP&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:9876
sh tools.sh org.apache.rocketmq.example.quickstart.Producer
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é›†ç¾¤ç”Ÿæ•ˆåï¼Œå¯ä»¥çœ‹åˆ°broker-aå’Œbroker-äº¤æ›¿å‡ºç°&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722015935.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722015935.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æµ‹è¯•æ¶ˆè´¹è€…æ¥æ”¶æ¶ˆæ¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# è®¾ç½®ç¯å¢ƒå˜é‡&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;NAMESRV_ADDR&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=[&lt;/span&gt;NameServeræœåŠ¡å™¨çš„IP&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:9876
&lt;span class=&#34;c1&#34;&gt;# è¿è¡Œæµ‹è¯•ç¨‹åº&lt;/span&gt;
sh tools.sh org.apache.rocketmq.example.quickstart.Consumer
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722020002.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722020002.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;éƒ¨ç½²å¯è§†åŒ–ç•Œé¢-rocketmq-console&#34;&gt;éƒ¨ç½²å¯è§†åŒ–ç•Œé¢ RocketMQ-Console&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨dockeréƒ¨ç½²&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ‹‰å–é•œåƒ&lt;/span&gt;
docker pull apacherocketmq/rocketmq-console:2.0.0
&lt;span class=&#34;c1&#34;&gt;# è¿è¡Œå®¹å™¨&lt;/span&gt;
docker run -e &lt;span class=&#34;s2&#34;&gt;&amp;#34;JAVA_OPTS=-Drocketmq.namesrv.addr=[NameServeræœåŠ¡å™¨çš„IP]:9876 -Dcom.rocketmq.sendMessageWithVIPChannel=false&amp;#34;&lt;/span&gt; -p 8080:8080 -t apacherocketmq/rocketmq-console:2.0.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‰“å¼€ç½‘å€ç•Œé¢å¦‚ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722020027.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722020027.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä»£ç å®è·µ&#34;&gt;ä»£ç å®è·µ&lt;/h2&gt;
&lt;h3 id=&#34;ç”Ÿäº§è€…-producer-å‘é€æ¶ˆæ¯&#34;&gt;ç”Ÿäº§è€… Producer å‘é€æ¶ˆæ¯&lt;/h3&gt;
&lt;p&gt;å¼•å…¥ä¾èµ–&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- RocketMQå®¢æˆ·ç«¯ï¼Œç‰ˆæœ¬ä¸Brokerä¿æŒä¸€è‡´ --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.rocketmq&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;rocketmq-client&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;4.8.0&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆ›å»ºä¸€ä¸ªcontrolleræµ‹è¯•å‘é€&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@RestController&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;ProviderController&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Logger&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;logger&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;LoggerFactory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getLogger&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ProviderController&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@GetMapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;value&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;/send_s1_tax&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;send1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MQClientException&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//åˆ›å»ºDefaultMQProduceræ¶ˆæ¯ç”Ÿäº§è€…å¯¹è±¡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;DefaultMQProducer&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;producer&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DefaultMQProducer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;producer-group&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//è®¾ç½®NameServerèŠ‚ç‚¹åœ°å€ï¼Œå¤šä¸ªèŠ‚ç‚¹é—´ç”¨åˆ†å·åˆ†å‰²
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;producer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setNamesrvAddr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;192.168.31.200:9876;192.168.31.201:9876&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//ä¸NameServerå»ºç«‹é•¿è¿æ¥
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;producer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;//å‘é€ä¸€ç™¾æ¡æ•°æ®
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;100&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;//æ•°æ®æ­£æ–‡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;{\&amp;#34;title\&amp;#34;:\&amp;#34;Xå¸‚2021å¹´åº¦ç¬¬ä¸€å­£åº¦ç¨åŠ¡æ±‡æ€»æ•°æ®\&amp;#34;}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
                &lt;span class=&#34;cm&#34;&gt;/*åˆ›å»ºæ¶ˆæ¯
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;                    Messageæ¶ˆæ¯ä¸‰ä¸ªå‚æ•°
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;                    topic ä»£è¡¨æ¶ˆæ¯ä¸»é¢˜ï¼Œè‡ªå®šä¹‰ä¸ºtax-data-topicè¯´æ˜æ˜¯ç¨åŠ¡æ•°æ®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;                    tags ä»£è¡¨æ ‡å¿—ï¼Œç”¨äºæ¶ˆè´¹è€…æ¥æ”¶æ•°æ®æ—¶è¿›è¡Œæ•°æ®ç­›é€‰ã€‚2021S1ä»£è¡¨2021å¹´ç¬¬ä¸€å­£åº¦æ•°æ®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;                    body ä»£è¡¨æ¶ˆæ¯å†…å®¹
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;                */&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;Message&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;message&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Message&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;tax-data-topic&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;2021S1&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getBytes&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;//å‘é€æ¶ˆæ¯ï¼Œè·å–å‘é€ç»“æœ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;n&#34;&gt;SendResult&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;producer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;send&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;//å°†å‘é€ç»“æœå¯¹è±¡æ‰“å°åœ¨æ§åˆ¶å°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;n&#34;&gt;logger&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;æ¶ˆæ¯å·²å‘é€ï¼šMsgId:&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getMsgId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ï¼Œå‘é€çŠ¶æ€:&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getSendStatus&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;RemotingException&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;printStackTrace&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MQBrokerException&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;printStackTrace&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;InterruptedException&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;printStackTrace&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;finally&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;producer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;shutdown&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;success&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯åŠ¨åº”ç”¨è°ƒç”¨æ¥å£åï¼Œå¯ä»¥åœ¨æ§åˆ¶å°çœ‹åˆ°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;n&#34;&gt;2021&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;04&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;19&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;19&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;06&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;630&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;INFO&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;51083&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;---&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;8000&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;exec&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;controller&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;ProviderController&lt;/span&gt;      &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;æ¶ˆæ¯å·²å‘é€&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼š&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MsgId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;20010DA820039217106D5F092230313AC78B18B4AAC260CBEA71024E&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼Œ&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;å‘é€çŠ¶æ€&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SEND_OK&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;2021&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;04&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;19&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;19&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;06&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;697&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;INFO&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;51083&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;---&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;8000&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;exec&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;controller&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;ProviderController&lt;/span&gt;      &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;æ¶ˆæ¯å·²å‘é€&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼š&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MsgId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;20010DA820039217106D5F092230313AC78B18B4AAC260CBEAB6024F&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼Œ&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;å‘é€çŠ¶æ€&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SEND_OK&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;2021&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;04&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;19&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;19&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;06&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;777&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;INFO&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;51083&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;---&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;8000&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;exec&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;controller&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;ProviderController&lt;/span&gt;      &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;æ¶ˆæ¯å·²å‘é€&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼š&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MsgId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;20010DA820039217106D5F092230313AC78B18B4AAC260CBEAFA0250&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼Œ&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;å‘é€çŠ¶æ€&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SEND_OK&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;2021&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;04&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;19&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;19&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;06&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;847&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;INFO&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;51083&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;---&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;8000&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;exec&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;controller&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;ProviderController&lt;/span&gt;      &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;æ¶ˆæ¯å·²å‘é€&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼š&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MsgId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;20010DA820039217106D5F092230313AC78B18B4AAC260CBEB490251&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼Œ&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;å‘é€çŠ¶æ€&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SEND_OK&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;2021&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;04&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;19&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;19&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;06&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;953&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;INFO&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;51083&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;---&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;8000&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;exec&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;controller&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;ProviderController&lt;/span&gt;      &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;æ¶ˆæ¯å·²å‘é€&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼š&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MsgId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;20010DA820039217106D5F092230313AC78B18B4AAC260CBEB8F0252&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼Œ&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;å‘é€çŠ¶æ€&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SEND_OK&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;2021&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;04&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;19&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;19&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;06&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;17&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;050&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;INFO&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;51083&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;---&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;8000&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;exec&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;controller&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;ProviderController&lt;/span&gt;      &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;æ¶ˆæ¯å·²å‘é€&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼š&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MsgId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;20010DA820039217106D5F092230313AC78B18B4AAC260CBEBF90253&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼Œ&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;å‘é€çŠ¶æ€&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SEND_OK&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ¶ˆè´¹è€…-consumer-æ¥æ”¶æ¶ˆæ¯&#34;&gt;æ¶ˆè´¹è€… Consumer æ¥æ”¶æ¶ˆæ¯&lt;/h3&gt;
&lt;p&gt;å¼•å…¥åŒæ ·ä¾èµ–&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- RocketMQå®¢æˆ·ç«¯ï¼Œç‰ˆæœ¬ä¸Brokerä¿æŒä¸€è‡´ --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.rocketmq&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;rocketmq-client&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;4.8.0&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆ›å»ºä¸€ä¸ªcontrolleræµ‹è¯•æ¥æ”¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@SpringBootApplication&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;RocketmqConsumerApplication&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Logger&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;logger&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;LoggerFactory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getLogger&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;RocketmqConsumerApplication&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MQClientException&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;SpringApplication&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;run&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;RocketmqConsumerApplication&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//åˆ›å»ºæ¶ˆè´¹è€…å¯¹è±¡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;DefaultMQPushConsumer&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;consumer&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DefaultMQPushConsumer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;consumer-group&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//è®¾ç½®NameServerèŠ‚ç‚¹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;consumer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setNamesrvAddr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;192.168.31.200:9876;192.168.31.201:9876&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;cm&#34;&gt;/*è®¢é˜…ä¸»é¢˜ï¼Œ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;        consumer.subscribeåŒ…å«ä¸¤ä¸ªå‚æ•°ï¼š
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;        topic: è¯´æ˜æ¶ˆè´¹è€…ä»Brokerè®¢é˜…å“ªä¸€ä¸ªä¸»é¢˜ï¼Œè¿™ä¸€é¡¹è¦ä¸Providerä¿æŒä¸€è‡´ã€‚
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;        subExpression: å­è¡¨è¾¾å¼ç”¨äºç­›é€‰tagsã€‚
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;            åŒä¸€ä¸ªä¸»é¢˜ä¸‹å¯ä»¥åŒ…å«å¾ˆå¤šä¸åŒçš„tagsï¼ŒsubExpressionç”¨äºç­›é€‰ç¬¦åˆæ¡ä»¶çš„tagsè¿›è¡Œæ¥æ”¶ã€‚
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;            ä¾‹å¦‚ï¼šè®¾ç½®ä¸º*ï¼Œåˆ™ä»£è¡¨æ¥æ”¶æ‰€æœ‰tagsæ•°æ®ã€‚
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;            ä¾‹å¦‚ï¼šè®¾ç½®ä¸º2020S1ï¼Œåˆ™Brokerä¸­åªæœ‰tags=2020S1çš„æ¶ˆæ¯ä¼šè¢«æ¥æ”¶ï¼Œè€Œ2020S2å°±ä¼šè¢«æ’é™¤åœ¨å¤–ã€‚
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;        */&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;consumer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;subscribe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;tax-data-topic&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;*&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//åˆ›å»ºç›‘å¬ï¼Œå½“æœ‰æ–°çš„æ¶ˆæ¯ç›‘å¬ç¨‹åºä¼šåŠæ—¶æ•æ‰å¹¶åŠ ä»¥å¤„ç†ã€‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;consumer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;registerMessageListener&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MessageListenerConcurrently&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ConsumeConcurrentlyStatus&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;consumeMessage&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MessageExt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;msgs&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ConsumeConcurrentlyContext&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;context&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;//æ‰¹é‡æ•°æ®å¤„ç†
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MessageExt&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;msg&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;msgs&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;logger&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;æ¶ˆè´¹è€…æ¶ˆè´¹æ•°æ®:&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;msg&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getBody&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()));&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;//è¿”å›æ•°æ®å·²æ¥æ”¶æ ‡è¯†
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ConsumeConcurrentlyStatus&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;CONSUME_SUCCESS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;});&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//å¯åŠ¨æ¶ˆè´¹è€…ï¼Œä¸Brokerå»ºç«‹é•¿è¿æ¥ï¼Œå¼€å§‹ç›‘å¬ã€‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;consumer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å½“åº”ç”¨å¯åŠ¨åï¼ŒProvider äº§ç”Ÿæ–°æ¶ˆæ¯çš„åŒæ—¶ï¼ŒConsumer ç«¯å°±ä¼šç«‹å³æ¶ˆè´¹æ‰ï¼Œæ§åˆ¶å°äº§ç”Ÿè¾“å‡ºã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;n&#34;&gt;2021&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;04&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;19&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;01&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;57&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;636&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;INFO&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;51389&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;---&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MessageThread_2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;RocketmqConsumerApplication&lt;/span&gt;        &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;æ¶ˆè´¹è€…æ¶ˆè´¹æ•°æ®&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:{&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;title&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Xå¸‚2021å¹´åº¦ç¬¬ä¸€å­£åº¦ç¨åŠ¡æ±‡æ€»æ•°æ®&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;2021&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;04&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;19&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;01&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;57&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;692&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;INFO&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;51389&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;---&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MessageThread_1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;RocketmqConsumerApplication&lt;/span&gt;        &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;æ¶ˆè´¹è€…æ¶ˆè´¹æ•°æ®&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:{&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;title&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Xå¸‚2021å¹´åº¦ç¬¬ä¸€å­£åº¦ç¨åŠ¡æ±‡æ€»æ•°æ®&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;2021&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;04&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;19&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;01&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;57&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;719&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;INFO&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;51389&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;---&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;essageThread_18&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;RocketmqConsumerApplication&lt;/span&gt;        &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;æ¶ˆè´¹è€…æ¶ˆè´¹æ•°æ®&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:{&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;title&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Xå¸‚2021å¹´åº¦ç¬¬ä¸€å­£åº¦ç¨åŠ¡æ±‡æ€»æ•°æ®&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;2021&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;04&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;19&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;01&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;57&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;728&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;INFO&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;51389&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;---&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;essageThread_10&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;RocketmqConsumerApplication&lt;/span&gt;        &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;æ¶ˆè´¹è€…æ¶ˆè´¹æ•°æ®&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:{&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;title&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Xå¸‚2021å¹´åº¦ç¬¬ä¸€å­£åº¦ç¨åŠ¡æ±‡æ€»æ•°æ®&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;2021&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;04&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;19&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;13&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;01&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;57&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;738&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;INFO&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;51389&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;---&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MessageThread_6&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;RocketmqConsumerApplication&lt;/span&gt;        &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;æ¶ˆè´¹è€…æ¶ˆè´¹æ•°æ®&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:{&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;title&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Xå¸‚2021å¹´åº¦ç¬¬ä¸€å­£åº¦ç¨åŠ¡æ±‡æ€»æ•°æ®&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨å¯è§†åŒ–ç•Œé¢ä¹Ÿå¯ä»¥çœ‹åˆ°å˜åŒ–ã€‚&lt;/p&gt;
&lt;p&gt;Spring Cloud ç”Ÿæ€ä¸­è¿˜æä¾›äº† &lt;code&gt;Spring Cloud Stream&lt;/code&gt; æ¨¡å—ï¼Œå…è®¸ç¨‹åºå‘˜é‡‡ç”¨â€œå£°æ˜å¼â€çš„å¼€å‘æ–¹å¼å®ç°ä¸ MQ æ›´è½»æ¾çš„æ¥å…¥ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Sleuth&#43;Zipkiné“¾è·¯è·Ÿè¸ªå…¥é—¨</title>
        <link>https://ccqstark.github.io/p/zipkin_startup/</link>
        <pubDate>Thu, 22 Jul 2021 01:56:55 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/zipkin_startup/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/zipkin_startup/cover.png" alt="Featured image of post Sleuth&#43;Zipkiné“¾è·¯è·Ÿè¸ªå…¥é—¨" /&gt;&lt;h3 id=&#34;ä¾èµ–&#34;&gt;ä¾èµ–&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- sleuth --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.springframework.cloud&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;spring-cloud-starter-sleuth&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.2.6.RELEASE&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;

&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- zipkin --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.springframework.cloud&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;spring-cloud-starter-zipkin&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.2.6.RELEASE&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œè¸©äº†å¤§å‘ï¼Œä¸è¦ç”¨é˜¿é‡Œçš„é•œåƒï¼Œç”¨Mavenå®˜æ–¹çš„ï¼Œé˜¿é‡Œçš„æœ‰é—®é¢˜ï¼ï¼&lt;/p&gt;
&lt;h3 id=&#34;é…ç½®æ–‡ä»¶&#34;&gt;é…ç½®æ–‡ä»¶&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;spring&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;	&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;sleuth&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;sampler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#é‡‡æ ·å™¨&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;probability&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1.0&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#é‡‡æ ·ç‡ï¼Œé‡‡æ ·ç‡æ˜¯é‡‡é›†Traceçš„æ¯”ç‡ï¼Œé»˜è®¤0.1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;10000&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#æ¯ç§’æ•°æ®é‡‡é›†é‡ï¼Œæœ€å¤šnæ¡/ç§’Trace&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;zipkin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#è®¾ç½®zipkinæœåŠ¡ç«¯åœ°å€&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;base-url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;http://49.234.82.226:9411&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå»æœåŠ¡ç«¯éƒ¨ç½²zipkinçš„å¯è§†åŒ–ç›‘æ§ç¨‹åºï¼Œå‚ç…§å®˜ç½‘ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://zipkin.io/pages/quickstart.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://zipkin.io/pages/quickstart.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ¨èä½¿ç”¨docker&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker run -d -p 9411:9411 openzipkin/zipkin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;ä½¿ç”¨&#34;&gt;ä½¿ç”¨&lt;/h3&gt;
&lt;p&gt;ä¹‹åè°ƒç”¨çš„é“¾è·¯å°±å¯ä»¥åœ¨ä¸‹é¢é“¾æ¥çœ‹åˆ°äº†&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;http://49.234.82.226:9411/zipkin/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://49.234.82.226:9411/zipkin&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;éœ€è¦åˆ·æ–°å’Œç­›é€‰ä¸€ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722014947.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722014947.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ç‚¹è¿›å»å¯ä»¥çœ‹åˆ°å…·ä½“ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722015003.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722015003.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Nacosé…ç½®ä¸­å¿ƒå…¥é—¨</title>
        <link>https://ccqstark.github.io/p/nacos_config_startup/</link>
        <pubDate>Thu, 22 Jul 2021 01:48:33 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/nacos_config_startup/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/nacos_config_startup/cover.png" alt="Featured image of post Nacosé…ç½®ä¸­å¿ƒå…¥é—¨" /&gt;&lt;h3 id=&#34;å»ºç«‹æ•°æ®åº“&#34;&gt;å»ºç«‹æ•°æ®åº“&lt;/h3&gt;
&lt;p&gt;å»ºç«‹ä¸ªç”¨äºå­˜æ”¾é…ç½®çš„æ•°æ®åº“åä¸ºnacos-configï¼Œnacos/confä¸‹æœ‰ä¸€ä¸ª&lt;code&gt;nacos-mysql.sql&lt;/code&gt;ï¼Œè¿è¡Œä¸€ä¸‹ä¾¿å¯è·å¾—å­˜æ”¾é…ç½®ä¿¡æ¯çš„è¡¨&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722014526.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722014526.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;é…ç½®æ•°æ®æº&#34;&gt;é…ç½®æ•°æ®æº&lt;/h3&gt;
&lt;p&gt;ä¿®æ”¹nacos/conf/application.properties&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;err&#34;&gt;###&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;If&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;use&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MySQL&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;datasource&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;spring&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;datasource&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;platform&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mysql&lt;/span&gt;

&lt;span class=&#34;err&#34;&gt;###&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Count&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;of&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DB&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;num&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;

&lt;span class=&#34;err&#34;&gt;###&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Connect&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;URL&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;of&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DB&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jdbc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mysql&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//xxxxxxx:3306/nacos_config?characterEncoding=utf8&amp;amp;connectTimeout=1000&amp;amp;socketTimeout=3000&amp;amp;autoReconnect=true&amp;amp;useUnicode=true&amp;amp;useSSL=false&amp;amp;serverTimezone=UTC
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;xxxxxxx&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è®°å¾—é‡å¯&lt;/p&gt;
&lt;h3 id=&#34;åº”ç”¨æ¥å…¥é…ç½®ä¸­å¿ƒ&#34;&gt;åº”ç”¨æ¥å…¥é…ç½®ä¸­å¿ƒ&lt;/h3&gt;
&lt;p&gt;ä¾èµ–&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- Spring Boot Webæ¨¡å— --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.springframework.boot&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;spring-boot-starter-web&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- Nacosæ³¨å†Œä¸­å¿ƒstarter --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;com.alibaba.cloud&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- Nacosé…ç½®ä¸­å¿ƒstarter --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;com.alibaba.cloud&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;spring-cloud-starter-alibaba-nacos-config&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬æŠŠåŸæ¥çš„application.ymlåˆ é™¤äº†ï¼Œæˆ‘ä»¬ä¸å†éœ€è¦æœ¬åœ°é…ç½®&lt;/p&gt;
&lt;p&gt;ç„¶ååˆ›å»ºæ–‡ä»¶bootstrap.ymlï¼Œæ³¨æ„åå­—è¦ä¸€æ¨¡ä¸€æ ·&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;spring&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;application&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;order-service&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å¾®æœåŠ¡id&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;profiles&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;active&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;dev&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#ç¯å¢ƒå&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;cloud&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;config&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#Nacosé…ç½®ä¸­å¿ƒé…ç½®&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;file-extension&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;yml&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#æ–‡ä»¶æ‰©å±•å&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;server-addr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;192.168.31.10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;8848&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;logging&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å¼€å¯debugæ—¥å¿—ï¼Œä»…ä¸ºå­¦ä¹ æ—¶ä½¿ç”¨&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;level&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;debug&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®šä¹‰ä¸€ä»½é…ç½®æ–‡ä»¶æ˜¯ç”¨&lt;code&gt;å¾®æœåŠ¡id-ç¯å¢ƒå.æ–‡ä»¶æ‰©å±•å&lt;/code&gt; ä¸‰éƒ¨åˆ†ç»„åˆä¸ºæœ‰æ•ˆçš„ data idï¼Œæ¯”å¦‚ä¸Šé¢çš„å°±æ˜¯order-service-dev.yml&lt;/p&gt;
&lt;p&gt;ç„¶åå»NacosæŠŠåŸæ¥çš„é‚£äº›åº”ç”¨é…ç½®ç»™å­˜åˆ°äº‘ç«¯&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»â• å·æ–°å»ºé…ç½®&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722014556.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722014556.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æ³¨æ„data id å°±æ˜¯ä¸Šé¢è¯´çš„&lt;code&gt;å¾®æœåŠ¡id-ç¯å¢ƒå.æ–‡ä»¶æ‰©å±•å&lt;/code&gt; ï¼Œç„¶åé€‰æ‹©yamlæ ¼å¼ï¼ŒæŠŠæˆ‘ä»¬ä»¥å‰å†™åœ¨æœ¬åœ°çš„é…ç½®æ–‡ä»¶å†™åˆ°ä¸‹é¢çš„é…ç½®å†…å®¹ä¸­&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722014634.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722014634.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æ­¤æ—¶æ–°å»ºçš„é…ç½®ä¿¡æ¯å…¶å®å°±æ˜¯ç”¨æˆ‘ä»¬ä¹‹å‰é…ç½®çš„MySQLå­˜çš„ï¼Œä½ ä¼šå‘ç°è¿™äº›é…ç½®ä¿¡æ¯å­˜åœ¨config-infoè¡¨ä¸­äº†&lt;/p&gt;
&lt;h2 id=&#34;é…ç½®çƒ­åŠ è½½æŠ€æœ¯&#34;&gt;é…ç½®çƒ­åŠ è½½æŠ€æœ¯&lt;/h2&gt;
&lt;p&gt;å½“æˆ‘ä»¬çªç„¶ä¿®æ”¹é…ç½®æ–‡ä»¶åï¼Œä¸ºäº†ç”Ÿæ•ˆæˆ‘ä»¬å¿…é¡»é‡å¯ä¸€ä¸‹åº”ç”¨ï¼Œå°±æœ‰ç‚¹éº»çƒ¦ï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬ç”¨åˆ°äº†&lt;code&gt;é…ç½®çƒ­åŠ è½½æŠ€æœ¯&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä¸ºäº†æ”¯æŒçƒ­åŠ è½½ï¼ŒæœåŠ¡çš„ç¨‹åºé’ˆå¯¹çƒ­åŠ è½½éœ€è¦ä½œå‡ºå¦‚ä¸‹å˜åŠ¨ï¼š&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ï¼Œé…ç½®æ•°æ®å¿…é¡»è¢«å°è£…åˆ°å•ç‹¬çš„é…ç½® Bean ä¸­ï¼›&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒï¼Œè¿™ä¸ªé…ç½® Bean éœ€è¦è¢« &lt;code&gt;@Configuration&lt;/code&gt; ä¸ &lt;code&gt;@RefreshScope&lt;/code&gt; ä¸¤ä¸ªæ³¨è§£æè¿°ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Configuration&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@RefreshScope&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;CustomConfig&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;${custom.flag}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;flag&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;${custom.database}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;database&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getFlag&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;flag&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setFlag&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;flag&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;flag&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;flag&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getDatabase&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;database&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setDatabase&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;database&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;database&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;database&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨é…ç½®å¤„ç”¨&lt;code&gt;@Resource&lt;/code&gt; æ³¨å…¥å³å¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@RestController&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;TestController&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Resource&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CustomConfig&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;customConfig&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@GetMapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/test&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;test&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;flag:&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;customConfig&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getFlag&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;lt;br/&amp;gt; database:&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;customConfig&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getDatabase&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç°åœ¨æˆ‘ä»¬éœ€è¦å˜æ›´é…ç½®æ–‡ä»¶æ—¶åªéœ€åœ¨Nacosä¸­ä¿®æ”¹é…ç½®ï¼Œå®ƒå°±ä¼šè‡ªåŠ¨æ¨é€åˆ°åº”ç”¨è€Œä¸éœ€è¦æ¯æ¬¡éƒ½é‡å¯åº”ç”¨äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åˆ†ç¯å¢ƒé…ç½®&#34;&gt;åˆ†ç¯å¢ƒé…ç½®&lt;/h3&gt;
&lt;p&gt;è¿™ä¸ªå…¶å®å’ŒåŸæ¥æ²¡æœ‰ç”¨é…ç½®ä¸­å¿ƒçš„å·®ä¸å¤šï¼Œç”Ÿäº§ç¯å¢ƒçš„é…ç½®å°±åœ¨æ–‡ä»¶åååŠ &lt;code&gt;-prod&lt;/code&gt; ï¼Œé…ç½®ç¯å¢ƒå°±åŠ &lt;code&gt;-dev&lt;/code&gt; ï¼Œå…±ç”¨çš„åŸºç¡€å…¨å±€é…ç½®å°±ç›´æ¥&lt;code&gt;application.yml&lt;/code&gt; ä»€ä¹ˆä¹Ÿä¸ç”¨åŠ ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºç°åœ¨å¾®æœåŠ¡æ¶æ„å…·ä½“æ¥è¯´å°±æ˜¯&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;order-service-dev.yml     å¼€å‘ç¯å¢ƒ&lt;/li&gt;
&lt;li&gt;order-service-prod.yml  ç”Ÿäº§ç¯å¢ƒ&lt;/li&gt;
&lt;li&gt;order-service.yml     å…±ç”¨&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å½“ç„¶ï¼Œå¦‚æœè¦æ”¹å˜ä½ è¦ç”¨çš„ç¯å¢ƒï¼Œè¿˜æ˜¯éœ€è¦æ”¹&lt;code&gt;bootstrap.yml&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;spring&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;profiles&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;active&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;prod&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#ç¯å¢ƒå&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>OpenFeignæœåŠ¡è°ƒç”¨å…¥é—¨</title>
        <link>https://ccqstark.github.io/p/openfeign_startup/</link>
        <pubDate>Thu, 22 Jul 2021 01:43:44 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/openfeign_startup/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/openfeign_startup/cover.png" alt="Featured image of post OpenFeignæœåŠ¡è°ƒç”¨å…¥é—¨" /&gt;&lt;h2 id=&#34;feign-ä¸-openfeign&#34;&gt;&lt;strong&gt;Feign ä¸ OpenFeign&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;Spring Cloud OpenFeign å¹¶ä¸æ˜¯ç‹¬ç«‹çš„æŠ€æœ¯ã€‚å®ƒåº•å±‚åŸºäº Netflix Feignï¼ŒNetflix Feign æ˜¯ Netflix è®¾è®¡çš„å¼€æºçš„å£°æ˜å¼ WebService å®¢æˆ·ç«¯ï¼Œç”¨äºç®€åŒ–æœåŠ¡é—´é€šä¿¡ã€‚Netflix Feign é‡‡ç”¨â€œ&lt;strong&gt;æ¥å£+æ³¨è§£&lt;/strong&gt;â€çš„æ–¹å¼å¼€å‘ï¼Œé€šè¿‡&lt;strong&gt;æ¨¡ä»¿ RPC çš„å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨æ¨¡å¼ï¼ˆCSï¼‰&lt;/strong&gt;ï¼Œé‡‡ç”¨æ¥å£æ–¹å¼å¼€å‘æ¥å±è”½ç½‘ç»œé€šä¿¡çš„ç»†èŠ‚ã€‚OpenFeign åˆ™æ˜¯åœ¨ Netflix Feign çš„åŸºç¡€ä¸Šè¿›è¡Œå°è£…ï¼Œç»“åˆåŸæœ‰ Spring MVC çš„æ³¨è§£ï¼Œå¯¹ Spring Cloud å¾®æœåŠ¡é€šä¿¡æä¾›äº†è‰¯å¥½çš„æ”¯æŒã€‚ä½¿ç”¨ OpenFeign å¼€å‘çš„æ–¹å¼ä¸å¼€å‘ Spring MVC Controller é¢‡ä¸ºç›¸ä¼¼ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢è®²OpenFeignçš„ä½¿ç”¨æ–¹æ³•ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æœåŠ¡æä¾›æ–¹&#34;&gt;æœåŠ¡æä¾›æ–¹&lt;/h2&gt;
&lt;h3 id=&#34;ä¾èµ–&#34;&gt;ä¾èµ–&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.springframework.boot&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;spring-boot-starter-web&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;com.alibaba.cloud&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;é…ç½®&#34;&gt;é…ç½®&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;spring&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;application&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;warehouse-service&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#åº”ç”¨/å¾®æœåŠ¡åå­—&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;cloud&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;discovery&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;server-addr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;192.168.31.102&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;8848&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#nacosæœåŠ¡å™¨åœ°å€&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#ç”¨æˆ·åå¯†ç &lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;80&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å¯è¢«è°ƒç”¨çš„æœåŠ¡&#34;&gt;å¯è¢«è°ƒç”¨çš„æœåŠ¡&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@RestController&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;WarehouseController&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@GetMapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/stock&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Stock&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getStock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;skuId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;
        &lt;span class=&#34;cm&#34;&gt;/* code */&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;stock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;æœåŠ¡è°ƒç”¨æ–¹&#34;&gt;æœåŠ¡è°ƒç”¨æ–¹&lt;/h2&gt;
&lt;h3 id=&#34;ä¾èµ–-1&#34;&gt;ä¾èµ–&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.springframework.boot&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;spring-boot-starter-web&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;com.alibaba.cloud&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;spring-cloud-starter-alibaba-nacos-discovery&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- OpenFeign --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.springframework.cloud&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;spring-cloud-starter-openfeign&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.2.5.RELEASE&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;OpenFeign ä¸ºäº†ä¿è¯é€šä¿¡é«˜å¯ç”¨ï¼Œåº•å±‚ä¹Ÿæ˜¯é‡‡ç”¨ Ribbon å®ç°è´Ÿè½½å‡è¡¡ï¼Œå…¶åŸç†ä¸ Ribbon+RestTemplate å®Œå…¨ç›¸åŒï¼Œåªä¸è¿‡ç›¸è¾ƒ RestTemplateï¼ŒOpenFeign å°è£…åº¦æ›´é«˜ç½¢äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ·»åŠ å¯ç”¨æ³¨è§£&#34;&gt;æ·»åŠ å¯ç”¨æ³¨è§£&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@SpringBootApplication&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;@EnableFeignClients&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//å¯ç”¨OpenFeign
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;OrderServiceApplication&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;SpringApplication&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;run&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;OrderServiceApplication&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;@EnableFeignClients&lt;/code&gt;ç”¨äºå¯ç”¨OpenFeign&lt;/p&gt;
&lt;h3 id=&#34;é…ç½®-1&#34;&gt;é…ç½®&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;spring&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;application&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;order-service&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;cloud&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;discovery&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;server-addr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;192.168.31.102&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;8848&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;80&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œåªéœ€é…ç½®Nacoså³å¯&lt;/p&gt;
&lt;h3 id=&#34;åˆ›å»ºopenfeignçš„é€šä¿¡æ¥å£ä¸å“åº”å¯¹è±¡&#34;&gt;åˆ›å»ºOpenFeignçš„é€šä¿¡æ¥å£ä¸å“åº”å¯¹è±¡&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;@FeignClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;warehouse-service&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)**&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;WarehouseServiceFeignClient&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@GetMapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/stock&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Stock&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getStock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;@RequestParam&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;skuId&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;skuId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œå°±æ˜¯å®šä¹‰æˆ‘ä»¬è¦è°ƒç”¨çš„æœåŠ¡çš„æ¥å£ï¼Œæ–¹æ³•åï¼Œå‚æ•°ï¼Œè·¯ç”±ä»€ä¹ˆçš„éƒ½è¦å¯¹åº”ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;@FeignClient&lt;/code&gt;æ³¨è§£é‡Œé¢å°±å¡«è¦è°ƒç”¨çš„å¾®æœåŠ¡åã€‚å‚æ•°å€¼ warehouse-service ä¸ºæœåŠ¡æä¾›è€… IDï¼Œè¿™ä¸€é¡¹å¿…é¡»ä¸ Nacos æ³¨å†Œ ID ä¿æŒä¸€è‡´ã€‚åœ¨ OpenFeign å‘é€è¯·æ±‚å‰ä¼šè‡ªåŠ¨åœ¨ Nacos æŸ¥è¯¢ warehouse-service æ‰€æœ‰å¯ç”¨å®ä¾‹ä¿¡æ¯ï¼Œå†é€šè¿‡å†…ç½®çš„ Ribbon è´Ÿè½½å‡è¡¡é€‰æ‹©ä¸€ä¸ªå®ä¾‹å‘èµ· RESTful è¯·æ±‚ï¼Œè¿›è€Œä¿è¯é€šä¿¡é«˜å¯ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œçš„&lt;code&gt;@GetMapping/@PostMapping&lt;/code&gt;å’Œä»¥å‰æˆ‘ä»¬åœ¨å†™æ§åˆ¶å™¨æ—¶ç»å¸¸ä½¿ç”¨çš„ @GetMapping æˆ–è€… @ PostMapping ä¸åŒï¼ŒOpenFeign çš„å®¢æˆ·ç«¯ä½¿ç”¨è¿™äº›æ³¨è§£çš„å«ä¹‰æ˜¯ï¼šOpenFeign å‘æœåŠ¡æä¾›è€… warehouse-service çš„ stock æ¥å£**å‘èµ· Get è¯·æ±‚ã€‚**ä¸å¾—ä¸è¯´è¿™ä¸ªæ–¹å¼å’ŒDubboè¿˜æ˜¯å¾ˆåƒçš„ï¼Œ&lt;/p&gt;
&lt;p&gt;@RequestParamï¼Œè¯¥æ³¨è§£è¯´æ˜æ–¹æ³•å‚æ•°ä¸è¯·æ±‚å‚æ•°ä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ¶ˆè´¹è€…è°ƒç”¨&#34;&gt;æ¶ˆè´¹è€…è°ƒç”¨&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@RestController&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;OrderController&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;//åˆ©ç”¨@Resourceå°†IOCå®¹å™¨ä¸­è‡ªåŠ¨å®ä¾‹åŒ–çš„å®ç°ç±»å¯¹è±¡è¿›è¡Œæ³¨å…¥
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;@Resource&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;WarehouseServiceFeignClient&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;warehouseServiceFeignClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;**&lt;/span&gt;
    
    &lt;span class=&#34;nd&#34;&gt;@GetMapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/create_order&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;createOrder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;skuId&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;salesQuantity&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;
				
				&lt;span class=&#34;c1&#34;&gt;//æŸ¥è¯¢å•†å“åº“å­˜ï¼Œåƒè°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·å®Œæˆä¸šåŠ¡é€»è¾‘ã€‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;Stock&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;stock&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;warehouseServiceFeignClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getStock&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;skuId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;        
				&lt;span class=&#34;cm&#34;&gt;/* code */&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;@Resource&lt;/code&gt;æ³¨å…¥è¢«è°ƒç”¨æœåŠ¡çš„æ¥å£å°±å¯ä»¥åƒè°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·ä½¿ç”¨äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®Œæ•´è¿‡ç¨‹&#34;&gt;&lt;strong&gt;å®Œæ•´è¿‡ç¨‹&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;1.åœ¨ç¬¬ä¸€æ¬¡è®¿é—® WarehouseServiceFeignClient æ¥å£æ—¶ï¼ŒSpring è‡ªåŠ¨ç”Ÿæˆæ¥å£çš„å®ç°ç±»å¹¶å®ä¾‹åŒ–å¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;2.å½“è°ƒç”¨ getStock() æ–¹æ³•æ—¶ï¼ŒRibbon è·å– warehouse-service å¯ç”¨å®ä¾‹ä¿¡æ¯ï¼Œæ ¹æ®è´Ÿè½½å‡è¡¡ç­–ç•¥é€‰æ‹©åˆé€‚å®ä¾‹ã€‚&lt;/p&gt;
&lt;p&gt;3.OpenFeign æ ¹æ®æ–¹æ³•ä¸Šæ³¨è§£æè¿°çš„æ˜ å°„å…³ç³»ç”Ÿæˆå®Œæ•´çš„ URL å¹¶å‘é€ HTTP è¯·æ±‚ï¼Œå¦‚æœè¯·æ±‚æ–¹æ³•æ˜¯ @PostMappingï¼Œåˆ™å‚æ•°ä¼šé™„åŠ åœ¨è¯·æ±‚ä½“ä¸­è¿›è¡Œå‘é€ã€‚&lt;/p&gt;
&lt;p&gt;4.warehouse-service å¤„ç†å®Œæ¯•è¿”å› JSON æ•°æ®ï¼Œæ¶ˆè´¹è€…ç«¯ OpenFeign æ¥æ”¶ JSON çš„åŒæ—¶ååºåˆ—åŒ–åˆ° Stock å¯¹è±¡ï¼Œå¹¶å°†è¯¥å¯¹è±¡è¿”å›ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç”Ÿäº§ç¯å¢ƒ-openfeign-çš„é…ç½®äº‹é¡¹&#34;&gt;&lt;strong&gt;ç”Ÿäº§ç¯å¢ƒ OpenFeign çš„é…ç½®äº‹é¡¹&lt;/strong&gt;&lt;/h2&gt;
&lt;h3 id=&#34;å¦‚ä½•æ›´æ”¹-openfeign-é»˜è®¤çš„è´Ÿè½½å‡è¡¡ç­–ç•¥&#34;&gt;&lt;strong&gt;å¦‚ä½•æ›´æ”¹ OpenFeign é»˜è®¤çš„è´Ÿè½½å‡è¡¡ç­–ç•¥&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;å‰é¢æåˆ°åœ¨ OpenFeign ä½¿ç”¨æ—¶é»˜è®¤å¼•ç”¨ Ribbon å®ç°å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ã€‚å¦‚æœè®¾ç½® Ribbon çš„è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œå…¶å®é…ç½®æ–¹å¼å…¶å®ä¸ä¹‹å‰ Ribbon+RestTemplate æ–¹æ¡ˆå®Œå…¨ç›¸åŒï¼Œåªéœ€åœ¨ application.yml ä¸­è°ƒæ•´å¾®æœåŠ¡é€šä¿¡æ—¶ä½¿ç”¨çš„è´Ÿè½½å‡è¡¡ç±»å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¤åˆ¶ä»£ç &lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;warehouse-service&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#æœåŠ¡æä¾›è€…çš„å¾®æœåŠ¡ID&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ribbon&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#è®¾ç½®å¯¹åº”çš„è´Ÿè½½å‡è¡¡ç±»&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;NFLoadBalancerRuleClassName&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;com.netflix.loadbalancer.RandomRule&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å¼€å¯é»˜è®¤çš„-openfeign-æ•°æ®å‹ç¼©åŠŸèƒ½&#34;&gt;&lt;strong&gt;å¼€å¯é»˜è®¤çš„ OpenFeign æ•°æ®å‹ç¼©åŠŸèƒ½&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;åœ¨ OpenFeign ä¸­ï¼Œé»˜è®¤å¹¶æ²¡æœ‰å¼€å¯æ•°æ®å‹ç¼©åŠŸèƒ½ã€‚ä½†å¦‚æœæœåŠ¡é—´å•æ¬¡ä¼ é€’æ•°æ®è¶…è¿‡ 1K å­—èŠ‚ï¼Œå¼ºçƒˆæ¨èå¼€å¯æ•°æ®å‹ç¼©åŠŸèƒ½ã€‚é»˜è®¤ OpenFeign ä½¿ç”¨ Gzip æ–¹å¼å‹ç¼©æ•°æ®ï¼Œå¯¹äºå¤§æ–‡æœ¬é€šå¸¸å‹ç¼©åå°ºå¯¸åªç›¸å½“äºåŸå§‹æ•°æ®çš„ 10%~30%ï¼Œè¿™ä¼šæå¤§æé«˜å¸¦å®½åˆ©ç”¨ç‡ã€‚ä½†æœ‰ä¸€ç§æƒ…å†µé™¤å¤–ï¼Œå¦‚æœåº”ç”¨å±äºè®¡ç®—å¯†é›†å‹ï¼ŒCPU è´Ÿè½½é•¿æœŸè¶…è¿‡ 70%ï¼Œå› æ•°æ®å‹ç¼©ã€è§£å‹ç¼©éƒ½éœ€è¦ CPU è¿ç®—ï¼Œå¼€å¯æ•°æ®å‹ç¼©åŠŸèƒ½åè€Œä¼šç»™ CPU å¢åŠ é¢å¤–è´Ÿæ‹…ï¼Œå¯¼è‡´ç³»ç»Ÿæ€§èƒ½é™ä½ï¼Œè¿™æ˜¯ä¸å¯å–çš„ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¤åˆ¶ä»£ç &lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;feign&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;compression&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# å¼€å¯è¯·æ±‚æ•°æ®çš„å‹ç¼©åŠŸèƒ½&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# å‹ç¼©æ”¯æŒçš„MIMEç±»å‹&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;mime-types&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;text/xml,application/xml, application/json&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# æ•°æ®å‹ç¼©ä¸‹é™ 1024è¡¨ç¤ºä¼ è¾“æ•°æ®å¤§äº1024 æ‰ä¼šè¿›è¡Œæ•°æ®å‹ç¼©(æœ€å°å‹ç¼©å€¼æ ‡å‡†)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;min-request-size&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1024&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# å¼€å¯å“åº”æ•°æ®çš„å‹ç¼©åŠŸèƒ½&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ›¿æ¢é»˜è®¤é€šä¿¡ç»„ä»¶&#34;&gt;&lt;strong&gt;æ›¿æ¢é»˜è®¤é€šä¿¡ç»„ä»¶&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;OpenFeign é»˜è®¤ä½¿ç”¨ Java è‡ªå¸¦çš„ URLConnection å¯¹è±¡åˆ›å»º HTTP è¯·æ±‚ï¼Œä½†æ¥å…¥ç”Ÿäº§æ—¶ï¼Œå¦‚æœèƒ½å°†åº•å±‚é€šä¿¡ç»„ä»¶æ›´æ¢ä¸º&lt;code&gt;Apache HttpClient&lt;/code&gt;ã€&lt;code&gt;OKHttp&lt;/code&gt; è¿™æ ·çš„ä¸“ç”¨é€šä¿¡ç»„ä»¶ï¼ŒåŸºäºè¿™äº›ç»„ä»¶è‡ªå¸¦çš„è¿æ¥æ± ï¼Œå¯ä»¥æ›´å¥½åœ°å¯¹ HTTP è¿æ¥å¯¹è±¡è¿›è¡Œé‡ç”¨ä¸ç®¡ç†ã€‚ä½œä¸º OpenFeign ç›®å‰é»˜è®¤æ”¯æŒ Apache HttpClient ä¸ OKHttp ä¸¤æ¬¾äº§å“ã€‚è¿™é‡Œä»¥OKHttpé…ç½®æ–¹å¼ä¸ºä¾‹ã€‚&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¼•å…¥ feign-okhttp ä¾èµ–åŒ…ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;io.github.openfeign&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;feign-okhttp&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;11.0&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;åœ¨åº”ç”¨å…¥å£ï¼Œåˆ©ç”¨ Java Config å½¢å¼åˆå§‹åŒ– OkHttpClient å¯¹è±¡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@SpringBootApplication&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@EnableFeignClients&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;OrderServiceApplication&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;//Spring IOCå®¹å™¨åˆå§‹åŒ–æ—¶æ„å»ºokHttpClientå¯¹è±¡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nd&#34;&gt;@Bean&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;okhttp3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;OkHttpClient&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;okHttpClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;okhttp3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;OkHttpClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;Builder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;//è¯»å–è¶…æ—¶æ—¶é—´
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;readTimeout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TimeUnit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;SECONDS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;//è¿æ¥è¶…æ—¶æ—¶é—´
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;connectTimeout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TimeUnit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;SECONDS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;//å†™è¶…æ—¶æ—¶é—´
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;writeTimeout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TimeUnit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;SECONDS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;//è®¾ç½®è¿æ¥æ± 
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;connectionPool&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ConnectionPool&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;())&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;build&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;SpringApplication&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;run&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;OrderServiceApplication&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;åœ¨ application.yml ä¸­å¯ç”¨ OkHttpã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;feign&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;okhttp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è‡³æ­¤ï¼Œæˆ‘ä»¬å·²å°†OpenFeignçš„é»˜è®¤é€šä¿¡å¯¹è±¡ä»URLConnectionè°ƒæ•´ä¸ºOKHttpï¼Œè‡³äºæ›¿æ¢ä¸ºHttpClientç»„ä»¶çš„é…ç½®æ€è·¯æ˜¯åŸºæœ¬ç›¸åŒçš„ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœéœ€è¦äº†è§£OpenFeignæ›´è¯¦ç»†çš„é…ç½®é€‰é¡¹ï¼Œå¯ä»¥è®¿é—®Spring Cloud OpenFeignçš„å®˜æ–¹æ–‡æ¡£è¿›è¡Œå­¦ä¹ ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://docs.spring.io/spring-cloud-openfeign/docs/2.2.6.RELEASE/reference/html/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://docs.spring.io/spring-cloud-openfeign/docs/2.2.6.RELEASE/reference/html/&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Ribbonè´Ÿè½½å‡è¡¡å…¥é—¨</title>
        <link>https://ccqstark.github.io/p/ribbon_startup/</link>
        <pubDate>Thu, 22 Jul 2021 01:38:45 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/ribbon_startup/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/ribbon_startup/cover.png" alt="Featured image of post Ribbonè´Ÿè½½å‡è¡¡å…¥é—¨" /&gt;&lt;h2 id=&#34;å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡&#34;&gt;å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡&lt;/h2&gt;
&lt;p&gt;è´Ÿè½½å‡è¡¡é¡¾åæ€ä¹‰ï¼Œæ˜¯æŒ‡é€šè¿‡è½¯ä»¶æˆ–è€…ç¡¬ä»¶æªæ–½ã€‚å®ƒå°†æ¥è‡ªå®¢æˆ·ç«¯çš„è¯·æ±‚æŒ‰ç…§æŸç§ç­–ç•¥å¹³å‡çš„åˆ†é…åˆ°é›†ç¾¤çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼Œä¿è¯è¿™äº›èŠ‚ç‚¹çš„ CPUã€å†…å­˜ç­‰è®¾å¤‡è´Ÿè½½æƒ…å†µå¤§è‡´åœ¨ä¸€æ¡æ°´å¹³çº¿ï¼Œé¿å…ç”±äºå±€éƒ¨èŠ‚ç‚¹è´Ÿè½½è¿‡é«˜äº§ç”Ÿå®•æœºï¼Œå†å°†è¿™äº›å¤„ç†å‹åŠ›ä¼ é€’åˆ°å…¶ä»–èŠ‚ç‚¹ä¸Šäº§ç”Ÿç³»ç»Ÿæ€§å´©æºƒã€‚&lt;/p&gt;
&lt;p&gt;è´Ÿè½½å‡è¡¡æŒ‰å®ç°æ–¹å¼åˆ†ç±»å¯åŒºåˆ†ä¸ºï¼š&lt;strong&gt;æœåŠ¡ç«¯è´Ÿè½½å‡è¡¡&lt;/strong&gt;ä¸&lt;strong&gt;å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;æœåŠ¡ç«¯è´Ÿè½½å‡è¡¡é¡¾åæ€ä¹‰ï¼Œåœ¨æ¶æ„ä¸­ä¼šæä¾›ä¸“ç”¨çš„è´Ÿè½½å‡è¡¡å™¨ï¼Œç”±è´Ÿè½½å‡è¡¡å™¨æŒæœ‰åç«¯èŠ‚ç‚¹çš„ä¿¡æ¯ï¼ŒæœåŠ¡æ¶ˆè´¹è€…å‘æ¥çš„è¯·æ±‚ç»ç”±ä¸“ç”¨çš„è´Ÿè½½å‡è¡¡å™¨åˆ†å‘ç»™æœåŠ¡æä¾›è€…ï¼Œè¿›è€Œå®ç°è´Ÿè½½å‡è¡¡çš„ä½œç”¨ã€‚ç›®å‰å¸¸ç”¨çš„è´Ÿè½½å‡è¡¡å™¨è½¯ç¡¬ä»¶æœ‰ï¼šF5ã€Nginxã€HaProxy ç­‰ã€‚&lt;/p&gt;
&lt;p&gt;å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡æ˜¯æŒ‡ï¼Œåœ¨æ¶æ„ä¸­ä¸å†éƒ¨ç½²é¢å¤–çš„è´Ÿè½½å‡è¡¡å™¨ï¼Œåœ¨æ¯ä¸ªæœåŠ¡æ¶ˆè´¹è€…å†…éƒ¨æŒæœ‰å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡å™¨ï¼Œç”±å†…ç½®çš„è´Ÿè½½å‡è¡¡ç­–ç•¥å†³å®šå‘å“ªä¸ªæœåŠ¡æä¾›è€…å‘èµ·è¯·æ±‚ã€‚&lt;strong&gt;é€šä¿—æ¥è®²ï¼Œå°±æ˜¯å®¢æˆ·ç«¯åœ¨å‘é€è¯·æ±‚ä¹‹å‰å°±é€šè¿‡æŸç§ç­–ç•¥é€‰å®šäº†è¦è¯·æ±‚çš„æœåŠ¡æä¾›è€…ï¼Œè€Œä¸æ˜¯è®©ä¸€ä¸ªä¸­é—´ä»¶æ¥å¸®å¿™å†³å®šã€‚&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;ribbon&#34;&gt;Ribbon&lt;/h2&gt;
&lt;p&gt;Netfilx Ribbon æ˜¯ Netflix å…¬å¸å¼€æºçš„ä¸€ä¸ªè´Ÿè½½å‡è¡¡ç»„ä»¶ï¼Œæ˜¯å±äºå®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡å™¨ã€‚ç›®å‰Ribbon å·²è¢« Spring Cloud å®˜æ–¹æŠ€æœ¯ç”Ÿæ€æ•´åˆï¼Œè¿è¡Œæ—¶ä»¥ SDK å½¢å¼å†…åµŒåˆ°æ¯ä¸€ä¸ªå¾®æœåŠ¡å®ä¾‹ä¸­ï¼Œä¸ºå¾®æœåŠ¡é—´é€šä¿¡æä¾›è´Ÿè½½å‡è¡¡ä¸é«˜å¯ç”¨æ”¯æŒã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722013235.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722013235.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è¿‡ç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è®¢å•æœåŠ¡ï¼ˆorder-serviceï¼‰ä¸å•†å“æœåŠ¡ï¼ˆgoods-serviceï¼‰å®ä¾‹åœ¨å¯åŠ¨æ—¶å‘ Nacos &lt;strong&gt;æ³¨å†Œ&lt;/strong&gt;ï¼›&lt;/li&gt;
&lt;li&gt;è®¢å•æœåŠ¡å‘å•†å“æœåŠ¡å‘èµ·é€šä¿¡å‰ï¼ŒRibbon å‘ Nacos &lt;strong&gt;æŸ¥è¯¢&lt;/strong&gt;å•†å“æœåŠ¡çš„&lt;strong&gt;å¯ç”¨å®ä¾‹åˆ—è¡¨&lt;/strong&gt;ï¼›&lt;/li&gt;
&lt;li&gt;Ribbon æ ¹æ®è®¾ç½®çš„&lt;strong&gt;è´Ÿè½½ç­–ç•¥&lt;/strong&gt;ä»å•†å“æœåŠ¡å¯ç”¨å®ä¾‹åˆ—è¡¨ä¸­&lt;strong&gt;é€‰æ‹©å®ä¾‹&lt;/strong&gt;ï¼›&lt;/li&gt;
&lt;li&gt;è®¢å•æœåŠ¡å®ä¾‹å‘å•†å“æœåŠ¡å®ä¾‹&lt;strong&gt;å‘èµ·è¯·æ±‚&lt;/strong&gt;ï¼Œå®Œæˆ RESTful é€šä¿¡ï¼›&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸‹é¢ç”¨ä¸€ä¸ªå®ä¾‹æ¥æ¼”ç¤ºï¼š&lt;/p&gt;
&lt;h2 id=&#34;åˆ›å»ºæœåŠ¡ç”Ÿäº§è€…&#34;&gt;åˆ›å»ºæœåŠ¡ç”Ÿäº§è€…&lt;/h2&gt;
&lt;p&gt;åˆ›å»ºspringbooté¡¹ç›®æ¨¡å—ï¼Œå¼•å…¥webå’Œnacoså®¢æˆ·ç«¯ä¾èµ–&lt;/p&gt;
&lt;h3 id=&#34;é…ç½®æ–‡ä»¶&#34;&gt;é…ç½®æ–‡ä»¶&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;spring&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;application&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;provider-service&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#åº”ç”¨/å¾®æœåŠ¡åå­—&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;cloud&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;discovery&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;server-addr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;49.234.82.226&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;8848&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#nacosæœåŠ¡å™¨åœ°å€&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#ç”¨æˆ·åå¯†ç &lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;8081&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;åˆ›å»ºç¤ºä¾‹æœåŠ¡&#34;&gt;åˆ›å»ºç¤ºä¾‹æœåŠ¡&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@RestController&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;ProviderController&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@GetMapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/provider/msg&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;sendMessage&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;This is the message from provider service one!&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿ç»­åˆ›å»º3ä¸ªproviderï¼Œæ³¨æ„é…ç½®æ–‡ä»¶ä¸­çš„åº”ç”¨/å¾®æœåŠ¡åè¦ä¸€è‡´ï¼Œä»£è¡¨åŒä¸€ç§æœåŠ¡ï¼Œä¸ºäº†ç›´æ¥äº†å½“åœ°è¯†åˆ«æœåŠ¡æ¥è‡ªä¸åŒçš„å¾®æœåŠ¡ç¤ºä¾‹ï¼Œå¯ä»¥åœ¨è¿”å›çš„å­—ç¬¦ä¸²ä¸­æ·»åŠ è‡ªå·±çš„æ ‡ç¤ºã€‚å¯åŠ¨åå¯ä»¥åœ¨nacosä¸­çœ‹åˆ°å¥åº·ç¤ºä¾‹æ•°ä¸º3:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722013319.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722013319.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;åˆ›å»ºæœåŠ¡æ¶ˆè´¹è€…&#34;&gt;åˆ›å»ºæœåŠ¡æ¶ˆè´¹è€…&lt;/h2&gt;
&lt;p&gt;å¼•å…¥webå’Œnacoså®¢æˆ·ç«¯ä¾èµ–ä¹‹å¤–ï¼Œè¿˜è¦å¼•å…¥&lt;code&gt;ribbon&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- Ribbon --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.springframework.cloud&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;spring-cloud-starter-netflix-ribbon&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;${spring-cloud-alibaba.version}&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é…ç½®æ–‡ä»¶å’ŒæœåŠ¡æä¾›è€…åªæœ‰åº”ç”¨åå’Œç«¯å£çš„åŒºåˆ«ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æœåŠ¡è°ƒç”¨ç¤ºä¾‹&#34;&gt;æœåŠ¡è°ƒç”¨ç¤ºä¾‹&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆæ˜¯è¦æ·»åŠ RestTemplateå¯¹è±¡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@SpringBootApplication&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;ConsumerServiceApplication&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;//Java Configå£°æ˜RestTemplateå¯¹è±¡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;//åœ¨åº”ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨æ‰§è¡ŒrestTemplate()æ–¹æ³•åˆ›å»ºRestTemplateå¯¹è±¡ï¼Œå…¶BeanIdä¸ºrestTemplateã€‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nd&#34;&gt;@Bean&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RestTemplate&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;restTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RestTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;SpringApplication&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;run&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ConsumerServiceApplication&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åæ·»åŠ controller&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@RestController&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;ConsumerController&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Logger&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;logger&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;LoggerFactory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getLogger&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ConsumerController&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;//æ³¨å…¥ Ribbon è´Ÿè½½å‡è¡¡å™¨å¯¹è±¡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;//åœ¨å¼•å…¥ starter-netflix-ribbon ååœ¨ SpringBoot å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨å®ä¾‹åŒ– LoadBalancerClient å¯¹è±¡ã€‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;//åœ¨ Controller ä½¿ç”¨ @Resource æ³¨è§£è¿›è¡Œæ³¨å…¥å³å¯ã€‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nd&#34;&gt;@Resource&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;LoadBalancerClient&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;loadBalancerClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Resource&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;//å°†åº”ç”¨å¯åŠ¨æ—¶åˆ›å»ºçš„ RestTemplate å¯¹è±¡æ³¨å…¥ ConsumerController
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RestTemplate&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;restTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@GetMapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/consumer/msg1&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getProviderMessage1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//loadBalancerClient.choose()æ–¹æ³•ä¼šä» Nacos è·å– provider-service æ‰€æœ‰å¯ç”¨å®ä¾‹ï¼Œ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;c1&#34;&gt;//å¹¶æŒ‰è´Ÿè½½å‡è¡¡ç­–ç•¥ä»ä¸­é€‰æ‹©ä¸€ä¸ªå¯ç”¨å®ä¾‹ï¼Œå°è£…ä¸º ServiceInstanceï¼ˆæœåŠ¡å®ä¾‹ï¼‰å¯¹è±¡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;c1&#34;&gt;//ç»“åˆç°æœ‰ç¯å¢ƒæ—¢æ˜¯ä»ä¸‰ä¸ªå®ä¾‹ä¸­é€‰æ‹©ä¸€ä¸ªåŒ…è£…ä¸ºServiceInstance
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;ServiceInstance&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;serviceInstance&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;loadBalancerClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;choose&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;provider-service&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//è·å–æœåŠ¡å®ä¾‹çš„ IP åœ°å€
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;host&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;serviceInstance&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getHost&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//è·å–æœåŠ¡å®ä¾‹çš„ç«¯å£
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;port&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;serviceInstance&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getPort&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//åœ¨æ—¥å¿—ä¸­æ‰“å°æœåŠ¡å®ä¾‹ä¿¡æ¯
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;logger&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;æœ¬æ¬¡è°ƒç”¨ç”±provider-serviceçš„&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;host&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;:&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;port&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34; å®ä¾‹èŠ‚ç‚¹è´Ÿè´£å¤„ç†&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//é€šè¿‡ RestTemplate å¯¹è±¡çš„ getForObject() æ–¹æ³•å‘æŒ‡å®š URL å‘é€è¯·æ±‚ï¼Œå¹¶æ¥æ”¶å“åº”ã€‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;c1&#34;&gt;//getForObject()æ–¹æ³•æœ‰ä¸¤ä¸ªå‚æ•°ï¼š
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;c1&#34;&gt;//1. å…·ä½“å‘é€çš„ URLï¼Œç»“åˆå½“å‰ç¯å¢ƒå‘é€åœ°å€ä¸ºï¼šhttp://[ip]:[port]/provider/msg
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;c1&#34;&gt;//2. String.classè¯´æ˜ URL è¿”å›çš„æ˜¯çº¯å­—ç¬¦ä¸²ï¼Œå¦‚æœç¬¬äºŒå‚æ•°æ˜¯å®ä½“ç±»ï¼Œ RestTemplate ä¼šè‡ªåŠ¨è¿›è¡Œååºåˆ—åŒ–ï¼Œä¸ºå®ä½“å±æ€§èµ‹å€¼
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;restTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getForObject&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;http://&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;host&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;:&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;port&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;/provider/msg&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//è¾“å‡ºå“åº”å†…å®¹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;logger&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;provider-service å“åº”æ•°æ®:&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//å‘æµè§ˆå™¨è¿”å›å“åº”
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;consumer-service å“åº”æ•°æ®:&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;è°ƒç”¨æœåŠ¡æµ‹è¯•&#34;&gt;è°ƒç”¨æœåŠ¡æµ‹è¯•&lt;/h2&gt;
&lt;p&gt;å‘ç°æ¯æ¬¡åˆ·æ–°éƒ½æ˜¯ä¸ä¸€æ ·çš„æœåŠ¡ç¤ºä¾‹æ¥æœåŠ¡çš„ï¼Œè¿™é‡Œé»˜è®¤é‡‡ç”¨äº†&lt;code&gt;è½®è¯¢æœºåˆ¶&lt;/code&gt;æ¥è´Ÿè½½å‡è¡¡&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722013400.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722013400.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;loadbalanced&#34;&gt;@LoadBalanced&lt;/h2&gt;
&lt;p&gt;é‡‡ç”¨æ³¨è§£æ¨¡å¼ç”¨&lt;code&gt;@LoadBalanced&lt;/code&gt; æ³¨è§£å°±å¯ä»¥å¾ˆå¤§ç¨‹åº¦ä¸Šç®€åŒ–ä»£ç &lt;/p&gt;
&lt;p&gt;æ³¨è§£åŠ åœ¨RestTemplateå¯¹è±¡ä¸Š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@SpringBootApplication&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;ConsumerServiceApplication&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;//Java Configå£°æ˜RestTemplateå¯¹è±¡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;//åœ¨åº”ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨æ‰§è¡ŒrestTemplate()æ–¹æ³•åˆ›å»ºRestTemplateå¯¹è±¡ï¼Œå…¶BeanIdä¸ºrestTemplateã€‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nd&#34;&gt;@Bean&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@LoadBalanced&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//ä½¿RestTemplateå¯¹è±¡è‡ªåŠ¨æ”¯æŒRibbonè´Ÿè½½å‡è¡¡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RestTemplate&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;restTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RestTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;SpringApplication&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;run&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ConsumerServiceApplication&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ·»åŠ æœåŠ¡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@GetMapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/consumer/msg2&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getProviderMessage2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;//å…³é”®ç‚¹ï¼šå°†åŸæœ‰IP:ç«¯å£æ›¿æ¢ä¸ºæœåŠ¡åï¼ŒRestTemplateä¾¿ä¼šåœ¨é€šä¿¡å‰è‡ªåŠ¨åˆ©ç”¨RibbonæŸ¥è¯¢å¯ç”¨provider-serviceå®ä¾‹åˆ—è¡¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;//å†æ ¹æ®è´Ÿè½½å‡è¡¡ç­–ç•¥é€‰æ‹©èŠ‚ç‚¹å®ä¾‹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;restTemplate&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getForObject&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;http://provider-service/provider/msg&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;logger&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;consumer-serviceè·å¾—æ•°æ®:&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;   &lt;span class=&#34;s&#34;&gt;&amp;#34;consumer-serviceè·å¾—æ•°æ®:&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯ä»¥å‘ç°æ¯”ç¬¬ä¸€ç§æ–¹å¼å‡å°‘äº†å¾ˆå¤šçš„ä»£ç &lt;/p&gt;
&lt;h3 id=&#34;å¦‚ä½•é…ç½®-ribbon-è´Ÿè½½å‡è¡¡ç­–ç•¥&#34;&gt;&lt;strong&gt;å¦‚ä½•é…ç½® Ribbon è´Ÿè½½å‡è¡¡ç­–ç•¥&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;Ribbon å†…ç½®å¤šç§è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼Œå¸¸ç”¨çš„åˆ†ä¸ºä»¥ä¸‹å‡ ç§ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;RoundRobinRuleï¼š&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è½®è¯¢ç­–ç•¥ï¼ŒRibbon é»˜è®¤ç­–ç•¥ã€‚é»˜è®¤è¶…è¿‡ 10 æ¬¡è·å–åˆ°çš„ server éƒ½ä¸å¯ç”¨ï¼Œä¼šè¿”å›â¼€ä¸ªç©ºçš„ serverã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;RandomRuleï¼š&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;éšæœºç­–ç•¥ï¼Œå¦‚æœéšæœºåˆ°çš„ server ä¸º null æˆ–è€…ä¸å¯ç”¨çš„è¯ã€‚ä¼šä¸åœåœ°å¾ªç¯é€‰å–ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;RetryRule&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é‡è¯•ç­–ç•¥ï¼Œâ¼€å®šæ—¶é™å†…å¾ªç¯é‡è¯•ã€‚é»˜è®¤ç»§æ‰¿ RoundRobinRuleï¼Œä¹Ÿâ½€æŒè‡ªå®šä¹‰æ³¨â¼Šï¼ŒRetryRule ä¼šåœ¨æ¯æ¬¡é€‰å–ä¹‹åï¼Œå¯¹é€‰ä¸¾çš„ server è¿›â¾åˆ¤æ–­ï¼Œæ˜¯å¦ä¸º nullï¼Œæ˜¯å¦ aliveï¼Œå¹¶ä¸”åœ¨ 500ms å†…ä¼šä¸åœåœ°é€‰å–åˆ¤æ–­ã€‚è€Œ RoundRobinRule å¤±æ•ˆçš„ç­–ç•¥æ˜¯è¶…è¿‡ 10 æ¬¡ï¼ŒRandomRule æ²¡æœ‰å¤±æ•ˆæ—¶é—´çš„æ¦‚å¿µï¼Œåªè¦ serverList æ²¡éƒ½æŒ‚ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;BestAvailableRule&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ€å°è¿æ¥æ•°ç­–ç•¥ï¼Œéå† serverListï¼Œé€‰å–å‡ºå¯â½¤çš„ä¸”è¿æ¥æ•°æœ€å°çš„â¼€ä¸ª serverã€‚é‚£ä¹ˆä¼šè°ƒç”¨ RoundRobinRule é‡æ–°é€‰å–ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;AvailabilityFilteringRule&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¯ç”¨è¿‡æ»¤ç­–ç•¥ã€‚æ‰©å±•äº†è½®è¯¢ç­–ç•¥ï¼Œä¼šå…ˆé€šè¿‡é»˜è®¤çš„è½®è¯¢é€‰å–â¼€ä¸ª serverï¼Œå†å»åˆ¤æ–­è¯¥ server æ˜¯å¦è¶…æ—¶å¯ç”¨ã€å½“å‰è¿æ¥æ•°æ˜¯å¦è¶…é™ï¼Œéƒ½æˆåŠŸå†è¿”å›ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ZoneAvoidanceRule&lt;/strong&gt;ï¼š&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;åŒºåŸŸæƒè¡¡ç­–ç•¥ã€‚æ‰©å±•äº†è½®è¯¢ç­–ç•¥ï¼Œé™¤äº†è¿‡æ»¤è¶…æ—¶å’Œé“¾æ¥æ•°è¿‡å¤šçš„ serverï¼Œè¿˜ä¼šè¿‡æ»¤æ‰ä¸ç¬¦åˆè¦æ±‚çš„ zone åŒºåŸŸâ¾¥â¾¯çš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œå§‹ç»ˆä¿è¯åœ¨â¼€ä¸ªåŒºåŸŸ/æœºæˆ¿å†…çš„æœåŠ¡å®ä¾‹è¿›è¡Œè½®è¯¢ã€‚&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæ‰€æœ‰è´Ÿè½½å‡è¡¡ç­–ç•¥åæœ¬è´¨éƒ½æ˜¯ com.netflix.loadbalancer åŒ…ä¸‹çš„ç±»ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722013450.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722013450.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä¿®æ”¹å¾®æœåŠ¡çš„è´Ÿè½½å‡è¡¡è§„åˆ™&#34;&gt;ä¿®æ”¹å¾®æœåŠ¡çš„è´Ÿè½½å‡è¡¡è§„åˆ™&lt;/h3&gt;
&lt;p&gt;ç›´æ¥ä¿®æ”¹é…ç½®æ–‡ä»¶application.ymlæ·»åŠ &lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;provider-service&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#æœåŠ¡æä¾›è€…çš„å¾®æœåŠ¡id&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ribbon&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;NFLoadBalancerRuleClassName&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;com.netflix.loadbalancer.RandomRule&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#è®¾ç½®å¯¹åº”çš„è´Ÿè½½å‡è¡¡ç±»&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œé‡‡ç”¨éšæœºç®—æ³•ï¼Œç”¨ä¸Šé¢çš„ç¤ºä¾‹æµ‹è¯•ä¸€ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;n&#34;&gt;2021&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;04&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;14&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;01&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;04&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;122&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;INFO&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;82083&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;---&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;8090&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;exec&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;controller&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;ConsumerController&lt;/span&gt;      &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;consumer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;serviceè·å¾—æ•°æ®&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;This&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;the&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;message&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;provider&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;service&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;two&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;2021&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;04&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;14&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;01&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;06&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;694&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;INFO&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;82083&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;---&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;8090&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;exec&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;controller&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;ConsumerController&lt;/span&gt;      &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;consumer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;serviceè·å¾—æ•°æ®&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;This&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;the&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;message&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;provider&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;service&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;one&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;2021&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;04&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;14&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;01&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;09&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;022&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;INFO&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;82083&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;---&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;8090&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;exec&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;controller&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;ConsumerController&lt;/span&gt;      &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;consumer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;serviceè·å¾—æ•°æ®&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;This&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;the&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;message&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;provider&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;service&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;one&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;2021&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;04&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;14&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;01&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;09&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;989&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;INFO&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;82083&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;---&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;8090&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;exec&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;controller&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;ConsumerController&lt;/span&gt;      &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;consumer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;serviceè·å¾—æ•°æ®&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;This&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;the&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;message&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;provider&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;service&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;three&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;2021&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;04&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;14&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;01&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;379&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;INFO&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;82083&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;---&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nio&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;8090&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;exec&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;controller&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;ConsumerController&lt;/span&gt;      &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;consumer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;serviceè·å¾—æ•°æ®&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;This&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;the&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;message&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;provider&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;service&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;two&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœç„¶æ˜¯éšæœºçš„ï¼&lt;/p&gt;
</description>
        </item>
        <item>
        <title>NacosæœåŠ¡æ³¨å†Œä¸å‘ç°å…¥é—¨</title>
        <link>https://ccqstark.github.io/p/nacos_startup/</link>
        <pubDate>Thu, 22 Jul 2021 01:30:53 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/nacos_startup/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/nacos_startup/cover.png" alt="Featured image of post NacosæœåŠ¡æ³¨å†Œä¸å‘ç°å…¥é—¨" /&gt;&lt;h2 id=&#34;dockerå•ç‚¹éƒ¨ç½²&#34;&gt;dockerå•ç‚¹éƒ¨ç½²&lt;/h2&gt;
&lt;h3 id=&#34;cloneé¡¹ç›®&#34;&gt;cloneé¡¹ç›®&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;git clone https://github.com/nacos-group/nacos-docker.git
&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; nacos-docker
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;ä¿®æ”¹é…ç½®æ–‡ä»¶&#34;&gt;ä¿®æ”¹é…ç½®æ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;å¦‚æœå•æœºä¸»æœºå†…å­˜è¾ƒå°ï¼Œå¯ä»¥ä¿®æ”¹é…ç½®æ–‡ä»¶&lt;code&gt;example/standalone-derby.yaml&lt;/code&gt; ä¿®æ”¹JVMè¿è¡Œå†…å­˜&lt;/p&gt;
&lt;p&gt;åœ¨nacosçš„&lt;code&gt;environment&lt;/code&gt; é‚£é‡Œæ·»åŠ &lt;code&gt;- JVM_XMS=256m&lt;/code&gt;å’Œ &lt;code&gt;- JVM_XMX=256m&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-docker&#34; data-lang=&#34;docker&#34;&gt;version: &lt;span class=&#34;s2&#34;&gt;&amp;#34;2&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;services:&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;  nacos:&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;    image: nacos/nacos-server:latest&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;    container_name: nacos-standalone&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;    environment:&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;    - &lt;span class=&#34;nv&#34;&gt;PREFER_HOST_MODE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;hostname&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;    - &lt;span class=&#34;nv&#34;&gt;MODE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;standalone&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;    - &lt;span class=&#34;nv&#34;&gt;JVM_XMS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;256m&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;    - &lt;span class=&#34;nv&#34;&gt;JVM_XMX&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;256m&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;    volumes:&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;    - ./standalone-logs/:/home/nacos/logs&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;    - ./init.d/custom.properties:/home/nacos/init.d/custom.properties&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;    ports:&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;    - &lt;span class=&#34;s2&#34;&gt;&amp;#34;8848:8848&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;  prometheus:&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;    container_name: prometheus&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;    image: prom/prometheus:latest&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;    volumes:&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;      - ./prometheus/prometheus-standalone.yaml:/etc/prometheus/prometheus.yml&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;    ports:&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;      - &lt;span class=&#34;s2&#34;&gt;&amp;#34;9090:9090&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;    depends_on:&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;      - nacos&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;    restart: on-failure&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;  grafana:&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;    container_name: grafana&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;    image: grafana/grafana:latest&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;    ports:&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;      - 3000:3000&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;    restart: on-failure&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;docker-composeå¯åŠ¨å®¹å™¨&#34;&gt;docker-composeå¯åŠ¨å®¹å™¨&lt;/h3&gt;
&lt;p&gt;æœ€ååŠ ä¸ª-dåå°è¿è¡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker-compose -f example/standalone-derby.yaml up -d
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;è®¿é—®&#34;&gt;è®¿é—®&lt;/h3&gt;
&lt;p&gt;åœ°å€ï¼š&lt;a class=&#34;link&#34; href=&#34;http://49.234.82.226:8848/nacos/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;http://[ipåœ°å€]:8848/nacos/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;8848&lt;/code&gt;æ˜¯nacosçš„é»˜è®¤ç«¯å£å·&lt;/p&gt;
&lt;p&gt;webç•Œé¢å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722011908.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722011908.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ™®é€šéƒ¨ç½²&#34;&gt;æ™®é€šéƒ¨ç½²&lt;/h2&gt;
&lt;p&gt;åˆ°github: &lt;a class=&#34;link&#34; href=&#34;https://github.com/alibaba/nacos/releases/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/alibaba/nacos/releases/&lt;/a&gt;  å»è·å–Nacosçš„å‹ç¼©åŒ…&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;c&#34;&gt;# è§£å‹&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;tar -xvf nacos-server-1.4.0.tar.gz&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è§£å‹å Nacos ç›®å½•ç»“æ„å¦‚ä¸‹ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;binï¼šä¿å­˜å¯ç”¨/å…³é—­ Nacos Server è„šæœ¬ï¼›&lt;/li&gt;
&lt;li&gt;confï¼šNacos Server é…ç½®ç›®å½•ï¼›&lt;/li&gt;
&lt;li&gt;dataï¼šNacos æ•°æ®ç›®å½•ï¼›&lt;/li&gt;
&lt;li&gt;logsï¼šå­˜æ”¾æ—¥å¿—ç›®å½•ï¼›&lt;/li&gt;
&lt;li&gt;targetï¼šNacos Jar åŒ…å­˜æ”¾ç›®å½•ï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;c&#34;&gt;# è¿›å…¥binç›®å½•&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;cd bin&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# ä¿®æ”¹è™šæ‹Ÿæœºå†…å­˜&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;vim startup.sh&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# å•æœºå¯åŠ¨&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;sh startup.sh -m standalone&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;springbootå·¥ç¨‹å‡†å¤‡&#34;&gt;Springbootå·¥ç¨‹å‡†å¤‡&lt;/h2&gt;
&lt;h3 id=&#34;åˆ›å»º&#34;&gt;åˆ›å»º&lt;/h3&gt;
&lt;p&gt;å› ä¸ºæ˜¯å¾®æœåŠ¡é¡¹ç›®ï¼Œä¸€èˆ¬æ˜¯å¤šä¸ªspringbooté¡¹ç›®çš„å¤šæ¨¡å—é¡¹ç›®ï¼Œæ‰€ä»¥å…ˆå»ºç«‹ä¸€ä¸ªå¤§çš„ç©ºMavené¡¹ç›®ï¼Œä»¥å¤‡ä¹‹åä½¿ç”¨ï¼Œå†åœ¨ä¸‹é¢å»ºç«‹Moduleï¼ˆå¯¹çˆ¶é¡¹ç›®æ ¹ç›®å½•å³é”®&lt;code&gt;new&lt;/code&gt;â†’&lt;code&gt;Module&lt;/code&gt;ï¼‰&lt;/p&gt;
&lt;p&gt;Spring Initializré€‰ä¸­ Customï¼Œå†™å…¥é˜¿é‡Œäº‘åœ°å€&lt;code&gt;http://start.aliyun.com&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å»ºç«‹ä¸€ä¸ªspringbooté¡¹ç›®ï¼Œåå­—ä¸ºnacos-sample-serviceï¼Œä¾èµ–é™¤äº†spring-webä¹‹åè®°å¾—ä¸€å®šè¿˜è¦é€‰ä¸€ä¸ª&lt;code&gt;nacos-discovery&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722012008.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722012008.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä¿®æ”¹é…ç½®æ–‡ä»¶applicationproperties&#34;&gt;ä¿®æ”¹é…ç½®æ–‡ä»¶application.properties&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;åº”ç”¨åç§°&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;spring&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;application&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sample&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;service&lt;/span&gt;
&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;åº”ç”¨æœåŠ¡&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;WEB&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è®¿é—®ç«¯å£&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;9000&lt;/span&gt;
&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Nacoså¸®åŠ©æ–‡æ¡£&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;https&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//nacos.io/zh-cn/docs/concepts.html
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¿æ¥&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Nacos&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;æœåŠ¡å™¨ä½¿ç”¨çš„ç”¨æˆ·å&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ã€&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;å¯†ç &lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼Œ&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;é»˜è®¤ä¸º&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nacos&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;spring&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;cloud&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;discovery&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nacos&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;spring&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;cloud&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;discovery&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nacos&lt;/span&gt;
&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Nacos&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;æœåŠ¡å‘ç°ä¸æ³¨å†Œé…ç½®&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼Œ&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;å…¶ä¸­å­å±æ€§&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;addr&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;æŒ‡å®š&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Nacos&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;æœåŠ¡å™¨ä¸»æœºå’Œç«¯å£&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;spring&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;cloud&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;discovery&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;server&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;addr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;49&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;234&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;82&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;226&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;8848&lt;/span&gt;
&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;æ³¨å†Œåˆ°&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nacos&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;çš„æŒ‡å®š&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;namespace&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;ï¼Œ&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;é»˜è®¤ä¸º&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;spring&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;cloud&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;discovery&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;namespace&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å¯åŠ¨é¡¹ç›®&#34;&gt;å¯åŠ¨é¡¹ç›®&lt;/h3&gt;
&lt;p&gt;å¯åŠ¨åçœ‹åˆ°æ—¥å¿—ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;n&#34;&gt;2021&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;04&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;13&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;23&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;42&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;46&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;933&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;INFO&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;75033&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;---&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;           &lt;span class=&#34;n&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;embedded&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;tomcat&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;TomcatWebServer&lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Tomcat&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;started&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;on&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;):&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;9000&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;http&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;with&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;context&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;path&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;2021&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;04&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;13&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;23&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;42&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;47&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;577&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;INFO&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;75033&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;---&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;           &lt;span class=&#34;n&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;registry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;NacosServiceRegistry&lt;/span&gt;    &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nacos&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;registry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DEFAULT_GROUP&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nacos&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sample&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;service&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;173&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;110&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;92&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;9000&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;register&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;finished&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;2021&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;04&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;13&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;23&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;42&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;47&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;590&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;INFO&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;75033&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;---&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;           &lt;span class=&#34;n&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;NacosSampleServiceApplication&lt;/span&gt;      &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Started&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;NacosSampleServiceApplication&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;484&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;seconds&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;JVM&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;running&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;24&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;374&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸”åœ¨webç•Œé¢çœ‹åˆ°æœåŠ¡å·²ç»è¢«æ³¨å†Œå°±è¯æ˜å·²ç»æˆåŠŸäº†&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722012041.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722012041.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;nacos-æ³¨å†Œä¸­å¿ƒçš„å¿ƒè·³æœºåˆ¶&#34;&gt;&lt;strong&gt;Nacos æ³¨å†Œä¸­å¿ƒçš„å¿ƒè·³æœºåˆ¶&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;ä¸‹å›¾é˜è¿°äº†å¾®æœåŠ¡ä¸ Nacos æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡è¿‡ç¨‹ã€‚åœ¨å¾®æœåŠ¡å¯åŠ¨åæ¯è¿‡5ç§’ï¼Œä¼šç”±å¾®æœåŠ¡å†…ç½®çš„ Nacos å®¢æˆ·ç«¯ä¸»åŠ¨å‘ Nacos æœåŠ¡å™¨å‘èµ·å¿ƒè·³åŒ…ï¼ˆHeartBeatï¼‰ã€‚å¿ƒè·³åŒ…ä¼šåŒ…å«å½“å‰æœåŠ¡å®ä¾‹çš„åç§°ã€IPã€ç«¯å£ã€é›†ç¾¤åã€æƒé‡ç­‰ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722012121.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722012121.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;naming&lt;/code&gt; æ¨¡å—åœ¨æ¥æ”¶åˆ°å¿ƒè·³åŒ…åï¼Œä¼šæŒ‰ä¸‹å›¾é€»è¾‘å¤„ç†å¿ƒè·³åŒ…å¹¶è¿”å›å“åº”ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;naming æ¨¡å—æ”¶åˆ°å¿ƒè·³åŒ…ï¼Œé¦–å…ˆæ ¹æ® IP ä¸ç«¯å£åˆ¤æ–­ Nacos æ˜¯å¦å­˜åœ¨è¯¥æœåŠ¡å®ä¾‹ï¼Ÿå¦‚æœå®ä¾‹ä¿¡æ¯ä¸å­˜åœ¨ï¼Œåœ¨ Nacos ä¸­æ³¨å†Œç™»è®°è¯¥å®ä¾‹ã€‚è€Œæ³¨å†Œçš„æœ¬è´¨æ˜¯å°†æ–°å®ä¾‹å¯¹è±¡å­˜å‚¨åœ¨â€œå®ä¾‹ Mapâ€é›†åˆä¸­ï¼›&lt;/li&gt;
&lt;li&gt;å¦‚æœå®ä¾‹ä¿¡æ¯å·²å­˜åœ¨ï¼Œè®°å½•æœ¬æ¬¡å¿ƒè·³åŒ…å‘é€æ—¶é—´ï¼›&lt;/li&gt;
&lt;li&gt;è®¾ç½®å®ä¾‹çŠ¶æ€ä¸ºâ€œå¥åº·â€ï¼›&lt;/li&gt;
&lt;li&gt;æ¨é€â€œå¾®æœåŠ¡çŠ¶æ€å˜æ›´â€æ¶ˆæ¯ï¼›&lt;/li&gt;
&lt;li&gt;naming æ¨¡å—è¿”å›å¿ƒè·³åŒ…æ—¶é—´é—´éš”ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åˆ°è¿™é‡Œä¸€æ¬¡å®Œæ•´çš„å¿ƒè·³åŒ…å¤„ç†å·²å®Œæˆã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722012152.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722012152.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Nacos Server æ¯è¿‡ 20 ç§’å¯¹â€œå®ä¾‹ Mapâ€ä¸­çš„æ‰€æœ‰â€œéå¥åº·â€å®ä¾‹è¿›è¡Œæ‰«æï¼Œå¦‚å‘ç°â€œéå¥åº·â€å®ä¾‹ï¼Œéšå³ä»â€œå®ä¾‹ Mapâ€ä¸­å°†è¯¥å®ä¾‹åˆ é™¤ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é›†ç¾¤éƒ¨ç½²&#34;&gt;é›†ç¾¤éƒ¨ç½²&lt;/h2&gt;
&lt;h3 id=&#34;é…ç½®æ•°æ®åº“&#34;&gt;é…ç½®æ•°æ®åº“&lt;/h3&gt;
&lt;p&gt;ç”¨äºåŒæ­¥å„é›†ç¾¤ä¹‹é—´çš„æ•°æ®ï¼ŒåŒæ­¥ç«¯å£ä¸º7848ï¼Œæ‰€ä»¥ä¹Ÿè®°å¾—è¦æ‰“å¼€&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹nacos/conf/application.properties&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;err&#34;&gt;###&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;If&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;use&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MySQL&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;datasource&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;spring&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;datasource&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;platform&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mysql&lt;/span&gt;

&lt;span class=&#34;err&#34;&gt;###&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Count&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;of&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DB&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;num&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;

&lt;span class=&#34;err&#34;&gt;###&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Connect&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;URL&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;of&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DB&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jdbc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mysql&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//xxxxxx:3306/nacos_config?characterEncoding=utf8&amp;amp;connectTimeout=1000&amp;amp;socketTimeout=3000&amp;amp;autoReconnect=true&amp;amp;useUnicode=true&amp;amp;useSSL=false&amp;amp;serverTimezone=UTC
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;root&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;db&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;xxxxxx&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;é…ç½®é›†ç¾¤ipåˆ—è¡¨&#34;&gt;é…ç½®é›†ç¾¤ipåˆ—è¡¨&lt;/h3&gt;
&lt;p&gt;å¤åˆ¶ä¸€ä»½æ ·ä¾‹çš„é›†ç¾¤ipèŠ‚ç‚¹åˆ—è¡¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;cp cluster.conf.example cluster.conf

vim cluster.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ·»åŠ æ‰€æœ‰é›†ç¾¤çš„ipï¼Œä¸€è¡Œä¸€æ¡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;192.168.163.131:8848
192.168.163.132:8848
192.168.163.133:8848
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å¯åŠ¨é›†ç¾¤&#34;&gt;å¯åŠ¨é›†ç¾¤&lt;/h3&gt;
&lt;p&gt;ä¸ç”¨&lt;code&gt;-m&lt;/code&gt; ï¼Œé»˜è®¤å°±æ˜¯é›†ç¾¤æ–¹å¼å¯åŠ¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å¯åŠ¨&lt;/span&gt;
sh startup.sh

&lt;span class=&#34;c1&#34;&gt;# æŸ¥çœ‹å¯åŠ¨æ—¥å¿—&lt;/span&gt;
tail -f ../logs/start.out
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;çœ‹åˆ°æ—¥å¿—å‡ºç°å¤§æ¦‚ä»¥ä¸‹ä¿¡æ¯å°±è¯´æ˜å¯åŠ¨æˆåŠŸ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;2021-04-17 17:20:44,801 INFO Nacos is starting...

2021-04-17 17:20:44,957 INFO Nacos Log files: /home/nacos/nacos/logs

2021-04-17 17:20:44,958 INFO Nacos Log files: /home/nacos/nacos/conf

2021-04-17 17:20:44,958 INFO Nacos Log files: /home/nacos/nacos/data

2021-04-17 17:20:44,958 INFO Nacos started successfully in cluster mode. use external storage
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å†…å­˜ä¸å¤Ÿè®°å¾—æ”¹ä¸‹jvmå¯åŠ¨å†…å­˜ï¼ˆä¿®æ”¹startup.shæ–‡ä»¶ï¼‰&lt;/p&gt;
&lt;p&gt;æœ€åæ‰“å¼€Nacosç®¡ç†ç•Œé¢çš„é›†ç¾¤ç®¡ç†çš„èŠ‚ç‚¹åˆ—è¡¨ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722012235.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722012235.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>MySQLä¸»ä»å¤åˆ¶æ­å»ºä¸åŸç†</title>
        <link>https://ccqstark.github.io/p/mysql_master_slave_replic/</link>
        <pubDate>Thu, 22 Jul 2021 01:00:48 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/mysql_master_slave_replic/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/mysql_master_slave_replic/cover.png" alt="Featured image of post MySQLä¸»ä»å¤åˆ¶æ­å»ºä¸åŸç†" /&gt;&lt;h2 id=&#34;ä¸»ä»å¤åˆ¶æ­å»º&#34;&gt;ä¸»ä»å¤åˆ¶æ­å»º&lt;/h2&gt;
&lt;h3 id=&#34;æ‹‰å–é•œåƒ&#34;&gt;æ‹‰å–é•œåƒ&lt;/h3&gt;
&lt;p&gt;ç”¨dockerï¼Œmysql5.7&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker pull mysql:5.7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å¯åŠ¨&#34;&gt;å¯åŠ¨&lt;/h3&gt;
&lt;p&gt;ä¸»èŠ‚ç‚¹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker run -p 3306:3306 --name mysql_master -e &lt;span class=&#34;nv&#34;&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;123456&lt;/span&gt; -d mysql:5.7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä»èŠ‚ç‚¹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker run -p 3306:3306 --name mysqlâ€”â€”slave -e &lt;span class=&#34;nv&#34;&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;123456&lt;/span&gt; -d mysql:5.7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;masteré…ç½®&#34;&gt;Masteré…ç½®&lt;/h3&gt;
&lt;p&gt;é€šè¿‡&lt;code&gt;docker exec -it [å®¹å™¨å] bash&lt;/code&gt; è¿›å…¥å®¹å™¨å†…éƒ¨&lt;/p&gt;
&lt;p&gt;å®‰è£…vim&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;apt-get update
apt-get install vim
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¼–è¾‘é…ç½®æ–‡ä»¶my.cnf&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /etc/mysql
vim my.cnf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ·»åŠ ä»¥ä¸‹å†…å®¹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;mysqld&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## åŒä¸€å±€åŸŸç½‘å†…æ³¨æ„è¦å”¯ä¸€&lt;/span&gt;
server-id&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;100&lt;/span&gt;  
&lt;span class=&#34;c1&#34;&gt;## å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—åŠŸèƒ½ï¼Œå¯ä»¥éšä¾¿å–ï¼ˆå…³é”®ï¼‰&lt;/span&gt;
log-bin&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;mysql-bin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®Œæˆåé‡å¯æœåŠ¡ï¼Œé‡å¯æœåŠ¡åéœ€è¦é‡å¯å®¹å™¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;service mysql restart
docker start mysql_master
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å†æ¬¡è¿›å…¥å®¹å™¨ï¼Œåˆ›å»ºç”¨äºåŒæ­¥æ•°æ®çš„ç”¨æˆ·&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;mysql -hlocalhost -uroot -p
CREATE USER &lt;span class=&#34;s1&#34;&gt;&amp;#39;slave&amp;#39;&lt;/span&gt;@&lt;span class=&#34;s1&#34;&gt;&amp;#39;%&amp;#39;&lt;/span&gt; IDENTIFIED BY &lt;span class=&#34;s1&#34;&gt;&amp;#39;123456&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
GRANT REPLICATION SLAVE, REPLICATION CLIENT ON *.* TO &lt;span class=&#34;s1&#34;&gt;&amp;#39;slave&amp;#39;&lt;/span&gt;@&lt;span class=&#34;s1&#34;&gt;&amp;#39;%&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
flush privileges&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;slaveé…ç½®&#34;&gt;Slaveé…ç½®&lt;/h3&gt;
&lt;p&gt;å’ŒMasterä¸€æ ·è¦å®‰è£…vimï¼Œç„¶ååœ¨my.cnfä¸­æ·»åŠ &lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;mysqld&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;## è®¾ç½®server_id,æ³¨æ„è¦å”¯ä¸€&lt;/span&gt;
server-id&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;101&lt;/span&gt;  
&lt;span class=&#34;c1&#34;&gt;## å¼€å¯äºŒè¿›åˆ¶æ—¥å¿—åŠŸèƒ½ï¼Œä»¥å¤‡Slaveä½œä¸ºå…¶å®ƒSlaveçš„Masteræ—¶ä½¿ç”¨&lt;/span&gt;
log-bin&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;mysql-slave-bin   
&lt;span class=&#34;c1&#34;&gt;## relay_logé…ç½®ä¸­ç»§æ—¥å¿—&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;relay_log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;edu-mysql-relay-bin
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åä¹Ÿè¦ç»è¿‡ä¸€æ ·çš„é‡å¯è¿‡ç¨‹&lt;/p&gt;
&lt;h3 id=&#34;é“¾æ¥masterå’Œslave&#34;&gt;é“¾æ¥Masterå’ŒSlave&lt;/h3&gt;
&lt;p&gt;å…ˆåœ¨masteré‡Œmysqlä¸­æ‰§è¡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;show master status&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210721155958.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210721155958.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å…¶ä¸­Fileå­—æ®µå’ŒPositionå­—æ®µå¾…ä¼šè¦ç”¨åˆ°ï¼Œæ­¤æ—¶å¼€å§‹masterä¸è¦å†åšä»»ä½•æ“ä½œï¼Œä¿è¯Positionå­—æ®µçš„å€¼ä¸å†æ”¹å˜&lt;/p&gt;
&lt;p&gt;ç„¶åè¿›å…¥salveçš„mysqlä¸­æ‰§è¡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;change master to &lt;span class=&#34;nv&#34;&gt;master_host&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;172.17.0.2&amp;#39;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;master_user&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;slave&amp;#39;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;master_password&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;123456&amp;#39;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;master_port&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;3306, &lt;span class=&#34;nv&#34;&gt;master_log_file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;mysql-bin.000001&amp;#39;&lt;/span&gt;, &lt;span class=&#34;nv&#34;&gt;master_log_pos&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 769, &lt;span class=&#34;nv&#34;&gt;master_connect_retry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;30&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;master_host&lt;/strong&gt;Â ï¼šMasterçš„ipåœ°å€&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;master_port&lt;/strong&gt;ï¼šMasterçš„ç«¯å£å·&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;master_user&lt;/strong&gt;ï¼šç”¨äºæ•°æ®åŒæ­¥çš„ç”¨æˆ·&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;master_password&lt;/strong&gt;ï¼šç”¨äºåŒæ­¥çš„ç”¨æˆ·çš„å¯†ç &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;master_log_file&lt;/strong&gt;ï¼šæŒ‡å®š Slave ä»å“ªä¸ªæ—¥å¿—æ–‡ä»¶å¼€å§‹å¤åˆ¶æ•°æ®ï¼Œå³ä¸Šæ–‡ä¸­æåˆ°çš„ File å­—æ®µçš„å€¼&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;master_log_pos&lt;/strong&gt;ï¼šä»å“ªä¸ª Position å¼€å§‹è¯»ï¼Œå³ä¸Šæ–‡ä¸­æåˆ°çš„ Position å­—æ®µçš„å€¼&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;master_connect_retry&lt;/strong&gt;ï¼šå¦‚æœè¿æ¥å¤±è´¥ï¼Œé‡è¯•çš„æ—¶é—´é—´éš”ï¼Œå•ä½æ˜¯ç§’ï¼Œé»˜è®¤æ˜¯60ç§’&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ€åæ¯å°slaveéƒ½æ‰§è¡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;start slave&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æŸ¥è¯¢ä¸»ä»å¤åˆ¶çŠ¶æ€&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;show slave status &lt;span class=&#34;se&#34;&gt;\G&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210721160132.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210721160132.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æœ‰2ä¸ªyeså°±æˆåŠŸäº†&lt;/p&gt;
&lt;h2 id=&#34;åŸç†è§£æ&#34;&gt;åŸç†è§£æ&lt;/h2&gt;
&lt;h3 id=&#34;åŸºæœ¬è¿‡ç¨‹&#34;&gt;åŸºæœ¬è¿‡ç¨‹&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;masteræœåŠ¡å™¨å°†æ•°æ®çš„æ”¹å˜è®°å½•äºŒè¿›åˆ¶binlogæ—¥å¿—ï¼Œå½“masterä¸Šçš„æ•°æ®å‘ç”Ÿæ”¹å˜æ—¶ï¼Œåˆ™å°†å…¶æ”¹å˜å†™å…¥äºŒè¿›åˆ¶æ—¥å¿—ä¸­ï¼›&lt;/li&gt;
&lt;li&gt;slaveæœåŠ¡å™¨ä¼šåœ¨ä¸€å®šæ—¶é—´é—´éš”å†…å¯¹masteräºŒè¿›åˆ¶æ—¥å¿—è¿›è¡Œæ¢æµ‹å…¶æ˜¯å¦å‘ç”Ÿæ”¹å˜ï¼Œå¦‚æœå‘ç”Ÿæ”¹å˜ï¼Œåˆ™å¼€å§‹ä¸€ä¸ªI/OThreadè¯·æ±‚masteräºŒè¿›åˆ¶äº‹ä»¶&lt;/li&gt;
&lt;li&gt;åŒæ—¶ä¸»èŠ‚ç‚¹ä¸ºæ¯ä¸ªI/Oçº¿ç¨‹å¯åŠ¨ä¸€ä¸ªdumpçº¿ç¨‹ï¼Œç”¨äºå‘å…¶å‘é€äºŒè¿›åˆ¶äº‹ä»¶ï¼Œå¹¶ä¿å­˜è‡³ä»èŠ‚ç‚¹æœ¬åœ°çš„ä¸­ç»§æ—¥å¿—ï¼ˆrelay logï¼‰ä¸­ï¼Œä»èŠ‚ç‚¹å°†å¯åŠ¨SQLçº¿ç¨‹ä»ä¸­ç»§æ—¥å¿—ä¸­è¯»å–äºŒè¿›åˆ¶æ—¥å¿—ï¼Œåœ¨æœ¬åœ°é‡æ”¾ï¼Œä½¿å¾—å…¶æ•°æ®å’Œä¸»èŠ‚ç‚¹çš„ä¿æŒä¸€è‡´ï¼Œæœ€å I/O Thread å’Œ SQL Thread å°†è¿›å…¥ç¡çœ çŠ¶æ€ï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡è¢«å”¤é†’ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722000351.png&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/20210722000351.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;è¦ç‚¹&#34;&gt;è¦ç‚¹&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ä»åº“ä¼šç”Ÿæˆä¸¤ä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªI/Oçº¿ç¨‹ï¼Œä¸€ä¸ªSQLçº¿ç¨‹ï¼›&lt;/li&gt;
&lt;li&gt;I/Oçº¿ç¨‹ä¼šå»è¯·æ±‚ä¸»åº“çš„binlogï¼Œå¹¶å°†å¾—åˆ°çš„binlogå†™åˆ°æœ¬åœ°çš„relay-log(ä¸­ç»§æ—¥å¿—)æ–‡ä»¶ä¸­ï¼›&lt;/li&gt;
&lt;li&gt;ä¸»åº“ä¼šç”Ÿæˆä¸€ä¸ªlog dumpçº¿ç¨‹ï¼Œç”¨æ¥ç»™ä»åº“I/Oçº¿ç¨‹ä¼ binlogï¼›&lt;/li&gt;
&lt;li&gt;SQLçº¿ç¨‹ï¼Œä¼šè¯»å–relay logæ–‡ä»¶ä¸­çš„æ—¥å¿—,å¹¶è§£ææˆsqlè¯­å¥é€ä¸€æ‰§è¡Œï¼›&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ³¨æ„&#34;&gt;æ³¨æ„&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;masterå°†æ“ä½œè¯­å¥è®°å½•åˆ°binlogæ—¥å¿—ä¸­ï¼Œç„¶åæˆäºˆslaveè¿œç¨‹è¿æ¥çš„æƒé™ï¼ˆmasterä¸€å®šè¦å¼€å¯binlogäºŒè¿›åˆ¶æ—¥å¿—åŠŸèƒ½ï¼›é€šå¸¸ä¸ºäº†æ•°æ®å®‰å…¨è€ƒè™‘ï¼Œslaveä¹Ÿå¼€å¯binlogåŠŸèƒ½ï¼‰ã€‚&lt;/li&gt;
&lt;li&gt;slaveå¼€å¯ä¸¤ä¸ªçº¿ç¨‹ï¼šIOçº¿ç¨‹å’ŒSQLçº¿ç¨‹ã€‚å…¶ä¸­ï¼šIOçº¿ç¨‹è´Ÿè´£è¯»å–masterçš„binlogå†…å®¹åˆ°ä¸­ç»§æ—¥å¿—relay logé‡Œï¼›SQLçº¿ç¨‹è´Ÿè´£ä»relay logæ—¥å¿—é‡Œè¯»å‡ºbinlogå†…å®¹ï¼Œå¹¶æ›´æ–°åˆ°slaveçš„æ•°æ®åº“é‡Œï¼Œè¿™æ ·å°±èƒ½ä¿è¯slaveæ•°æ®å’Œmasteræ•°æ®ä¿æŒä¸€è‡´äº†ã€‚&lt;/li&gt;
&lt;li&gt;MySQLå¤åˆ¶è‡³å°‘éœ€è¦ä¸¤ä¸ªMysqlçš„æœåŠ¡ï¼Œå½“ç„¶MySQLæœåŠ¡å¯ä»¥åˆ†å¸ƒåœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼Œä¹Ÿå¯ä»¥åœ¨ä¸€å°æœåŠ¡å™¨ä¸Šå¯åŠ¨å¤šä¸ªæœåŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;MySQLå¤åˆ¶æœ€å¥½ç¡®ä¿masterå’ŒslaveæœåŠ¡å™¨ä¸Šçš„MySQLç‰ˆæœ¬ç›¸åŒï¼ˆå¦‚æœä¸èƒ½æ»¡è¶³ç‰ˆæœ¬ä¸€è‡´ï¼Œé‚£ä¹ˆè¦ä¿è¯masterä¸»èŠ‚ç‚¹çš„ç‰ˆæœ¬ä½äºslaveä»èŠ‚ç‚¹çš„ç‰ˆæœ¬ï¼‰&lt;/li&gt;
&lt;li&gt;masterå’Œslaveä¸¤èŠ‚ç‚¹é—´æ—¶é—´éœ€åŒæ­¥&lt;/li&gt;
&lt;/ol&gt;
</description>
        </item>
        <item>
        <title>[leetcode]203.ç§»é™¤é“¾è¡¨å…ƒç´ </title>
        <link>https://ccqstark.github.io/p/remove_elements/</link>
        <pubDate>Sun, 11 Apr 2021 00:00:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/remove_elements/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/remove_elements/leetcode.png" alt="Featured image of post [leetcode]203.ç§»é™¤é“¾è¡¨å…ƒç´ " /&gt;&lt;h2 id=&#34;é¢˜ç›®&#34;&gt;é¢˜ç›®&lt;/h2&gt;
&lt;p&gt;ç»™ä½ ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ head å’Œä¸€ä¸ªæ•´æ•° val ï¼Œè¯·ä½ åˆ é™¤é“¾è¡¨ä¸­æ‰€æœ‰æ»¡è¶³ Node.val == val çš„èŠ‚ç‚¹ï¼Œå¹¶è¿”å› æ–°çš„å¤´èŠ‚ç‚¹ ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 304; 
			flex-basis: 731px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/remove_elements/Untitled.png&#34; data-size=&#34;576x189&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/remove_elements/Untitled.png&#34;
			width=&#34;576&#34;
			height=&#34;189&#34;
			srcset=&#34;https://ccqstark.github.io/p/remove_elements/Untitled_hu918c5f38aa502590d74995b167211c18_35290_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/remove_elements/Untitled_hu918c5f38aa502590d74995b167211c18_35290_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;n&#34;&gt;ç¤ºä¾‹&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å…¥:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;6&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å‡º:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;ç¤ºä¾‹&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å…¥:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å‡º:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;ç¤ºä¾‹&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; 
&lt;span class=&#34;nl&#34;&gt;è¾“å…¥:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;7&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å‡º:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;åˆ†æ&#34;&gt;åˆ†æ&lt;/h2&gt;
&lt;p&gt;å¾ˆæ™®é€šçš„ä¸€é“é“¾è¡¨ç§»é™¤å…ƒç´ é¢˜ç›®ã€‚è¿™é‡Œæˆ‘ä»¬ä¸»è¦è€ƒè™‘ä¸¤ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç›´æ¥åœ¨åŸé“¾è¡¨ä¸Šåˆ é™¤èŠ‚ç‚¹æ“ä½œ&lt;/li&gt;
&lt;li&gt;å¢åŠ ä¸€ä¸ªè™šæ‹ŸèŠ‚ç‚¹ï¼ˆä¹Ÿå«å“¨å…µèŠ‚ç‚¹ï¼‰æ¥æ“ä½œ&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç¬¬äºŒç§æ–¹æ³•ä¸»è¦æ˜¯ä¸ºäº†ç»Ÿä¸€æ‰€æœ‰çš„åˆ é™¤èŠ‚ç‚¹æ“ä½œï¼Œè€Œä¸ç”¨åœ¨é‡åˆ°è¦åˆ é™¤å¤´èŠ‚ç‚¹æƒ…å†µæ—¶è¦å•ç‹¬å†™ä¸€æ®µä»£ç æ¥å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;è€Œå¯¹äºæ™®é€šèŠ‚ç‚¹ï¼Œåˆ é™¤è¿™ä¸ªèŠ‚ç‚¹çš„æ“ä½œä¸€èˆ¬æ˜¯æŠŠè‡ªå·±çš„å‰é©±èŠ‚ç‚¹çš„nextæŒ‡é’ˆæŒ‡å‘è‡ªå·±çš„åé©±èŠ‚ç‚¹ï¼Œå¦‚å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 250; 
			flex-basis: 601px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/remove_elements/Untitled1.png&#34; data-size=&#34;1191x475&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/remove_elements/Untitled1.png&#34;
			width=&#34;1191&#34;
			height=&#34;475&#34;
			srcset=&#34;https://ccqstark.github.io/p/remove_elements/Untitled1_hu90c7c138ff9f32d222480cb8da92f36b_35148_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/remove_elements/Untitled1_hu90c7c138ff9f32d222480cb8da92f36b_35148_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
ç”±äºæ˜¯å•é“¾è¡¨ï¼Œæˆ‘ä»¬ä¸èƒ½è·å¾—ä¸€ä¸ªè¢«åˆ èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹ï¼Œæ‰€ä»¥ä¸€èˆ¬æ˜¯åˆ¤æ–­ä¸€ä¸ªèŠ‚ç‚¹çš„nextçš„å€¼æ˜¯å¦ä¸ºè¢«åˆ å€¼ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¯¹äºC/C++ï¼Œä¸èƒ½è‡ªåŠ¨é‡Šæ”¾å†…å­˜æˆ‘ä»¬å°±è¦æ‰‹åŠ¨é‡Šæ”¾è¢«åˆ é™¤çš„èŠ‚ç‚¹çš„å†…å­˜ï¼Œä½†Javaä¼šå¸®æˆ‘ä»¬åšå¥½è¿™ä¸€åˆ‡ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;ä»£ç &#34;&gt;ä»£ç &lt;/h2&gt;
&lt;p&gt;ListNodeèŠ‚ç‚¹ç±»çš„ä»£ç ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{}&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;val&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;val&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ–¹æ³•ä¸€ç›´æ¥åœ¨åŸé“¾è¡¨ä¸Šæ“ä½œ&#34;&gt;æ–¹æ³•ä¸€ï¼šç›´æ¥åœ¨åŸé“¾è¡¨ä¸Šæ“ä½œ&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;removeElements1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;val&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;// åˆ é™¤å¤´èŠ‚ç‚¹æƒ…å†µ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;val&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// å¤„ç†åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹çš„æƒ…å†µ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;head&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;val&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ç§æ–¹å¼å¯¹äºè¦åˆ é™¤çš„ç‚¹æ˜¯å¤´èŠ‚ç‚¹çš„æƒ…å†µå°±æ˜¯æŠŠheadèŠ‚ç‚¹å¾€åç§»ä¸€ä½ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 318; 
			flex-basis: 764px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/remove_elements/Untitled2.png&#34; data-size=&#34;1153x362&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/remove_elements/Untitled2.png&#34;
			width=&#34;1153&#34;
			height=&#34;362&#34;
			srcset=&#34;https://ccqstark.github.io/p/remove_elements/Untitled2_huf292d0f5c45ba54f662e2967f9e32614_28700_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/remove_elements/Untitled2_huf292d0f5c45ba54f662e2967f9e32614_28700_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;æ–¹æ³•äºŒè™šæ‹Ÿå¤´èŠ‚ç‚¹&#34;&gt;æ–¹æ³•äºŒï¼šè™šæ‹Ÿå¤´èŠ‚ç‚¹&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;removeElements2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// è®¾ç½®è™šæ‹Ÿå¤´èŠ‚ç‚¹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;		&lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;virtualHead&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;head&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;ListNode&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;virtualHead&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;val&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ptr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;virtualHead&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;next&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸‹é¢æ˜¯æœ‰äº†è™šæ‹Ÿå¤´èŠ‚ç‚¹ä¹‹ååˆ é™¤å¤´èŠ‚ç‚¹çš„æ“ä½œï¼Œå‘ç°å’Œå…¶å®ƒçš„éå¤´èŠ‚ç‚¹æ“ä½œæ˜¯å¯ä»¥ç»Ÿä¸€çš„ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 298; 
			flex-basis: 715px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/remove_elements/Untitled3.png&#34; data-size=&#34;1327x445&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/remove_elements/Untitled3.png&#34;
			width=&#34;1327&#34;
			height=&#34;445&#34;
			srcset=&#34;https://ccqstark.github.io/p/remove_elements/Untitled3_hud13ea0c1adc884a4a286f9152e243a06_37915_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/remove_elements/Untitled3_hud13ea0c1adc884a4a286f9152e243a06_37915_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;å¤æ‚åº¦åˆ†æ&#34;&gt;&lt;strong&gt;å¤æ‚åº¦åˆ†æ&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æ—¶é—´å¤æ‚åº¦ï¼šO(&lt;em&gt;N&lt;/em&gt;)ï¼Œåªéå†äº†ä¸€æ¬¡ã€‚&lt;/li&gt;
&lt;li&gt;ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>[leetcode]59.èºæ—‹çŸ©é˜µII</title>
        <link>https://ccqstark.github.io/p/generate_matrix/</link>
        <pubDate>Wed, 07 Apr 2021 21:07:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/generate_matrix/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/generate_matrix/leetcode.png" alt="Featured image of post [leetcode]59.èºæ—‹çŸ©é˜µII" /&gt;&lt;h2 id=&#34;é¢˜ç›®&#34;&gt;é¢˜ç›®&lt;/h2&gt;
&lt;p&gt;ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•° n ï¼Œç”Ÿæˆä¸€ä¸ªåŒ…å« 1 åˆ° n^2 æ‰€æœ‰å…ƒç´ ï¼Œä¸”å…ƒç´ æŒ‰é¡ºæ—¶é’ˆé¡ºåºèºæ—‹æ’åˆ—çš„ n x n æ­£æ–¹å½¢çŸ©é˜µ matrix ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/6461626841649_.pic.jpg&#34; &gt;
		&lt;img src=&#34;https://cdn.jsdelivr.net/gh/ccqstark/image-bed@master/images/6461626841649_.pic.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nl&#34;&gt;ç¤ºä¾‹1:&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å…¥:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å‡º:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;],[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;9&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;],[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;nl&#34;&gt;ç¤ºä¾‹2:&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å…¥:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å‡º:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;åˆ†æ&#34;&gt;åˆ†æ&lt;/h2&gt;
&lt;p&gt;ç¬¬ä¸€æ¬¡çœ‹åˆ°è¿™é“é¢˜æ„Ÿè§‰å¾ˆæ‡µå¾ˆéš¾ï¼Œå…¶å®è¿™é“é¢˜ä¹Ÿä¸æ¶‰åŠä»€ä¹ˆç»å…¸ç®—æ³•ï¼Œå°±æ˜¯è€ƒéªŒä½ ç”¨ä»£ç å¤ç°è¿™ä¸ªè¿‡ç¨‹é“èƒ½åŠ›ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥æŠŠæŒ‰ç…§é¢˜ç›®ç»™çš„å›¾çš„æŒ‰é¡ºåºå»å¡«å……çŸ©é˜µä¸­çš„å€¼ï¼Œä»ç¬¬ä¸€ä¸ªä½ç½®å¼€å§‹å…ˆä»å·¦åˆ°å³â¡ï¸ ï¼Œå†ä»ä¸Šåˆ°ä¸‹â¬‡ï¸ ï¼Œå†ä»å³åˆ°å·¦â¬…ï¸ ï¼Œå†ä»ä¸‹åˆ°ä¸Šâ¬†ï¸ ã€‚å¦‚æ­¤å¾ªç¯ï¼Œç›´åˆ°å¡«å……å®Œæ¯•ï¼Œå½“ç„¶å¦‚æœnä¸ºå¥‡æ•°çš„è¯å°±è¦è€ƒè™‘ä¸­é—´é‚£ä¸€æ ¼éœ€è¦æœ€åå»å•ç‹¬å¡«å……ï¼Œå¶æ•°çš„è¯å°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶æ¯æ¬¡å¾ªç¯è¿˜éœ€è¦æ³¨æ„ï¼Œæ¯è¡Œ/åˆ—éƒ½éµå¾ªçš„æ˜¯&lt;code&gt;å·¦é—­å³å¼€&lt;/code&gt;çš„åŸåˆ™ï¼Œä¹Ÿå°±æ˜¯è¯´ä»å¤´å¡«åˆ°å€’æ•°ç¬¬äºŒä¸ªï¼Œæœ€åä¸€ä¸ªå°±æ˜¯ä¸‹ä¸€è¡Œ/åˆ—çš„ï¼Œæ‰èƒ½ä¿è¯è¡Œ/åˆ—å¡«å……è¡Œä¸ºçš„ç»Ÿä¸€æ€§ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰ä¸€ç‚¹æ˜¯æ¯æ¬¡å¾ªç¯ä¹‹åï¼Œæ¯è¡Œ/åˆ—éœ€è¦å¡«å……çš„ä¸ªæ•°å°±è¦å°‘2ï¼Œçœ‹ä¸‹ä¸‹é¢çš„å›¾å°±å¯ä»¥å¾ˆç›´è§‚çš„ç†è§£äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹é¢å°±æ˜¯n=5å’Œn=4çš„ä¾‹å­ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 102; 
			flex-basis: 246px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/generate_matrix/Untitled.png&#34; data-size=&#34;636x620&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/generate_matrix/Untitled.png&#34;
			width=&#34;636&#34;
			height=&#34;620&#34;
			srcset=&#34;https://ccqstark.github.io/p/generate_matrix/Untitled_hu98b09275e5d13d5f288f6bad5d731a42_31797_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/generate_matrix/Untitled_hu98b09275e5d13d5f288f6bad5d731a42_31797_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 94; 
			flex-basis: 226px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/generate_matrix/Untitled1.png&#34; data-size=&#34;512x543&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/generate_matrix/Untitled1.png&#34;
			width=&#34;512&#34;
			height=&#34;543&#34;
			srcset=&#34;https://ccqstark.github.io/p/generate_matrix/Untitled1_hu016711899306377f75e219f590629de7_18013_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/generate_matrix/Untitled1_hu016711899306377f75e219f590629de7_18013_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä»£ç &#34;&gt;ä»£ç &lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Solution&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[][]&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;generateMatrix&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// çŸ©é˜µæœ¬ä½“
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[][]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;matrix&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;];&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// æ¨ªè¡Œå’Œçºµå‘å¼€å§‹å¡«å……çš„èµ·å§‹ç‚¹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;startx&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;starty&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// å¾ªç¯æ¬¡æ•°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;loop&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// nä¸ºå¥‡æ•°æ—¶çŸ©é˜µçš„ä¸­é—´æ ¼
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// ç”¨æ¥å¡«å……çš„æ•°å­—ï¼Œä»1å¼€å§‹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;count&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// æ¯åˆ—æˆ–æ¯è¡Œåœ¨å¾ªç¯ä¸€æ¬¡åï¼Œä¸‹ä¸€æ¬¡å¾ªç¯æ—¶è¦å¡«å……çš„å…ƒç´ ä¸ªæ•°ä¼šå‡å°‘2ï¼Œç”¨è¿™ä¸ªå˜é‡æ¥è®°å½•å½“å‰å‡å°‘çš„å¤§å°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// å¡«å……æ—¶ç”¨çš„æŒ‡é’ˆï¼Œiä¸ºè¡Œï¼Œjä¸ºåˆ—
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

        &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;loop&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;--&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;// æŒ‡é’ˆç½®äºèµ·å§‹ä½ç½®
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;startx&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;starty&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

            &lt;span class=&#34;c1&#34;&gt;// ä¸Šè¡Œï¼Œä»å·¦åˆ°å³
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;starty&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;starty&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;offset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;matrix&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++;&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

            &lt;span class=&#34;c1&#34;&gt;// å³åˆ—ï¼Œä»ä¸Šåˆ°ä¸‹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;startx&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;startx&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;offset&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;matrix&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++;&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

            &lt;span class=&#34;c1&#34;&gt;// ä¸‹è¡Œï¼Œä»å³åˆ°å·¦
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;starty&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;--)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;matrix&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++;&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

            &lt;span class=&#34;c1&#34;&gt;// å·¦åˆ—ï¼Œä»ä¸‹åˆ°ä¸Š
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;startx&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;--)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;matrix&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++;&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

            &lt;span class=&#34;c1&#34;&gt;// å¾ªç¯ä¸€æ¬¡åï¼Œä¸‹ä¸€æ¬¡èµ·å§‹ä½ç½®+1
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;startx&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++;&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;starty&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++;&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;// ä¸‹ä¸€æ¬¡å¾ªç¯æ—¶ï¼Œæ¯è¡Œ/åˆ—å¡«å……çš„ä¸ªæ•°è¦-2
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;offset&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

        &lt;span class=&#34;c1&#34;&gt;// nä¸ºå¥‡æ•°è¦å¡«ä¸­é—´ä¸€æ ¼
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;matrix&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;matrix&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å¤æ‚åº¦åˆ†æ&#34;&gt;å¤æ‚åº¦åˆ†æ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)ï¼Œå…¶ä¸­ nn æ˜¯ç»™å®šçš„æ­£æ•´æ•°ã€‚çŸ©é˜µçš„å¤§å°æ˜¯ n \times nnÃ—nï¼Œéœ€è¦å¡«å…¥çŸ©é˜µä¸­çš„æ¯ä¸ªå…ƒç´ ã€‚&lt;/li&gt;
&lt;li&gt;ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚é™¤äº†è¿”å›çš„çŸ©é˜µä»¥å¤–ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯å¸¸æ•°ã€‚&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>ä¸€æ¬¡ç†è§£Stringçš„ä¸å¯å˜æ€§</title>
        <link>https://ccqstark.github.io/p/string/</link>
        <pubDate>Tue, 06 Apr 2021 21:07:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/string/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/string/java.png" alt="Featured image of post ä¸€æ¬¡ç†è§£Stringçš„ä¸å¯å˜æ€§" /&gt;&lt;p&gt;ä»Šå¤©åœ¨çœ‹æœ‰å…³StringBuilderå’ŒStringBufferçš„æ–‡ç« çš„æ—¶å€™çœ‹åˆ°é‡Œé¢æåŠäº†æœ‰å…³Stringä¸­çš„finalå­—æ®µå’Œä¸å¯å˜çš„æ€§è´¨ï¼Œå‘ç°è¿™ä¸ªçŸ¥è¯†ç‚¹ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œå»æŸ¥äº†å¾ˆå¤šæ–‡ç« ä¹‹åæ•´ç†å‡ºè¿™ç¯‡ã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ–°å»ºå­—ç¬¦ä¸²ä¸ç¼“å†²æ± &#34;&gt;æ–°å»ºå­—ç¬¦ä¸²ä¸ç¼“å†²æ± &lt;/h2&gt;
&lt;p&gt;æ–°å»ºä¸€ä¸ªStringæˆ‘ä»¬ä¸€èˆ¬æœ‰ä¸‹é¢2ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;Â &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;Â &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Â &lt;span class=&#34;s&#34;&gt;&amp;#34;ok&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;Â &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;Â &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;Â &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt;Â &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;ok&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸¤ç§å†™æ³•éƒ½å¯ä»¥åˆ›å»ºä¸€ä¸ªStringå¯¹è±¡ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€ç§ç”¨èµ‹å€¼è¿ç®—ç¬¦è¿›è¡Œå­—ç¬¦ä¸²åˆå§‹åŒ–æ—¶ï¼ŒJVMè‡ªåŠ¨ä¸ºæ¯ä¸ªå­—ç¬¦ä¸²ç”Ÿæˆä¸€ä¸ªStringç±»çš„å®ä¾‹ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒç§å°±æ˜¯åˆ›å»ºStringç±»çš„å¯¹è±¡ï¼Œå› ä¸ºStringæœ¬æ¥å°±æ˜¯ä¸€ä¸ªç±»ï¼Œè€Œä¸æ˜¯åƒintå’Œdoubleé‚£æ ·çš„åŸºæœ¬æ•°æ®ç±»å‹ã€‚&lt;/p&gt;
&lt;p&gt;Javaçš„å­—ç¬¦ä¸²é‡‡ç”¨äº†ç¼“å†²æ± çš„æŠ€æœ¯ï¼Œæˆ‘ä»¬æ–°å»ºä¸€ä¸ªå­—ç¬¦ä¸²çš„æ—¶å€™ä¼šå»ç¼“å†²æ± å¯»æ‰¾æ˜¯å¦æœ‰å·²ç»å­˜åœ¨çš„ç›¸åŒçš„å­—ç¬¦ä¸²ï¼Œå¦‚æœæœ‰çš„è¯ç›´æ¥æŒ‡å‘å®ƒå³å¯ï¼›æ²¡æœ‰çš„è¯å†åˆ›å»ºï¼Œç¼“å†²æ± æ˜¯åœ¨&lt;code&gt;å †&lt;/code&gt;é‡Œé¢çš„ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä¸‹å›¾ï¼Œæ˜¯ä¸‹é¢ä»£ç çš„ç»“æœï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// oneå’Œtwoå†…å®¹ç›¸åŒï¼ŒæŒ‡å‘åŒä¸€Stringå¯¹è±¡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;one&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;someString&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;two&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;someString&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/71d827920f870b82c93d06f8a9c0b247_720w.jpg?source=1940ef5c&#34; &gt;
		&lt;img src=&#34;https://ccqstark.github.io/71d827920f870b82c93d06f8a9c0b247_720w.jpg?source=1940ef5c&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
å…³äºæ›´æ·±å…¥çš„åˆ›å»ºå¯¹è±¡å’Œä¹‹é—´çš„æ¯”è¾ƒå¯ä»¥çœ‹ä¸‹é¢è¿™ç¯‡ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.csdn.net/tiantiandjava/article/details/46309163&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;java å­—ç¬¦ä¸²ç¼“å†²æ±  Stringç¼“å†²æ± _å¤©å¤©çš„ä¸“æ -CSDNåšå®¢&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;å“ªé‡Œä¸å¯å˜&#34;&gt;å“ªé‡Œä¸å¯å˜ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;é‚£ä¸ºä»€ä¹ˆè¯´Stringä¸å¯å˜å‘¢ï¼Ÿæˆ‘ä»¬æ˜æ˜å¯ä»¥é€šè¿‡ç»™å­—ç¬¦ä¸²å˜é‡èµ‹ä¸€ä¸ªæ–°å€¼æ¥æ”¹å˜å®ƒçš„å†…å®¹ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;str&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;aaaaaaa&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;str&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;bbbbbbbbb&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// è¾“å‡º
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//aaaaaaa
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//bbbbbbbbb
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®é™…ä¸Šï¼Œå½“æˆ‘ä»¬ç»™å­—ç¬¦ä¸²é‡æ–°èµ‹å€¼çš„æ—¶å€™ï¼Œå®ƒå¹¶ä¸æ˜¯å»æ”¹å˜è¿™ä¸ªStringå¯¹è±¡ä¸­çš„å­—ç¬¦æ•°ç»„&lt;code&gt;char[] value&lt;/code&gt;çš„å€¼ï¼ˆä¸‹é¢ä¼šè®²åˆ°ï¼‰ï¼Œè€Œæ˜¯å»ç¼“å†²æ± é‡Œå¯»æ‰¾æœ‰æ²¡æœ‰å·²ç»å­˜åœ¨è¿™ä¸ªå€¼çš„&lt;code&gt;Stringå¯¹è±¡&lt;/code&gt;ï¼Œæœ‰çš„è¯å°±ç›´æ¥æŒ‡å‘å®ƒï¼Œæ²¡æœ‰çš„è¯åˆ›å»ºä¸€ä¸ªå¯¹è±¡å†æŒ‡å‘å®ƒã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 214; 
			flex-basis: 515px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/string/Untitled.png&#34; data-size=&#34;1118x521&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/string/Untitled.png&#34;
			width=&#34;1118&#34;
			height=&#34;521&#34;
			srcset=&#34;https://ccqstark.github.io/p/string/Untitled_hu8a4e164ee6ff022b62fb27deb89cf723_55485_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/string/Untitled_hu8a4e164ee6ff022b62fb27deb89cf723_55485_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
stråªæ˜¯ä¸€ä¸ªå¼•ç”¨ï¼ŒæŒ‡å‘çš„Stringå¯¹è±¡æ˜¯åœ¨å †ä¸­çš„ã€‚&lt;strong&gt;æ”¹å˜å­—ç¬¦ä¸²çš„å€¼å…¶å®åªæ˜¯æ”¹å˜æ•´ä¸ªå¯¹è±¡çš„å¼•ç”¨&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è€ŒåŸæ¥çš„Stringå¯¹è±¡è¿˜æ˜¯åœ¨é‚£é‡Œæ²¡æœ‰è¢«æ”¹å˜ï¼Œä¹‹åè¦æ˜¯æœ‰åˆ«çš„å˜é‡èµ‹è¿™ä¸ªå€¼å¯ä»¥ç»§ç»­æŒ‡å‘å®ƒã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä¸ºä»€ä¹ˆä¸å¯å˜&#34;&gt;ä¸ºä»€ä¹ˆä¸å¯å˜ï¼Ÿ&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬çœ‹ä¸‹Stringçš„éƒ¨åˆ†æºç ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;String&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;implements&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;java&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;io&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;Serializable&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Comparable&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CharSequence&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;cm&#34;&gt;/** The value is used for character storage. */&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;value&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[];&lt;/span&gt;
 
    &lt;span class=&#34;cm&#34;&gt;/** Cache the hash code for the string */&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;hash&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// Default to 0
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‡ç‚¹åœ¨è¿™ä¸ªå­—ç¬¦æ•°ç»„&lt;code&gt;value&lt;/code&gt;å°±æ˜¯å­˜æ”¾å­—ç¬¦ä¸²å†…å®¹çš„åœ°æ–¹ï¼Œæ³¨æ„å®ƒæ˜¯è¢«&lt;code&gt;final&lt;/code&gt; ä¿®é¥°çš„ï¼Œä¹Ÿå°±æ˜¯ä¸€æ—¦åˆå§‹åŒ–ä¹‹åå®ƒçš„å€¼å°±ä¸èƒ½æ”¹å˜ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¿‡å®ƒvalueä¹Ÿåªæ˜¯ä¸ªå¼•ç”¨ï¼Œå¼•ç”¨ä¸å¯å˜ï¼Œä½†æ˜¯å¦‚æœçœŸçš„æƒ³æ”¹æ˜¯å¯ä»¥æ”¹å˜æ•°ç»„ä¸­å…ƒç´ ä½†å€¼çš„ï¼Œä½†ç”±äºStringä¸­æ²¡æœ‰setValueæ–¹æ³•ï¼Œæˆ‘ä»¬è¦æ”¹çš„è¯å°±è¦é€šè¿‡&lt;code&gt;åå°„&lt;/code&gt;äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åˆ©ç”¨åå°„æ”¹å˜&#34;&gt;åˆ©ç”¨åå°„æ”¹å˜&lt;/h3&gt;
&lt;p&gt;ä¸‹é¢è¿™æ®µä»£ç å°±åˆ©ç”¨äº†åå°„æ”¹å˜äº†valueæ•°ç»„ä¸­çš„å…ƒç´ çš„å€¼ï¼Œä½†æ˜¯æ•°ç»„çš„åœ°å€æ˜¯æ²¡æœ‰æ”¹å˜çš„å“¦ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;123&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;Field&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;valueArray&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getDeclaredField&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;value&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;valueArray&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setAccessible&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[])&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;valueArray&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]=&lt;/span&gt;&lt;span class=&#34;sc&#34;&gt;&amp;#39;2&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//223
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;è®¾è®¡æˆä¸å¯å˜çš„åŸå› &#34;&gt;è®¾è®¡æˆä¸å¯å˜çš„åŸå› ï¼Ÿ&lt;/h2&gt;
&lt;h3 id=&#34;ä»£ç å®‰å…¨&#34;&gt;ä»£ç å®‰å…¨&lt;/h3&gt;
&lt;p&gt;Stringç±»æœ¬èº«ä¹Ÿæ˜¯&lt;code&gt;final&lt;/code&gt; çš„ï¼Œè¿™æ ·è®¾è®¡ä½¿å¾—Stringä¸å¯è¢«ç»§æ‰¿ï¼Œä¸å¯æ‰©å±•ä¸é‡å†™æ–¹æ³•ï¼Œä¸»è¦æ˜¯ä¸ºäº†å®‰å…¨ã€‚å› ä¸ºStringä½œä¸ºä¸€ä¸ªæ¯”è¾ƒåº•å±‚çš„ç±»ä½¿ç”¨å¾—ä¹Ÿæ¯”è¾ƒé¢‘ç¹ï¼Œè€Œä¸”å¾ˆå¤šå®ç°æ˜¯é€šè¿‡ç³»ç»Ÿè°ƒç”¨çš„ï¼Œå¦‚æœè®©å¼€å‘è€…å¯ä»¥éšæ„ä¿®æ”¹ä¸€äº›ä¸œè¥¿å°±å¾ˆå¯èƒ½å¸¦æ¥é—®é¢˜ç”šè‡³æ³¨å…¥ç—…æ¯’ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸ºäº†å®ç°å­—ç¬¦ä¸²ç¼“å†²æ± &#34;&gt;ä¸ºäº†å®ç°å­—ç¬¦ä¸²ç¼“å†²æ± &lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;åªæœ‰å½“å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œå­—ç¬¦ä¸²æ± æ‰æœ‰å¯èƒ½å®ç°&lt;/strong&gt;ã€‚å­—ç¬¦ä¸²æ± çš„å®ç°å¯ä»¥åœ¨è¿è¡Œæ—¶èŠ‚çº¦å¾ˆå¤šheapç©ºé—´ï¼Œå› ä¸ºä¸åŒçš„å­—ç¬¦ä¸²å˜é‡éƒ½æŒ‡å‘æ± ä¸­çš„åŒä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ä½†å¦‚æœå­—ç¬¦ä¸²æ˜¯å¯å˜çš„ï¼Œé‚£æ”¹å˜ä¸€ä¸ªå­—ç¬¦ä¸²çš„å€¼å°±ä¼šå¯¼è‡´å…¶å®ƒæŒ‡å‘è¿™ä¸ªStringå¯¹è±¡çš„å­—ç¬¦ä¸²å¼•ç”¨å¯¹åº”çš„å€¼ä¹Ÿä¼šæ”¹å˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä½œä¸ºhashmapçš„é”®&#34;&gt;ä½œä¸ºHashMapçš„é”®&lt;/h3&gt;
&lt;p&gt;å› ä¸ºå­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œæ‰€ä»¥åœ¨å®ƒåˆ›å»ºçš„æ—¶å€™&lt;strong&gt;HashCode&lt;/strong&gt;å°±è¢«ç¼“å­˜äº†ï¼Œä¸éœ€è¦é‡æ–°è®¡ç®—ã€‚è¿™å°±ä½¿å¾—å­—ç¬¦ä¸²å¾ˆé€‚åˆä½œä¸ºMapä¸­çš„é”®ï¼Œå­—ç¬¦ä¸²çš„å¤„ç†é€Ÿåº¦è¦å¿«è¿‡å…¶å®ƒçš„é”®å¯¹è±¡ã€‚è¿™å°±æ˜¯HashMapä¸­çš„é”®å¾€å¾€éƒ½ä½¿ç”¨å­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;h3 id=&#34;çº¿ç¨‹å®‰å…¨&#34;&gt;çº¿ç¨‹å®‰å…¨&lt;/h3&gt;
&lt;p&gt;å› ä¸ºå­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„ï¼Œæ‰€ä»¥æ˜¯å¤šçº¿ç¨‹å®‰å…¨çš„ï¼ŒåŒä¸€ä¸ªå­—ç¬¦ä¸²å®ä¾‹å¯ä»¥è¢«å¤šä¸ªçº¿ç¨‹å…±äº«ã€‚è¿™æ ·ä¾¿ä¸ç”¨å› ä¸ºçº¿ç¨‹å®‰å…¨é—®é¢˜è€Œä½¿ç”¨åŒæ­¥ã€‚å­—ç¬¦ä¸²è‡ªå·±ä¾¿æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å‚è€ƒæ–‡ç« &#34;&gt;å‚è€ƒæ–‡ç« &lt;/h3&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.jianshu.com/p/9c7f5daac283&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Java Stringç±»ä¸ºä»€ä¹ˆæ˜¯finalçš„ï¼Ÿ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.zhihu.com/question/20618891&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å¦‚ä½•ç†è§£ String ç±»å‹å€¼çš„ä¸å¯å˜ï¼Ÿ&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[leetcode]209.é•¿åº¦æœ€å°çš„å­æ•°ç»„</title>
        <link>https://ccqstark.github.io/p/min_sub_array_len/</link>
        <pubDate>Sun, 04 Apr 2021 21:07:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/min_sub_array_len/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/min_sub_array_len/leetcode.png" alt="Featured image of post [leetcode]209.é•¿åº¦æœ€å°çš„å­æ•°ç»„" /&gt;&lt;h2 id=&#34;é¢˜ç›®&#34;&gt;é¢˜ç›®&lt;/h2&gt;
&lt;p&gt;ç»™å®šä¸€ä¸ªå«æœ‰Â nÂ ä¸ªæ­£æ•´æ•°çš„æ•°ç»„å’Œä¸€ä¸ªæ­£æ•´æ•° target ã€‚&lt;/p&gt;
&lt;p&gt;æ‰¾å‡ºè¯¥æ•°ç»„ä¸­æ»¡è¶³å…¶å’Œ â‰¥ target çš„é•¿åº¦æœ€å°çš„ è¿ç»­å­æ•°ç»„Â [numsl, numsl+1, &amp;hellip;, numsr-1, numsr] ï¼Œå¹¶è¿”å›å…¶é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ï¼Œè¿”å› 0 ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;n&#34;&gt;ç¤ºä¾‹&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å…¥:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å‡º:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è§£é‡Š:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;å­æ•°ç»„&lt;/span&gt;Â &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;Â &lt;span class=&#34;n&#34;&gt;æ˜¯è¯¥æ¡ä»¶ä¸‹çš„é•¿åº¦æœ€å°çš„å­æ•°ç»„&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;ç¤ºä¾‹&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å…¥:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å‡º:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;ç¤ºä¾‹&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; 
&lt;span class=&#34;nl&#34;&gt;è¾“å…¥:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å‡º:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æç¤ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1 &amp;lt;= target &amp;lt;= 109&lt;/li&gt;
&lt;li&gt;1 &amp;lt;= nums.length &amp;lt;= 105&lt;/li&gt;
&lt;li&gt;1 &amp;lt;= nums[i] &amp;lt;= 105&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;åˆ†æ&#34;&gt;åˆ†æ&lt;/h2&gt;
&lt;p&gt;è¿™é“é¢˜ä¸€å¼€å§‹æƒ³åˆ°çš„æ˜¯æš´åŠ›è§£æ³•ï¼Œä¹Ÿå°±æ˜¯æŠŠæ¯ç§å¯èƒ½çš„å­æ•°ç»„é•¿åº¦éƒ½è¯•ä¸€éï¼Œåæ¥å‘ç°è¿™æ˜¯é“å…¸å‹çš„æ»‘åŠ¨çª—å£é¢˜ç›®ï¼Œç”¨æ»‘åŠ¨çª—å£å°±è§£å†³äº†ã€‚ä¹‹åçœ‹å®˜æ–¹é¢˜è§£æœ‰å‰ç¼€+äºŒåˆ†æœç´¢çš„æ–¹æ³•ä½œä¸ºæ‰©å±•ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä»£ç &#34;&gt;ä»£ç &lt;/h2&gt;
&lt;h3 id=&#34;æ»‘åŠ¨çª—å£&#34;&gt;æ»‘åŠ¨çª—å£&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;minSubArrayLen&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;];&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;windowLen&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Integer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;MAX_VALUE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
				&lt;span class=&#34;c1&#34;&gt;// å³æŒ‡é’ˆç§»åŠ¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++;&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;];&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
				&lt;span class=&#34;c1&#34;&gt;// å·¦æŒ‡é’ˆç§»åŠ¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;windowLen&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;min&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;windowLen&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;];&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;windowLen&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Integer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;MAX_VALUE&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;windowLen&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ–¹æ³•å¾ˆç®€å•ï¼Œå°±æ˜¯ä¸€ä¸ªå·¦æŒ‡é’ˆï¼Œä¸€ä¸ªå³æŒ‡é’ˆï¼Œçª—å£çš„èŒƒå›´å°±æ˜¯2ä¸ªæŒ‡é’ˆä¹‹é—´çš„å…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€å¼€å§‹å…ˆç§»åŠ¨å³æŒ‡é’ˆç›´åˆ°çª—å£å†…å’Œå¤§äºç­‰äºtarget&lt;/p&gt;
&lt;p&gt;ç„¶åå‘å³å¼€å§‹ç§»åŠ¨å·¦æŒ‡é’ˆï¼Œç›´åˆ°çª—å£å†…å’Œå°äºtargetï¼Œç”±äºæ¯æ¬¡å°±æ˜¯ä¸€æ¬¡æ»¡è¶³&lt;code&gt;sâ‰¥target&lt;/code&gt;çš„çª—å£ï¼Œæˆ‘ä»¬å°±è¦æ¯æ¬¡å’Œå½“å‰çš„çª—å£é•¿åº¦è¿›è¡Œæ¯”è¾ƒä»è€Œæ‰¾åˆ°æœ€å°çš„çª—å£é•¿åº¦ï¼Œä¹Ÿå°±æ˜¯æœ€å°çš„å­æ•°ç»„é•¿åº¦ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚æœçª—å£é•¿åº¦ä¸ºæœ€å¤§çš„intå€¼è¯´æ˜æ²¡æœ‰æ‰¾åˆ°ä»»ä½•ä¸€ä¸ªæ»¡è¶³&lt;code&gt;sâ‰¥target&lt;/code&gt;çš„çª—å£ï¼Œè¿”å›0ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¤æ‚åº¦åˆ†æ&#34;&gt;å¤æ‚åº¦åˆ†æ&lt;/h3&gt;
&lt;p&gt;æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚æŒ‡é’ˆæœ€å¤šå„ç§»åŠ¨næ¬¡ã€‚&lt;/p&gt;
&lt;p&gt;ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å‰ç¼€äºŒåˆ†æœç´¢&#34;&gt;å‰ç¼€+äºŒåˆ†æœç´¢&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;minSubArrayLen&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;windowLen&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Integer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;MAX_VALUE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sums&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;];&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// å‰iä¸ªæ•°ä¹‹å’Œ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;sums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;];&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;];&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// äºŒåˆ†æœç´¢
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bound&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Arrays&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;binarySearch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;s&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// boundä¸ºè´Ÿæ•°è¡¨ç¤ºæ‰¾ä¸åˆ°ï¼Œè¿”å›çš„æ˜¯æ’å…¥ä½ç½®ï¼Œä¸”ä»1å¼€å§‹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bound&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;bound&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bound&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// æ‰¾åˆ°æœ€å°çš„
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bound&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;windowLen&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;min&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;windowLen&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bound&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;windowLen&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Integer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;MAX_VALUE&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;?&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;windowLen&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ªæ–¹æ³•æˆ‘ä»¬å…ˆè®¡ç®—å‡ºnumsä¸­ä¸åŒé•¿åº¦çš„å‰iä¸ªæ•°ä¹‹å’Œçš„æ•°ç»„sumsï¼Œä¹Ÿå°±æ˜¯sums[i]è¡¨ç¤ºnums[0]åˆ°nums[i-1]ä¸­çš„æ‰€æœ‰æ•°ä¹‹å’Œã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åæˆ‘ä»¬ç”¨äºŒåˆ†æŸ¥æ‰¾åœ¨sumsæ•°ç»„ä¸­æ‰¾åˆ°ä¸‹æ ‡boundï¼Œä½¿å¾—&lt;code&gt;sums[bound]-sums[i]&amp;gt;=target&lt;/code&gt;ï¼Œä¸”è¿™ä¸ªboundæ˜¯æ‰€èƒ½æ‰¾åˆ°çš„æœ€å°çš„ã€‚ï¼ˆç”±äºnumséƒ½æ˜¯æ­£æ•´æ•°ï¼Œsumsä¸€å®šæ˜¯é€’å¢çš„ï¼Œæ‰€ä»¥å¯ä»¥ç”¨äºŒåˆ†æœç´¢ï¼‰&lt;/p&gt;
&lt;p&gt;æœ€ç»ˆ&lt;code&gt;bound-i&lt;/code&gt;å°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„æœ€å°çš„çª—å£é•¿åº¦ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 225; 
			flex-basis: 541px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/min_sub_array_len/Untitled.png&#34; data-size=&#34;1018x451&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/min_sub_array_len/Untitled.png&#34;
			width=&#34;1018&#34;
			height=&#34;451&#34;
			srcset=&#34;https://ccqstark.github.io/p/min_sub_array_len/Untitled_huda241c8e825d8179cb97936e0d37c238_34442_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/min_sub_array_len/Untitled_huda241c8e825d8179cb97936e0d37c238_34442_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
è¿™é‡Œçš„äºŒåˆ†æœç´¢å¦‚æœæ‰¾ä¸åˆ°çš„è¯è¦è¿”å›æ’å…¥çš„ä½ç½®ï¼ŒJavaæœ‰ä¸ªArrays.binarySearch()å·¥å…·ç±»å¯ä»¥ä½¿ç”¨ï¼Œè¿”å›å€¼ä¸ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å¦‚æœæ‰¾åˆ°å…³é”®å­—ï¼Œåˆ™è¿”å›å€¼ä¸ºå…³é”®å­—åœ¨æ•°ç»„ä¸­çš„ä½ç½®ç´¢å¼•ï¼Œä¸”ç´¢å¼•&lt;code&gt;ä»0å¼€å§‹&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¦‚æœæ²¡æœ‰æ‰¾åˆ°å…³é”®å­—ï¼Œ&lt;code&gt;è¿”å›å€¼ä¸ºè´Ÿ&lt;/code&gt;çš„æ’å…¥ç‚¹å€¼ï¼Œæ‰€è°“æ’å…¥ç‚¹å€¼å°±æ˜¯ç¬¬ä¸€ä¸ªæ¯”å…³é”®å­—å¤§çš„å…ƒç´ åœ¨æ•°ç»„ä¸­çš„ä½ç½®ç´¢å¼•ï¼Œè€Œä¸”è¿™ä¸ªä½ç½®ç´¢å¼•&lt;code&gt;ä»1å¼€å§‹&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è´´ä¸ªè¿™ä¸ªå·¥å…·ç±»çš„æºç ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;binarySearch0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fromIndex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;toIndex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;
                                   &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;low&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fromIndex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;high&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;toIndex&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;low&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;high&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;low&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;high&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;midVal&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;];&lt;/span&gt;

        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;midVal&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;low&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;midVal&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;high&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// key found
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;low&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// key not found.
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å¤æ‚åº¦åˆ†æ-1&#34;&gt;å¤æ‚åº¦åˆ†æ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)ï¼Œå…¶ä¸­næ˜¯æ•°ç»„çš„é•¿åº¦ã€‚éœ€è¦éå†æ¯ä¸ªä¸‹æ ‡ä½œä¸ºå­æ•°ç»„çš„å¼€å§‹ä¸‹æ ‡ï¼Œéå†çš„æ—¶é—´å¤æ‚åº¦æ˜¯ O(n)ï¼Œå¯¹äºæ¯ä¸ªå¼€å§‹ä¸‹æ ‡ï¼Œéœ€è¦é€šè¿‡äºŒåˆ†æŸ¥æ‰¾å¾—åˆ°é•¿åº¦æœ€å°çš„å­æ•°ç»„ï¼ŒäºŒåˆ†æŸ¥æ‰¾å¾—æ—¶é—´å¤æ‚åº¦æ˜¯ O(logn)ï¼Œå› æ­¤æ€»æ—¶é—´å¤æ‚åº¦æ˜¯ O(nlogn)ã€‚&lt;/li&gt;
&lt;li&gt;ç©ºé—´å¤æ‚åº¦ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯æ•°ç»„çš„é•¿åº¦ã€‚é¢å¤–åˆ›å»ºæ•°ç»„ sums å­˜å‚¨å‰ç¼€å’Œã€‚&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>[leetcode]27.ç§»é™¤å…ƒç´ </title>
        <link>https://ccqstark.github.io/p/remove_element/</link>
        <pubDate>Fri, 02 Apr 2021 21:07:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/remove_element/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/remove_element/leetcode.png" alt="Featured image of post [leetcode]27.ç§»é™¤å…ƒç´ " /&gt;&lt;h2 id=&#34;é¢˜ç›®&#34;&gt;é¢˜ç›®&lt;/h2&gt;
&lt;p&gt;ç»™ä½ ä¸€ä¸ªæ•°ç»„ numsÂ å’Œä¸€ä¸ªå€¼ valï¼Œä½ éœ€è¦ &lt;code&gt;åŸåœ°&lt;/code&gt; ç§»é™¤æ‰€æœ‰æ•°å€¼ç­‰äºÂ valÂ çš„å…ƒç´ ï¼Œå¹¶è¿”å›ç§»é™¤åæ•°ç»„çš„æ–°é•¿åº¦ã€‚&lt;/p&gt;
&lt;p&gt;ä¸è¦ä½¿ç”¨é¢å¤–çš„æ•°ç»„ç©ºé—´ï¼Œä½ å¿…é¡»ä»…ä½¿ç”¨ O(1) é¢å¤–ç©ºé—´å¹¶ åŸåœ° ä¿®æ”¹è¾“å…¥æ•°ç»„ã€‚&lt;/p&gt;
&lt;p&gt;å…ƒç´ çš„é¡ºåºå¯ä»¥æ”¹å˜ã€‚ä½ ä¸éœ€è¦è€ƒè™‘æ•°ç»„ä¸­è¶…å‡ºæ–°é•¿åº¦åé¢çš„å…ƒç´ ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åˆ†æ&#34;&gt;åˆ†æ&lt;/h2&gt;
&lt;p&gt;å¯¹äºæ•°ç»„è€Œè¨€ï¼Œæˆ‘ä»¬åŸåœ°ç§»é™¤å…ƒç´ çš„è¯å°±è‚¯å®šè¦æŠŠè¢«ç§»é™¤çš„å…ƒç´ åé¢çš„å…¨éƒ¨å…ƒç´ éƒ½å¾€å‰æŒªä¸€ä¸ªä½ï¼Œè¿™æ˜¯æœ€åŸºæœ¬çš„æ“ä½œã€‚æ‰€ä»¥æœ€æ™®é€šçš„æš´åŠ›è§£æ³•å°±æ˜¯åˆ é™¤ä¸€ä¸ªï¼Œæ•´ä½“æŒªåŠ¨ä¸€ä¸ªä½ã€‚ä¼˜åŒ–ä¸€ç‚¹çš„è¯å°±æ˜¯å½“æœ‰å‡ ä¸ªéœ€è¦åˆ é™¤çš„æ•°è¿åœ¨ä¸€èµ·æ—¶ï¼Œæˆ‘ä»¬æ‰¾åˆ°è¾¹ç•Œåä¸€èµ·æŒªåŠ¨nä¸ªä½ï¼Œå‡å°‘æ•´ä½“æŒªåŠ¨çš„æ¬¡æ•°ã€‚&lt;/p&gt;
&lt;p&gt;æœ€ä¼˜çš„æ˜¯ç»å¸¸è¢«ç”¨åˆ°çš„åŒæŒ‡é’ˆæ³•ï¼Œä¸‹é¢å†è§£é‡Šã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä»£ç &#34;&gt;ä»£ç &lt;/h2&gt;
&lt;h3 id=&#34;æ··åˆæš´åŠ›æ³•&#34;&gt;æ··åˆæš´åŠ›æ³•&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;removeElement&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;len&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;// leftä½äºæœ€åä¸€ä¸ªå…ƒç´ æ—¶
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;len&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;len&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;len&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++;&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;len&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;// rightè¶…è¿‡é•¿åº¦æ—¶
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;len&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;//  æŠŠå…ƒç´ rightå¤„æ•´ä½“å‰ç§»åˆ°left
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;moveUp&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;len&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;len&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// è¯¥å‡½æ•°ç”¨äºå°†rightåŠåé¢çš„å…ƒç´ å®Œå‰ç§»åˆ°leftä½ç½®
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;moveUp&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;step&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;len&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;step&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;];&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 272; 
			flex-basis: 654px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/remove_element/Untitled.png&#34; data-size=&#34;911x334&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/remove_element/Untitled.png&#34;
			width=&#34;911&#34;
			height=&#34;334&#34;
			srcset=&#34;https://ccqstark.github.io/p/remove_element/Untitled_hu9040d830423d56d5eadd3168ece7bed3_20202_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/remove_element/Untitled_hu9040d830423d56d5eadd3168ece7bed3_20202_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
æ­¤æ–¹æ³•å…¶å®æ˜¯åˆæ­¥ä¼˜åŒ–çš„æš´åŠ›æ³•ï¼Œå‡è®¾æˆ‘ä»¬è¦ç§»é™¤å€¼ä¸º2çš„å…ƒç´ ï¼ŒleftæŒ‡é’ˆæ‰¾åˆ°ç¬¬ä¸€è¢«åˆ é™¤çš„å…ƒç´ ï¼ŒrightæŒ‡å‘leftåç¬¬ä¸€ä¸ªä¸ç­‰äº2çš„å…ƒç´ ï¼Œç„¶åæŠŠä»rightå¼€å§‹çš„åé¢å…¨éƒ¨å…ƒç´ éƒ½å¾€å‰æŒªè‡³leftä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§æ–¹æ³•åœ¨è¢«åˆ é™¤å…ƒç´ éƒ½æ˜¯åœ¨è¿ç»­ä½ç½®æ—¶å¯ä»¥å¾ˆå¥½æé«˜é€Ÿåº¦ã€‚ä½†æ˜¯ä¼šæœ‰ä¸€äº›è¾¹ç•Œæ¡ä»¶éœ€è¦è€ƒè™‘ï¼Œåœ¨ä¸Šé¢ä»£ç ä¸­ç”¨æ³¨é‡Šå¼ºè°ƒäº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åŒæŒ‡é’ˆæ³•&#34;&gt;åŒæŒ‡é’ˆæ³•&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;removeElement&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;slowIndex&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fastIndex&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fastIndex&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fastIndex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fastIndex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;val&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;slowIndex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fastIndex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;];&lt;/span&gt;
      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;slowIndex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åŒæŒ‡é’ˆæ³•ç”¨ä¸€ä¸ªå¿«æŒ‡é’ˆå’Œä¸€ä¸ªæ…¢æŒ‡é’ˆï¼Œéƒ½æ˜¯ä»0å¼€å§‹ã€‚&lt;/p&gt;
&lt;p&gt;å½“å¿«æŒ‡é’ˆé‡åˆ°è¦è¢«åˆ é™¤çš„å…ƒç´ æ—¶ï¼Œè®©æ…¢æŒ‡é’ˆä¸åŠ¨ï¼Œè‡ªå·±ç»§ç»­å¾€åèµ°ï¼Œç›´åˆ°é‡åˆ°ä¸€ä¸ªéè¢«åˆ å…ƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åå°±æŠŠå¿«æŒ‡é’ˆæ‰€å¤„ä½ç½®çš„å€¼è¦†ç›–æ…¢æŒ‡é’ˆæ‰€å¤„ä½ç½®çš„å€¼ï¼Œç„¶åä¸¤ä¸ªæŒ‡é’ˆä¸€èµ·å‘åèµ°ã€‚&lt;/p&gt;
&lt;p&gt;æœ€ç»ˆæ…¢æŒ‡é’ˆçš„ä½ç½®å°±æ˜¯å»æ‰æ‰€æœ‰è¦åˆ é™¤çš„å…ƒç´ çš„æ•°ç»„çš„æœ«ç«¯ï¼Œå½“å¿«æŒ‡é’ˆç§»åˆ°åŸæ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ æ—¶ç»“æŸæ•´ä¸ªæµç¨‹ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®æ…¢æŒ‡é’ˆå°±æ˜¯ç”¨æ¥ä¸€ç‚¹ç‚¹æ„å»ºæœ€ç»ˆæ•°æ®çš„æŒ‡é’ˆï¼Œå¿«æŒ‡é’ˆå°±æ˜¯ç”¨æ¥æ‰¾é‚£äº›å­˜åœ¨äºæœ€ç»ˆæ•°ç»„ä¸­çš„å…ƒç´ ï¼Œæ…¢æŒ‡é’ˆåœç•™åœ¨è¦è¢«åˆ é™¤çš„å…ƒç´ çš„ä½ç½®æ—¶ï¼Œå°±æŠŠå¿«æŒ‡é’ˆä½ç½®çš„å…ƒç´ æ¬è¿‡å»è¦†ç›–ï¼Œæœ¬è´¨å°±æ˜¯æŠŠæœ€ç»ˆä¼šå­˜åœ¨äºæ•°ç»„ä¸­çš„ï¼ˆæ²¡æœ‰è¢«åˆ çš„ï¼‰å…ƒç´ ç§»åˆ°ä¸€èµ·è¿æˆæ•°ç»„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¤æ‚åº¦åˆ†æ&#34;&gt;&lt;strong&gt;å¤æ‚åº¦åˆ†æ&lt;/strong&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œå‡è®¾æ•°ç»„æ€»å…±æœ‰Â nÂ ä¸ªå…ƒç´ ï¼ŒiÂ å’ŒÂ jÂ è‡³å°‘éå†Â 2nÂ æ­¥ã€‚&lt;/li&gt;
&lt;li&gt;ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>[leetcode]35.æœç´¢æ’å…¥ä½ç½®</title>
        <link>https://ccqstark.github.io/p/search_insert/</link>
        <pubDate>Thu, 01 Apr 2021 21:07:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/search_insert/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/search_insert/leetcode.png" alt="Featured image of post [leetcode]35.æœç´¢æ’å…¥ä½ç½®" /&gt;&lt;h2 id=&#34;é¢˜ç›®&#34;&gt;é¢˜ç›®&lt;/h2&gt;
&lt;p&gt;ç»™å®šä¸€ä¸ªæ’åºæ•°ç»„å’Œä¸€ä¸ªç›®æ ‡å€¼ï¼Œåœ¨æ•°ç»„ä¸­æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œå¹¶è¿”å›å…¶ç´¢å¼•ã€‚å¦‚æœç›®æ ‡å€¼ä¸å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œè¿”å›å®ƒå°†ä¼šè¢«æŒ‰é¡ºåºæ’å…¥çš„ä½ç½®ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥å‡è®¾æ•°ç»„ä¸­æ— é‡å¤å…ƒç´ ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;n&#34;&gt;ç¤ºä¾‹&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å…¥:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;5&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å‡º:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;ç¤ºä¾‹&lt;/span&gt;Â &lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å…¥:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å‡º:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;ç¤ºä¾‹&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å…¥:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;7&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å‡º:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;4&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;ç¤ºä¾‹&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å…¥:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å‡º:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;åˆ†æ&#34;&gt;åˆ†æ&lt;/h2&gt;
&lt;p&gt;è¿™é“é¢˜å°±æ˜¯æ‰¾åˆ°æ•°ç»„ä¸­çš„æ•°ï¼Œéå†å°±ä¸è¯´äº†ï¼Œ æˆ‘ä»¬é¦–å…ˆæƒ³åˆ°çš„æ¯”è¾ƒå¥½çš„è§£æ³•å½“ç„¶æ˜¯&lt;code&gt;äºŒåˆ†æœç´¢&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯å½“ç›®æ ‡å€¼ä¸å­˜åœ¨äºæ•°ç»„ä¸­æ—¶ï¼Œæˆ‘ä»¬è¦å¦‚ä½•å»å®šä½åˆé€‚çš„æ’å…¥ç‚¹ï¼Ÿå…ˆä¸Šä»£ç å†åˆ†æã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä»£ç &#34;&gt;ä»£ç &lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;searchInsert&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;binSearch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;binSearch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;])&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;binSearch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;])&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;binSearch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;])&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œæ˜¯é‡‡ç”¨ä¼ ç»Ÿçš„é€’å½’æ¥å†™äºŒåˆ†ï¼Œä½†å…¶å®è¿™é‡Œå¯ä»¥ä¸ç”¨ï¼Œç›´æ¥ä¸€ä¸ªwhileå¾ªç¯å°±è¡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;searchInsert&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// é˜²æ­¢æº¢å‡º
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;])&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;])&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;right&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mid&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;])&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mid&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;left&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;äºŒåˆ†æœç´¢åœ¨ç›®æ ‡å€¼å¤§äºæˆ–å°äº&lt;code&gt;mid&lt;/code&gt;ä½ç½®çš„å€¼æ—¶è¦å¦‚ä½•æ”¹å˜&lt;code&gt;left&lt;/code&gt;å’Œ&lt;code&gt;right&lt;/code&gt; å°±ä¸è¯´äº†ï¼Œå…³é”®æ˜¯ä¸ºä»€ä¹ˆæœ€åæˆ‘ä»¬æŠŠ&lt;code&gt;left&lt;/code&gt; ä½œä¸ºæ’å…¥ä½ç½®å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥æ‹¿å¥‡æ•°ä¸ªæˆ–å¶æ•°ä¸ªå…ƒç´ çš„æ•°ç»„è¯•ä¸€ä¸‹ï¼Œå‘ç°å¦‚æœç›®æ ‡å€¼ä¸åœ¨æ•°ç»„ä¸­ï¼Œé‚£ä¹ˆå®ƒä»¬æœ€åéƒ½ä¼šé¢ä¸´è¿™æ ·ä¸€ç§æƒ…å†µï¼šleftå’Œrightç›¸é‚»ï¼Œè€Œç›®æ ‡å€¼å°±ä»‹äºä¸¤è€…ä¹‹é—´ã€‚&lt;/p&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼Œæ•°ç»„[0,2,4,5,6]ï¼Œç›®æ ‡å€¼3ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 196; 
			flex-basis: 471px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/search_insert/Untitled.png&#34; data-size=&#34;974x496&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/search_insert/Untitled.png&#34;
			width=&#34;974&#34;
			height=&#34;496&#34;
			srcset=&#34;https://ccqstark.github.io/p/search_insert/Untitled_hu53e337c3de8fcb7ac811d31e42c85f96_32118_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/search_insert/Untitled_hu53e337c3de8fcb7ac811d31e42c85f96_32118_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
è€Œä¸‹ä¸€ä¸ªçŠ¶æ€ä¹Ÿæ˜¯è‚¯å®šçš„ï¼Œå› ä¸ºæ­¤æ—¶midå’Œleftç›¸ç­‰ï¼Œtarget&amp;gt;nums[mid]ï¼Œåˆ™&lt;code&gt;left = mid + 1&lt;/code&gt; ï¼Œå‘ˆç°ä¸‹é¢çš„çŠ¶æ€ï¼šleftå’Œrighté‡å ï¼Œä¸”åœ¨ç›®æ ‡å€¼çš„å¤§ä¸€ä½&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 174; 
			flex-basis: 419px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/search_insert/Untitled1.png&#34; data-size=&#34;964x551&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/search_insert/Untitled1.png&#34;
			width=&#34;964&#34;
			height=&#34;551&#34;
			srcset=&#34;https://ccqstark.github.io/p/search_insert/Untitled1_hu23ba98e4e88a10fafee3e6e53fa8977a_31912_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/search_insert/Untitled1_hu23ba98e4e88a10fafee3e6e53fa8977a_31912_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
å†ä¸‹ä¸€ä¸ªçŠ¶æ€åŒæ ·æ˜¯ä¸€å®šçš„ï¼Œmidæ­¤æ—¶å°±æ˜¯leftå’Œrightçš„ä½ç½®ï¼Œåˆ™target&amp;lt;nums[mid]ï¼Œå³&lt;code&gt;right = mid - 1&lt;/code&gt; ï¼Œrightå·¦ç§»ä¸€ä½ï¼Œè¾¾åˆ°whileå¾ªç¯ç»“æŸæ¡ä»¶left&amp;gt;right&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 181; 
			flex-basis: 435px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/search_insert/Untitled2.png&#34; data-size=&#34;981x541&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/search_insert/Untitled2.png&#34;
			width=&#34;981&#34;
			height=&#34;541&#34;
			srcset=&#34;https://ccqstark.github.io/p/search_insert/Untitled2_hu6643aa8aa9a4acd4ae8f56e54e5b0e42_32362_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/search_insert/Untitled2_hu6643aa8aa9a4acd4ae8f56e54e5b0e42_32362_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
é‚£å¾ˆæ˜æ˜¾çš„ï¼Œç›®æ ‡æ’å…¥çš„ä½ç½®å°±ä¸€å®šæ˜¯æœ€åè¿™é‡Œleftçš„ä½ç½®ã€‚ä¸ç®¡æ•°ç»„å…ƒç´ æ˜¯å¥‡æ•°ä¸ªè¿˜æ˜¯å¶æ•°ä¸ªï¼Œæœ€ç»ˆå°±ä¼šæ˜¯è¿™ä¸ªæƒ…å½¢ï¼Œæ‰€ä»¥æœ€åæˆ‘ä»¬é€‰æ‹©&lt;code&gt;left&lt;/code&gt; ä½œä¸ºæ’å…¥ä¸å­˜åœ¨ç›®æ ‡å€¼çš„ä½ç½®ã€‚å½“ç„¶ä¹Ÿå¯ä»¥æå‰ä¸€æ­¥ï¼Œå½“&lt;code&gt;left == right&lt;/code&gt; æ—¶é‚£ä¸ªä½ç½®ä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œleetcodeå®˜æ–¹å°±æ˜¯è¿™ä¹ˆé€‰æ‹©çš„ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¤æ‚åº¦åˆ†æ&#34;&gt;å¤æ‚åº¦åˆ†æ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æ—¶é—´å¤æ‚åº¦ï¼šO(log n)ï¼Œå…¶ä¸­ n ä¸ºæ•°ç»„çš„é•¿åº¦ã€‚äºŒåˆ†æŸ¥æ‰¾æ‰€éœ€çš„æ—¶é—´å¤æ‚åº¦ä¸º O(log n)ã€‚&lt;/li&gt;
&lt;li&gt;ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚æˆ‘ä»¬åªéœ€è¦å¸¸æ•°ç©ºé—´å­˜æ”¾è‹¥å¹²å˜é‡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™é“é¢˜ä¸»è¦è€ƒå¯ŸäºŒåˆ†æœç´¢ï¼Œéš¾ç‚¹åœ¨äºæ’å…¥ä½ç½®çš„é€‰æ‹©ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[leetcode]1.ä¸¤æ•°ä¹‹å’Œ</title>
        <link>https://ccqstark.github.io/p/two_sum/</link>
        <pubDate>Wed, 31 Mar 2021 21:07:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/two_sum/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/two_sum/leetcode.png" alt="Featured image of post [leetcode]1.ä¸¤æ•°ä¹‹å’Œ" /&gt;&lt;h2 id=&#34;é¢˜ç›®&#34;&gt;é¢˜ç›®&lt;/h2&gt;
&lt;p&gt;ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ numsÂ å’Œä¸€ä¸ªæ•´æ•°ç›®æ ‡å€¼ targetï¼Œè¯·ä½ åœ¨è¯¥æ•°ç»„ä¸­æ‰¾å‡º å’Œä¸ºç›®æ ‡å€¼ çš„é‚£Â ä¸¤ä¸ªÂ æ•´æ•°ï¼Œå¹¶è¿”å›å®ƒä»¬çš„æ•°ç»„ä¸‹æ ‡ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥å‡è®¾æ¯ç§è¾“å…¥åªä¼šå¯¹åº”ä¸€ä¸ªç­”æ¡ˆã€‚ä½†æ˜¯ï¼Œæ•°ç»„ä¸­åŒä¸€ä¸ªå…ƒç´ åœ¨ç­”æ¡ˆé‡Œä¸èƒ½é‡å¤å‡ºç°ã€‚&lt;/p&gt;
&lt;p&gt;ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºè¿”å›ç­”æ¡ˆã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;n&#34;&gt;ç¤ºä¾‹&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å…¥:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;7&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;15&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;9&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å‡º:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è§£é‡Š:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;å› ä¸º&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;9&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¿”å›&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;].&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;ç¤ºä¾‹&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; 
&lt;span class=&#34;nl&#34;&gt;è¾“å…¥:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;6&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å‡º:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;

&lt;span class=&#34;n&#34;&gt;ç¤ºä¾‹&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; 
&lt;span class=&#34;nl&#34;&gt;è¾“å…¥:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;6&lt;/span&gt;
&lt;span class=&#34;nl&#34;&gt;è¾“å‡º:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æç¤ºï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;2 &amp;lt;= nums.length &amp;lt;= 103&lt;/li&gt;
&lt;li&gt;-109 &amp;lt;= nums[i] &amp;lt;= 109&lt;/li&gt;
&lt;li&gt;-109 &amp;lt;= target &amp;lt;= 109&lt;/li&gt;
&lt;li&gt;åªä¼šå­˜åœ¨ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆ&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;åˆ†æ&#34;&gt;åˆ†æ&lt;/h2&gt;
&lt;p&gt;è¿™é“é¢˜æ¯”è¾ƒå®¹æ˜“ï¼Œå°±æ˜¯åœ¨æ•°ç»„ä¸­æ‰¾åˆ°æ•°å€¼&lt;code&gt;x&lt;/code&gt;å’Œ&lt;code&gt;target-x&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç›´æ¥ä¸Šä»£ç &lt;/p&gt;
&lt;h2 id=&#34;ä»£ç &#34;&gt;ä»£ç &lt;/h2&gt;
&lt;h3 id=&#34;æ–¹æ³•ä¸€æš´åŠ›æšä¸¾&#34;&gt;æ–¹æ³•ä¸€ï¼šæš´åŠ›æšä¸¾&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;twoSum&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;};&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œæˆ‘ä»¬åªéœ€å…³æ³¨ä¸€ä¸ªç‚¹å°±æ˜¯&lt;code&gt;j = i + 1&lt;/code&gt; ï¼Œæˆ‘ä»¬æ˜¯é€‰ä¸­å…¶ä¸­ä¸€ä¸ªæ•°ä½œä¸ºxï¼Œå†å»æ‰¾target-xçš„ï¼Œæ‰€è°“ä¸ºäº†é¿å…é‡å¤ç»„åˆï¼Œæˆ‘ä»¬ä»xçš„ä¸‹ä¸€ä¸ªå¼€å§‹æ‰¾ï¼Œä¿è¯æ¯ä¸ªç»„åˆåªè¯•ä¸€éï¼ŒåŒæ—¶é¿å…äº†xå’Œæ‰¾è‡ªå·±ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¤æ‚åº¦åˆ†æ&#34;&gt;å¤æ‚åº¦åˆ†æ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æ—¶é—´å¤æ‚åº¦ï¼šO(N^2)ï¼Œå…¶ä¸­Næ˜¯æ•°ç»„ä¸­çš„å…ƒç´ æ•°é‡ã€‚æœ€åæƒ…å†µä¸‹æ•°ç»„ä¸­ä»»æ„ä¸¤ä¸ªæ•°éƒ½è¦è¢«åŒ¹é…ä¸€æ¬¡ã€‚&lt;/li&gt;
&lt;li&gt;ç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æ–¹æ³•äºŒå“ˆå¸Œè¡¨&#34;&gt;æ–¹æ³•äºŒï¼šå“ˆå¸Œè¡¨&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;twoSum&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;target&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Integer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Integer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;hashtable&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HashMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Integer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Integer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;();&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;length&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;hashtable&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;containsKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;hashtable&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;target&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;hashtable&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nums&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;];&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆ©ç”¨å“ˆå¸Œè¡¨æˆ‘ä»¬å¯ä»¥æé«˜æ‰¾target-xçš„é€Ÿåº¦ï¼Œä»å¤´åˆ°å°¾æ‹¿å‡ºä¸€ä¸ªæ•°xï¼ŒæŸ¥çœ‹target-xæ˜¯å¦å­˜åœ¨äºå“ˆå¸Œè¡¨ä¸­ï¼Œå¦‚æœä¸å­˜åœ¨å°±æŠŠè‡ªå·±ä¹ŸåŠ å…¥å“ˆå¸Œè¡¨ï¼ˆxä½œä¸ºkeyï¼Œä¸‹æ ‡ä½œä¸ºvalueï¼‰ã€‚è¿™æ ·å°±å¯ä»¥å¿«é€Ÿæ‰¾åˆ°æˆ‘ä»¬è¦çš„ç»„åˆã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¤æ‚åº¦åˆ†æ-1&#34;&gt;å¤æ‚åº¦åˆ†æ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;æ—¶é—´å¤æ‚åº¦ï¼šO(N)ï¼Œå…¶ä¸­Næ˜¯æ•°ç»„ä¸­çš„å…ƒç´ æ•°é‡ã€‚å¯¹äºæ¯ä¸€ä¸ªå…ƒç´  xï¼Œæˆ‘ä»¬å¯ä»¥ O(1)åœ°å¯»æ‰¾target - xã€‚&lt;/li&gt;
&lt;li&gt;ç©ºé—´å¤æ‚åº¦ï¼šO(N)ï¼Œå…¶ä¸­ N æ˜¯æ•°ç»„ä¸­çš„å…ƒç´ æ•°é‡ã€‚ä¸»è¦ä¸ºå“ˆå¸Œè¡¨çš„å¼€é”€ã€‚&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>[SpringBoot]æ—¥å¿—ä¸å¼‚å¸¸æ•è·</title>
        <link>https://ccqstark.github.io/p/log_catch_error/</link>
        <pubDate>Thu, 18 Mar 2021 23:01:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/log_catch_error/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/log_catch_error/cover.png" alt="Featured image of post [SpringBoot]æ—¥å¿—ä¸å¼‚å¸¸æ•è·" /&gt;&lt;p&gt;é¡¹ç›®ä¸­ç”¨åˆ°äº†ä¹‹å‰è¯´çš„æ—¥å¿—é—¨é¢slf4j+log4jï¼Œä½†æ˜¯ä¹‹åé‡åˆ°äº†ä¸€äº›é—®é¢˜ã€‚æ¯”å¦‚ç¨‹åºæŠ¥é”™æ²¡æœ‰è®°å½•åœ¨æ—¥å¿—ï¼Œè®°å½•çš„æ—¶é—´ä¹Ÿå’ŒæœåŠ¡å™¨çš„ä¸ä¸€è‡´ï¼ˆæœåŠ¡å™¨æ˜¯ä¸œå…«åŒºæ—¶é—´ï¼‰ï¼Œæˆ–è€…è®°å½•ä¸€äº›ä¸éœ€è¦çš„ä¿¡æ¯ï¼Œæ­¤ç¯‡å°±æ¥è§£å†³è¿™äº›é—®é¢˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;slf4jä¸log4j&#34;&gt;slf4jä¸log4j&lt;/h3&gt;
&lt;p&gt;ä¹‹å‰æœ‰ä¸€ç¯‡æ–‡ç« ä»‹ç»äº†slf4jæ€ä¹ˆæ•´åˆè¿›Springbootï¼Œslf4jæ˜¯ä¸€ä¸ªæ—¥å¿—é—¨é¢ï¼Œå’Œæˆ‘ä»¬æ‰€ç”¨çš„logbackã€log4jè¿™äº›æ—¥å¿—æ¡†æ¶ä¸åŒï¼Œå®ƒæ˜¯ä¸ºè¿™äº›æ—¥å¿—æ¡†æ¶ç»Ÿä¸€è°ƒç”¨çš„APIï¼Œé€šè¿‡apiæ¥è°ƒç”¨å…·ä½“çš„æ—¥å¿—å®ç°ï¼Œç®€åŒ–äº†æ—¥å¿—çš„é…ç½®ä¸ä½¿ç”¨ã€‚slf4jè¦ä¸å…·ä½“çš„æ—¥å¿—æ¡†æ¶æ­é…ï¼Œæˆ‘ç”¨çš„æ˜¯log4jã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- SLF4j - log4j --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.slf4j&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;slf4j-log4j12&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.8.0-alpha2&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½¿ç”¨æ—¶åªè¦ç”¨æ³¨è§£&lt;code&gt;@Slf4j&lt;/code&gt; ï¼Œç„¶åç›´æ¥ç”¨&lt;code&gt;log.info()&lt;/code&gt; æ–¹æ³•å°±å¯ä»¥è®°å½•æ—¥å¿—äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ—¥å¿—ç­‰çº§&#34;&gt;æ—¥å¿—ç­‰çº§&lt;/h3&gt;
&lt;p&gt;æ—¥å¿—åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªç­‰çº§ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;OFF&lt;/code&gt;ï¼šæœ€é«˜ç­‰çº§çš„ï¼Œç”¨äºå…³é—­æ‰€æœ‰æ—¥å¿—è®°å½•ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;FATAL&lt;/code&gt;ï¼šä¼šå¯¼è‡´åº”ç”¨ç¨‹åºæ¨å‡ºçš„ä¸¥é‡é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ERROR&lt;/code&gt;ï¼šè™½ç„¶å‘ç”Ÿé”™è¯¯äº‹ä»¶ï¼Œä½†ä»ç„¶ä¸å½±å“ç³»ç»Ÿçš„ç»§ç»­è¿è¡Œï¼Œä¸€èˆ¬ä¹Ÿæ˜¯ç¨‹åºçš„å„ç§&lt;strong&gt;Exception&lt;/strong&gt;ï¼Œä½†è¦æ³¨æ„çš„æ˜¯å¹¶ä¸æ˜¯æ‰€æœ‰å¼‚å¸¸éƒ½ä¼šå¯¼è‡´Errorï¼Œè¿™å°±æ˜¯ä¸‹é¢çš„è¦è¯´çš„å¼‚å¸¸æ•è·ã€‚æ‰“å°é”™è¯¯å’Œå¼‚å¸¸ä¿¡æ¯ï¼Œå¦‚æœä¸æƒ³è¾“å‡ºå¤ªå¤šçš„æ—¥å¿—ï¼Œå¯ä»¥ä½¿ç”¨è¿™ä¸ªçº§åˆ«ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;WARN&lt;/code&gt;ï¼š&lt;strong&gt;è­¦å‘Š&lt;/strong&gt;ï¼Œè¡¨æ˜ä¼šå‡ºç°æ½œåœ¨é”™è¯¯çš„æƒ…å½¢ï¼Œæœ‰äº›ä¿¡æ¯ä¸æ˜¯é”™è¯¯ä¿¡æ¯ï¼Œåªæ˜¯ä¸€äº›æç¤ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;INFO&lt;/code&gt;ï¼šæ¶ˆæ¯åœ¨ç²—ç²’åº¦çº§åˆ«ä¸Šçªå‡ºå¼ºè°ƒåº”ç”¨ç¨‹åºçš„è¿è¡Œè¿‡ç¨‹ã€‚æ‰“å°ä¸€äº›ä½ æ„Ÿå…´è¶£çš„æˆ–è€…é‡è¦çš„ä¿¡æ¯ï¼Œè¿™ä¸ªå¯ä»¥ç”¨äºç”Ÿäº§ç¯å¢ƒä¸­è¾“å‡ºç¨‹åºè¿è¡Œçš„ä¸€äº›é‡è¦ä¿¡æ¯ï¼Œä½†æ˜¯ä¸èƒ½æ»¥ç”¨ï¼Œé¿å…æ‰“å°è¿‡å¤šçš„æ—¥å¿—ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;DEBUG&lt;/code&gt;ï¼šä¸»è¦ç”¨äºå¼€å‘è¿‡ç¨‹ä¸­æ‰“å°ä¸€äº›è¿è¡Œä¿¡æ¯ã€‚ä½†æ˜¯æ‰“å°ä½†ä¿¡æ¯é‡è¿‡å¤šï¼Œé¡¹ç›®ä¸Šçº¿åä¸è¦ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;TRACE&lt;/code&gt;ï¼šè·Ÿè¸ªæ—¥å¿—ï¼Œæ—¥å¿—æ¶ˆæ¯çš„ç²’åº¦å¤ªç»†ï¼Œå¾ˆä½çš„æ—¥å¿—çº§åˆ«ï¼Œä¸€èˆ¬ä¸ä¼šä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ALL&lt;/code&gt;ï¼šæœ€ä½ç­‰çº§çš„ï¼Œç”¨äºæ‰“å¼€æ‰€æœ‰æ—¥å¿—è®°å½•ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡ä¿®æ”¹æ—¥å¿—é…ç½®æ–‡ä»¶&lt;code&gt;log4j.properties&lt;/code&gt;æ¥æ”¹å˜æ—¥å¿—ç­‰çº§ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;n&#34;&gt;log4j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;rootLogger&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ERROR&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stdout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;log&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ—¥å¿—ç­‰çº§
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;é”™è¯¯æ•è·&#34;&gt;é”™è¯¯æ•è·&lt;/h3&gt;
&lt;p&gt;åœ¨SpringBootæˆ‘ä»¬å¸Œæœ›æœ‰ç»Ÿä¸€çš„æ“ä½œæ¥æ•è·ç³»ç»Ÿè¿è¡Œè¿‡ç¨‹ä¸­å‚æ•°çš„æ‰€æœ‰é”™è¯¯ï¼Œå¯¹æœªé¢„æµ‹åˆ°å¯¹é”™è¯¯è®¾ç½®å‹å¥½çš„è¿”å›å€¼ç»™ç”¨æˆ·ï¼Œé¿å…è¿”å›&lt;code&gt;500&lt;/code&gt;çŠ¶æ€ç ã€‚ç”šè‡³å¯ä»¥å°†ç³»ç»Ÿäº§ç”Ÿçš„æŠ¥é”™é€šè¿‡é‚®ä»¶å‘é€ç»™å¼€å‘è€…ï¼Œè®©ç”Ÿäº§ç¯å¢ƒä¸­çš„é”™è¯¯èƒ½å¾—åˆ°å¿«é€Ÿç›´æ¥çš„ç›‘æµ‹å’Œè§£å†³ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ç”¨åˆ°&lt;code&gt;@RestControllerAdvice&lt;/code&gt;å’Œ&lt;code&gt;@ExceptionHandler&lt;/code&gt; è¿™ä¸¤ä¸ªæ³¨è§£&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Slf4j&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@RestControllerAdvice&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// ç”¨äºæ‹¦æˆªå¼‚å¸¸çš„æ³¨è§£
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;ExceptionProcesser&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;extends&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ResponseEntityExceptionHandler&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

	&lt;span class=&#34;nd&#34;&gt;@Autowired&lt;/span&gt;
  &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MailService&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mailService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

	&lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;	 * å…¨å±€å¼‚å¸¸æ•è·å…¥æ—¥å¿—
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;	 */&lt;/span&gt;
	&lt;span class=&#34;c1&#34;&gt;// æ­¤æ³¨è§£ç”¨æ¥æ ‡ç¤ºå¤„ç†å“ªä¸ªç±»çš„å¼‚å¸¸
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;nd&#34;&gt;@ExceptionHandler&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;value&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Exception&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// è¡¨ç¤ºæ‰€æœ‰çš„å¼‚å¸¸éƒ½ä¼šå¤„ç†
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CommonResult&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;defaultErrorHandler&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Exception&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
	
			&lt;span class=&#34;c1&#34;&gt;// slf4jä¸‹çš„æ—¥å¿—ç”¨æ³•ï¼Œç®€æ´æ˜“ç”¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	    &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;defaultErrorHandler:&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
			
			&lt;span class=&#34;c1&#34;&gt;// å°†æŠ¥é”™æ ˆçš„ä¿¡æ¯è½¬ä¸ºå­—ç¬¦ä¸²
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	    &lt;span class=&#34;n&#34;&gt;StringWriter&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;errors&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;StringWriter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
	    &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;printStackTrace&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;PrintWriter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;errors&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
			&lt;span class=&#34;c1&#34;&gt;// å‘é€é‚®ä»¶ç»™å¼€å‘è€…
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	    &lt;span class=&#34;n&#34;&gt;mailService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;sendSimpleMail&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;xxxxx@qq.com&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;é¡¹ç›®æŠ¥é”™&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;errors&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;toString&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
	
	    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CommonResult&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;failed&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;è¿™é‡Œå¯èƒ½æœ‰bugï¼ŒæŠ¥é”™ä¿¡æ¯å‘ç»™ccqäº†ï¼Œæ‰¾ä»–æ”¹bugå»&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
	&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

	&lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;   * å¯¹ä¸€äº›æ— æ³•try/catchçš„å…·ä½“é”™è¯¯è¿˜å¯ä»¥ä¸“é—¨å¤„ç†
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;   */&lt;/span&gt;
  &lt;span class=&#34;nd&#34;&gt;@ExceptionHandler&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MultipartException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// è¡¨ç¤ºåªå¤„ç†MultipartExceptionè¿™ä¸ªç±»ç›¸å…³çš„å¼‚å¸¸
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;  &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CommonResult&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;handleUploadFileTooLargeError&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CommonResult&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;failed&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ResultCode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;FILE_TOO_BIG&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ—¥å¿—æ—¶å·®&#34;&gt;æ—¥å¿—æ—¶å·®&lt;/h3&gt;
&lt;p&gt;åº”ç”¨éƒ¨ç½²åˆ°çº¿ä¸Šçš„æ—¶å€™å¯èƒ½ä¼šé‡åˆ°æ—¥å¿—çš„è®°å½•æ—¶é—´å’Œæˆ‘ä»¬çš„ä¸œå…«åŒºæ—¶é—´æœ‰æ—¶å·®ï¼Œé‚£å°±æ˜¯ç»å…¸æ—¶åŒºé—®é¢˜äº†ï¼Œå¯ä»¥é€šè¿‡å¯åŠ¨jaråŒ…æ—¶è®¾ç½®å‚æ•°æ¥è§£å†³&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;n&#34;&gt;java&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jar&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Duser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;timezone&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GMT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;08&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;xxx&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;jar&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>[ElasticSearch]ElasticSearchå…¥é—¨ä¸åŸç†æµ…æ</title>
        <link>https://ccqstark.github.io/p/es_principle/</link>
        <pubDate>Sat, 13 Mar 2021 23:01:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/es_principle/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/es_principle/es.png" alt="Featured image of post [ElasticSearch]ElasticSearchå…¥é—¨ä¸åŸç†æµ…æ" /&gt;&lt;h2 id=&#34;ç®€ä»‹&#34;&gt;ç®€ä»‹&lt;/h2&gt;
&lt;h3 id=&#34;å¼•å…¥&#34;&gt;å¼•å…¥&lt;/h3&gt;
&lt;p&gt;å¯¹äºæœç´¢åŠŸèƒ½ï¼Œå¤§å®¶ä»¥å‰éƒ½æ˜¯æ€ä¹ˆåšçš„å‘¢ï¼Ÿæˆ‘ç›¸ä¿¡å¾ˆå¤šäººä¸€å¼€å§‹ä¹Ÿæ˜¯ç”¨SQLçš„&lt;code&gt;LIKE&lt;/code&gt;å…³é”®å­—åŠ ä¸Š&lt;code&gt;%&lt;/code&gt;æ¥åŒ¹é…å…³é”®å­—çš„å§ï¼Œä¸ºäº†å®ç°æ›´å¥½çš„æ¨¡ç³Šæ•ˆæœå°±å†åŠ ä¸€ä¸ªåˆ†è¯å™¨æ¥æ‹†åˆ†å…³é”®è¯ã€‚ä½†æ˜¯ï¼Œä¸€æ—¦è¢«æœç´¢çš„æ•°æ®é‡ä¸€å¤§ï¼Œè¿™ç§æ–¹å¼å°±æ˜¾å¾—æ•ˆç‡ä½ä¸‹ã€‚ä¸ºäº†å®ç°æ›´å¥½çš„æ•ˆæœï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å½“å‰æœ€æµè¡Œçš„åˆ†å¸ƒå¼æœç´¢å¼•æ“â€”â€”&lt;code&gt;ElasticSearch&lt;/code&gt; ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åŸºæœ¬ä»‹ç»&#34;&gt;åŸºæœ¬ä»‹ç»&lt;/h3&gt;
&lt;p&gt;Elasticsearch æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„å…è´¹å¼€æºæœç´¢å’Œåˆ†æå¼•æ“ï¼Œé€‚ç”¨äºåŒ…æ‹¬æ–‡æœ¬ã€æ•°å­—ã€åœ°ç†ç©ºé—´ã€ç»“æ„åŒ–å’Œéç»“æ„åŒ–æ•°æ®ç­‰åœ¨å†…çš„æ‰€æœ‰ç±»å‹çš„æ•°æ®ï¼ŒåŸºäºè‘—åçš„&lt;code&gt;Lucene&lt;/code&gt;åº“è¿›è¡Œå¼€å‘ï¼Œå¹¶ä»¥ç®€å•çš„&lt;code&gt;RESTful&lt;/code&gt;é£æ ¼çš„APIè¿›è¡Œè°ƒç”¨ï¼Œæ”¯æŒJavaã€JavaScript(Node)ã€Goã€ C#(.NET)ã€PHPã€Pythonã€Rubyç­‰å¤šç§è¯­è¨€ã€‚ElasticSearchå·²ç»æˆä¸ºéå¸¸æµè¡Œçš„æœç´¢å¼•æ“ï¼Œä¸€äº›è‘—åå‚å•†ä¾‹å¦‚äº¬ä¸œã€æ»´æ»´ã€æºç¨‹ã€Stack Overflowã€GitHubç­‰éƒ½åœ¨ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;å®˜ç½‘åœ°å€ï¼š&lt;a class=&#34;link&#34; href=&#34;https://www.elastic.co/cn/elasticsearch/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.elastic.co/cn/elasticsearch/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 217; 
			flex-basis: 521px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/es_principle/v2-afa11bbba49acdd68b2cdb98aa61293f_720w.png&#34; data-size=&#34;1024x471&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/es_principle/v2-afa11bbba49acdd68b2cdb98aa61293f_720w.png&#34;
			width=&#34;1024&#34;
			height=&#34;471&#34;
			srcset=&#34;https://ccqstark.github.io/p/es_principle/v2-afa11bbba49acdd68b2cdb98aa61293f_720w_huf021a1dfebbe47cdc6d389106a82318c_7114_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/es_principle/v2-afa11bbba49acdd68b2cdb98aa61293f_720w_huf021a1dfebbe47cdc6d389106a82318c_7114_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;åº”ç”¨åœºæ™¯&#34;&gt;åº”ç”¨åœºæ™¯&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;åº”ç”¨ç¨‹åºæœç´¢&lt;/li&gt;
&lt;li&gt;ç½‘ç«™æœç´¢&lt;/li&gt;
&lt;li&gt;ä¼ä¸šæœç´¢&lt;/li&gt;
&lt;li&gt;æ—¥å¿—å¤„ç†å’Œåˆ†æ&lt;/li&gt;
&lt;li&gt;åŸºç¡€è®¾æ–½æŒ‡æ ‡å’Œå®¹å™¨ç›‘æµ‹&lt;/li&gt;
&lt;li&gt;åº”ç”¨ç¨‹åºæ€§èƒ½ç›‘æµ‹&lt;/li&gt;
&lt;li&gt;åœ°ç†ç©ºé—´æ•°æ®åˆ†æå’Œå¯è§†åŒ–&lt;/li&gt;
&lt;li&gt;å®‰å…¨åˆ†æ&lt;/li&gt;
&lt;li&gt;ä¸šåŠ¡åˆ†æ&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;elk&#34;&gt;ELK&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ELK&lt;/code&gt;ï¼Œå³ElasticSearch + logstash + Kibana ï¼Œæ˜¯ä¸€å¥—å¼€æºçš„æ—¥å¿—æ”¶é›†ä¸åˆ†æè§£å†³æ–¹æ¡ˆã€‚åˆ©ç”¨ElasticSearchå¯¹æ•°æ®è¿›è¡Œå¿«é€Ÿçš„å¤æ‚æ¡ä»¶æ£€ç´¢ï¼Œç”¨logstashåˆ™ä½œä¸ºæ•°æ®ç®¡é“ä»å¤šä¸ªæ¥æºè¿›è¡Œæ•°æ®çš„é‡‡é›†ã€è½¬æ¢å’Œä¼ è¾“ï¼ŒKibanaåˆ™é€šè¿‡ç”Ÿæˆå¤šç§å¯è§†åŒ–æŠ¥è¡¨æ–¹ä¾¿ç”¨æˆ·è¿›è¡Œæ—¥å¿—ç›‘æ§ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€èˆ¬å°å‹ç³»ç»Ÿæˆ‘ä»¬åˆ†ææ—¥å¿—å¯ä»¥ç›´æ¥åœ¨ç”¨grepã€awkç­‰å‘½ä»¤è¿›è¡Œè¿‡æ»¤ä¸æ£€ç´¢ï¼Œæˆ–è€…æ‹‰åˆ°æœ¬åœ°ç”¨LogViewerç­‰ä¸“é—¨çš„æ—¥å¿—å·¥å…·æ‰“å¼€æŸ¥çœ‹ã€‚ä½†æ˜¯å½“ç³»ç»Ÿä½“é‡ä¸€å¤§ï¼Œé‡‡ç”¨çš„æ˜¯åˆ†å¸ƒå¼æ¶æ„ï¼Œé›†ç¾¤ä¸­çš„æ—¥å¿—ç®¡ç†å°±æˆä¸ºä¸€ä¸ªéš¾é¢˜ã€‚ELKç›®çš„å°±æ˜¯ä¸ºäº†è§£å†³å¤§å‹ç³»ç»Ÿä¸­çš„æ—¥å¿—æ”¶é›†ã€å­˜å‚¨ä¸åˆ†æé—®é¢˜ï¼Œæ–¹ä¾¿å°†èŠ‚ç‚¹ä¸­çš„æ—¥å¿—ç»Ÿä¸€ç®¡ç†ä»è€Œæé«˜æ•ˆç‡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 227; 
			flex-basis: 545px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/es_principle/Untitled.png&#34; data-size=&#34;1831x805&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/es_principle/Untitled.png&#34;
			width=&#34;1831&#34;
			height=&#34;805&#34;
			srcset=&#34;https://ccqstark.github.io/p/es_principle/Untitled_hu7dafef719c0da23a4ffc30c2466c80d1_362848_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/es_principle/Untitled_hu7dafef719c0da23a4ffc30c2466c80d1_362848_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ¦‚å¿µä»‹ç»&#34;&gt;æ¦‚å¿µä»‹ç»&lt;/h2&gt;
&lt;h3 id=&#34;åŸºæœ¬æ¦‚å¿µ&#34;&gt;åŸºæœ¬æ¦‚å¿µ&lt;/h3&gt;
&lt;p&gt;ElasticSearchï¼ˆç®€ç§°esï¼‰æœç´¢çš„æ—¶å€™ä¸æ˜¯å»æ•°æ®åº“é‡Œæ‹¿æ•°æ®ï¼Œå®ƒæœ‰è‡ªå·±çš„ä¸€å¥—å­˜å‚¨ä¸ç´¢å¼•ä½“ç³»ã€‚æ•°æ®åº“ä¸­çš„æ•°æ®éœ€è¦åŒæ­¥åˆ°esä¸­ï¼Œé€šè¿‡ç´¢å¼•çš„å½¢å¼æ¥å­˜å‚¨æ•°æ®æ‰èƒ½å®ç°é«˜æ•ˆæ£€ç´¢ã€‚&lt;/p&gt;
&lt;p&gt;esç´¢å¼•ä½“ç³»çš„åŸºæœ¬æ¦‚å¿µå’Œå…³ç³»å‹æ•°æ®åº“ä¸­çš„æœ‰äº›ç±»ä¼¼ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ¯”ç€æ¥çœ‹&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Index ç´¢å¼•&lt;/th&gt;
&lt;th&gt;Database æ•°æ®åº“&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Type æ–‡æ¡£ç±»å‹&lt;/td&gt;
&lt;td&gt;Table è¡¨&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Document æ–‡æ¡£&lt;/td&gt;
&lt;td&gt;Row è®°å½•&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Field å­—æ®µ&lt;/td&gt;
&lt;td&gt;Column å±æ€§&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Mapping æ˜ å°„&lt;/td&gt;
&lt;td&gt;Schema æ¨¡å‹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Query DSL&lt;/td&gt;
&lt;td&gt;SQL&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;esçš„å±‚æ¬¡ç»„ç»‡ç»“æ„ç±»ä¼¼äºMySQLè¿™æ ·çš„å…³ç³»å‹æ•°æ®åº“ï¼Œindexå°±åƒdatabaseé‚£æ ·å­˜å‚¨ç€ä¸åŒçš„typeï¼Œä¹Ÿå°±æ˜¯æ•°æ®åº“ä¸­çš„tableï¼›å†ä¸‹ä¸€çº§å°±æ˜¯documentï¼Œç±»ä¼¼äºæ•°æ®åº“ä¸­çš„ä¸€æ¡æ¡è®°å½•ï¼›æ¯æ¡è®°å½•çš„å­—æ®µfieldå°±å¯¹åº”è¡¨ä¸­çš„columnï¼›mappingå°±å¦‚schemaé‚£æ ·è¡¨ç¤ºç€åº“è¡¨çš„æ¶æ„ï¼›esä¸­çš„æŸ¥è¯¢è¯­è¨€Query DSLåˆ™å¯¹æ ‡æˆ‘ä»¬ç†Ÿæ‚‰çš„SQLã€‚é€šè¿‡ç±»æ¯”å¯ä»¥æ›´å¿«åœ°è®¤è¯†esçš„ç»“æ„ç»„æˆã€‚&lt;/p&gt;
&lt;p&gt;âš ï¸ æ³¨æ„ï¼šä»6.xå¼€å§‹esæ…¢æ…¢æ”¾å¼ƒtypeï¼Œå¹¶ç»Ÿä¸€é»˜è®¤typeä¸º_docï¼Œé¢„è®¡åœ¨8.xæ­£å¼å°†å…¶ç§»é™¤ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å…¶å®ƒæ¦‚å¿µ&#34;&gt;å…¶å®ƒæ¦‚å¿µ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Node&lt;/code&gt; èŠ‚ç‚¹&lt;/p&gt;
&lt;p&gt;å®é™…é¡¹ç›®ä¸­æˆ‘ä»¬å¾€å¾€ä¸ä¼šåªç”¨ä¸€å°æœåŠ¡å™¨æ¥éƒ¨ç½²elasticsearchï¼Œé‚£æ ·çš„è¯èƒ½å¤Ÿæ‰¿è½½çš„ç”¨æˆ·æ•°å°±éå¸¸å°‘ã€‚å› ä¸ºesæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„æœç´¢å¼•æ“ï¼Œé‚£æˆ‘ä»¬å®Œå…¨å¯ä»¥éƒ¨ç½²ä¸€ä¸ªesé›†ç¾¤ï¼Œè€Œå…¶ä¸­çš„ä¸€ä¸ªæœåŠ¡å™¨å®ä¾‹å°±å«åšnode(èŠ‚ç‚¹)ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Cluster&lt;/code&gt;  é›†ç¾¤&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªclusteræ˜¯æœ‰å¤šä¸ªnodeç»„æˆçš„ï¼Œesé›†ç¾¤å¯ä»¥æ‰©å¤§å•ä¸ªèŠ‚ç‚¹çš„æ•°æ®å­˜å‚¨é‡ä»¥åŠæ‰¿è½½çš„æœç´¢è¯·æ±‚ã€‚åœ¨å…¶ä¸­ä¸€ä¸ªèŠ‚ç‚¹æŒ‚æ‰çš„æƒ…å†µä¸‹ä¸å½±å“å…¶ä»–èŠ‚ç‚¹çš„æ­£å¸¸å·¥ä½œã€‚esé›†ç¾¤ä¹Ÿå¯ä»¥è®¾ç½®æˆ–é€‰ä¸¾master nodeæ¥è´Ÿè´£åˆ›å»ºç´¢å¼•ã€åˆ é™¤ç´¢å¼•ã€åˆ†é…åˆ†ç‰‡ã€è¿½è¸ªé›†ç¾¤ä¸­çš„èŠ‚ç‚¹çŠ¶æ€ç­‰ï¼Œå½“ç„¶ä¹Ÿå¯èƒ½å­˜åœ¨è„‘è£‚é—®é¢˜ã€‚å…¶å®ƒæ™®é€šèŠ‚ç‚¹ç§°ä¸ºdata nodeï¼Œç”¨æ¥æ¥å—ç”¨æˆ·çš„æœç´¢è¯·æ±‚è¿”å›æœç´¢ç»“æœã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Shard&lt;/code&gt; åˆ†ç‰‡&lt;/p&gt;
&lt;p&gt;ä¸Šé¢è¯´åˆ°é›†ç¾¤å¯ä»¥æ‰©å¤§å•æœºå­˜å‚¨ç©ºé—´è¿‡å°çš„é—®é¢˜ï¼Œè€Œå…¶ä¸­å®ç°çš„åŸç†å°±æ˜¯é€šè¿‡åˆ†ç‰‡ã€‚esé€šè¿‡å¯¹æ•°æ®è¿›è¡Œæ°´å¹³æ‹†åˆ†æˆå¤šä¸ªéƒ¨åˆ†ï¼Œç„¶ååˆ†å‘åˆ°å¤šå°ç‰©ç†æœºä¸Šï¼Œè¿™ä¸ªè¿‡ç¨‹å«åšç´¢å¼•åˆ†ç‰‡(Sharding)ï¼Œæ¯ä¸ªéƒ¨åˆ†å°±æ˜¯ä¸€ä¸ªåˆ†ç‰‡(Shard)ã€‚åˆ›å»ºç´¢å¼•æ—¶å¯ä»¥æŒ‡å®šåˆ†ç‰‡æ•°é‡ï¼Œä¸€æ—¦æŒ‡å®šå°±ä¸å¯æ›´æ”¹ã€‚shardingçš„è¿‡ç¨‹æ˜¯esè‡ªåŠ¨å®Œæˆçš„ï¼Œæ•°æ®è¢«å†™å…¥æ—¶ä¼šè¢«æŒ‡å®šå†™å…¥çš„åˆ†ç‰‡ã€‚esçš„åˆ†ç‰‡æ˜¯Luceneå®ç°çš„ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;Replica&lt;/code&gt; ç´¢å¼•å‰¯æœ¬&lt;/p&gt;
&lt;p&gt;ç´¢å¼•å‰¯æœ¬å°±æ˜¯å¯¹åˆ†ç‰‡è¿›è¡Œçš„æ‹·è´ã€‚åœ¨æŸä¸€åˆ†ç‰‡è¯·æ±‚è´Ÿè½½å¯¼è‡´é˜»å¡æ—¶ï¼ŒreplicaåŒæ ·å¯ä»¥å¤„ç†ç”¨æˆ·çš„è¯·æ±‚ã€‚è€Œä¸”ä¸ä»…å¯ä»¥æé«˜æµé‡æ‰¿è½½èƒ½åŠ›ï¼ŒåŒæ—¶æ•°æ®ä¹Ÿæœ‰äº†ä¸€ä»½å¤‡ä»½ï¼Œå³ä½¿ä¸»åˆ†ç‰‡æ•°æ®ä¸¢æ‰ä¹Ÿå¯ä»¥ç”¨å‰¯æœ¬æ¢å¤ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;å®‰è£…ä¸åŸºæœ¬ä½¿ç”¨&#34;&gt;å®‰è£…ä¸åŸºæœ¬ä½¿ç”¨&lt;/h2&gt;
&lt;h3 id=&#34;å®¹å™¨éƒ¨ç½²&#34;&gt;å®¹å™¨éƒ¨ç½²&lt;/h3&gt;
&lt;p&gt;äº‘åŸç”Ÿæ—¶ä»£æ¨èä½¿ç”¨å®¹å™¨ï¼Œè¿™é‡Œä»¥dockerå•æœºéƒ¨ç½²ä¸ºä¾‹ç®€å•è®²ä¸‹ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ‹‰å–é•œåƒï¼Œè¿™é‡Œæ˜¯7.10.1ï¼Œæ³¨æ„esç‰ˆæœ¬é—´å…¼å®¹æ€§è¾ƒå·®&lt;/span&gt;
docker pull elasticsearch:7.10.1

&lt;span class=&#34;c1&#34;&gt;# å¯åŠ¨å®¹å™¨ï¼Œé…ç½®æ–‡ä»¶å’Œæ•°æ®æŒ‚è½½å‡ºæ¥&lt;/span&gt;
docker run --name elasticsearch -p 9200:9200 -p 9300:9300 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-e &lt;span class=&#34;nv&#34;&gt;ES_JAVA_OPTS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;-Xms256m -Xmx256m&amp;#34;&lt;/span&gt; -d &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-v &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;ä¸»æœºæŒ‚è½½ç›®å½•&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;/config/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-v &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;ä¸»æœºæŒ‚è½½ç›®å½•&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;/data:/usr/share/elasticsearch/data elasticsearch:7.10.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;eså®¹å™¨æ˜¯æ¯”è¾ƒå å†…å­˜çš„ï¼Œæ¯•ç«Ÿä¸€å¼€å°±æ˜¯ä¸€ä¸ªJVMï¼Œå•èŠ‚ç‚¹å†…å­˜è¾ƒå°å¯ä»¥é€šè¿‡è®¾ç½®&lt;code&gt;ES_JAVA_OPTS&lt;/code&gt; æ¥è°ƒå°JVMçš„å†…å­˜å ç”¨ï¼Œä¾‹å¦‚ä¸Šé¢ä¾‹å­ä¸­éƒ½å‚æ•°å°±æ˜¯è®¾ç½®ä¸º256Mã€‚&lt;/p&gt;
&lt;p&gt;å…¶ä»–å¯èƒ½å‡ºç°çš„é—®é¢˜ä»¥åŠæ›´å¤šç›¸å…³ç»„ä»¶å®‰è£…å¦‚Kibanaæˆ–ikåˆ†è¯å™¨å¯ä»¥å‚çœ‹æˆ‘çš„å¦ä¸€ç¯‡åšå®¢ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://ccqstark.github.io/p/es_docker/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;[Elastic]ä½¿ç”¨dockerå®‰è£…ElasticSearch + Kibana&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;restfulé£æ ¼æ“ä½œ&#34;&gt;RESTfulé£æ ¼æ“ä½œ&lt;/h3&gt;
&lt;p&gt;esä½¿ç”¨RESTfulé£æ ¼çš„APIè¿›è¡ŒCRUDï¼Œå­˜å‚¨ä¸ä¼ è¾“ä½¿ç”¨çš„æ•°æ®å½¢å¼ä¹Ÿæ˜¯ä½¿ç”¨å¸¸è§çš„JSONï¼Œå¸¸ç”¨çš„methodå’Œå¯¹åº”çš„åŠŸèƒ½å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 265; 
			flex-basis: 636px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/es_principle/Untitled1.png&#34; data-size=&#34;750x283&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/es_principle/Untitled1.png&#34;
			width=&#34;750&#34;
			height=&#34;283&#34;
			srcset=&#34;https://ccqstark.github.io/p/es_principle/Untitled1_hu84fd3aa02f569b683507f114748edc09_59329_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/es_principle/Untitled1_hu84fd3aa02f569b683507f114748edc09_59329_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
å…¶ä¸­æŸ¥è¯¢æ”¯æŒå¤šç§ç±»å‹çš„å¤æ‚æŸ¥è¯¢ï¼Œå¦‚matchè§£ææŸ¥è¯¢ã€æ’åºæŸ¥è¯¢ã€åˆ†é¡µæŸ¥è¯¢ã€boolæŸ¥è¯¢ã€fileteræŸ¥è¯¢ã€å¤šå…³é”®å­—æŸ¥è¯¢ã€termç²¾ç¡®æŸ¥è¯¢ã€é«˜äº®æŸ¥è¯¢ç­‰ç­‰ã€‚è¯¦ç»†å¯ä»¥æŸ¥çœ‹æˆ‘åšå®¢çš„å¦ä¸€ç¯‡æ–‡ç« ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://ccqstark.github.io/p/es_rest/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;[ElasticSearch]RESTé£æ ¼æ“ä½œ&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;å®¢æˆ·ç«¯&#34;&gt;å®¢æˆ·ç«¯&lt;/h3&gt;
&lt;p&gt;esæä¾›äº†å¤šç§è¯­è¨€çš„clientï¼Œå„ç§APIæ–‡æ¡£éƒ½åœ¨å®˜ç½‘å¯ä»¥æ‰¾åˆ°ã€‚å¯¹äºJavaæ¨èä½¿ç”¨&lt;code&gt;Java High Level REST Client&lt;/code&gt;ï¼Œä¸SpringBootçš„æ•´åˆå¯ä»¥çœ‹æˆ‘å¦ä¸€ç¯‡åšå®¢ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://ccqstark.github.io/p/springboot_es/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;[SpringBoot]æ•´åˆElasticSearch&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å®˜æ–¹æ–‡æ¡£åœ°å€ï¼š&lt;a class=&#34;link&#34; href=&#34;https://www.elastic.co/guide/en/elasticsearch/client/index.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.elastic.co/guide/en/elasticsearch/client/index.html&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;mysqlçš„likeæ¢ç©¶&#34;&gt;MySQLçš„LIKEæ¢ç©¶&lt;/h2&gt;
&lt;h3 id=&#34;ç´¢å¼•ä½¿ç”¨&#34;&gt;ç´¢å¼•ä½¿ç”¨&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬ä¹ æƒ¯ç”¨&lt;code&gt;LIKE&lt;/code&gt;è¿›è¡Œæ¨¡ç³ŠæŸ¥è¯¢ï¼Œä½†æ˜¯å½“æ•°æ®é‡å¾ˆå¤§æ—¶è€—æ—¶å°±ä¼šæ¯”è¾ƒä¹…ï¼Œä¹Ÿè®¸ä½ ä¼šæƒ³åˆ°ç”¨ç´¢å¼•æ¥å®ç°ä¼˜åŒ–ï¼Œä½†æ˜¯æ¨¡ç³ŠæŸ¥è¯¢ä½¿ç”¨ç´¢å¼•æ˜¯è¦æ»¡è¶³ä¸€å®šæ¡ä»¶çš„ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;å•%&lt;/code&gt;æ¨¡ç³Šï¼Œä¸”æŸ¥è¯¢å­—æ®µåŠ äº†ç´¢å¼•&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨&lt;code&gt;åŒ%&lt;/code&gt;è¿›è¡Œå…¨æ¨¡ç³ŠæŸ¥è¯¢ï¼Œä¸”æŠŠä¸»é”®ä½œä¸ºç»“æœé›†ï¼Œå› ä¸ºè¦†ç›–ç´¢å¼•æ‰€ä»¥æŸ¥è¯¢ä¼šèµ°ç´¢å¼•&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨å…¨æ–‡ç´¢å¼•&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸ºäº†æ¢ç©¶åœ¨å¤§é‡æ•°æ®æƒ…å†µä¸‹LIKE+%æ–¹æ¡ˆçš„æ•ˆæœï¼Œä¸‹é¢ç”¨ä¸ªä¾‹å­æ¥å®è·µä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ•°æ®å‡†å¤‡&#34;&gt;æ•°æ®å‡†å¤‡&lt;/h3&gt;
&lt;p&gt;å»ºä¸€å¼ ç®€å•çš„è¡¨ä¾›æŸ¥è¯¢ï¼Œå¼•æ“æ˜¯InnoDB&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;CREATE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;TABLE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test_like&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;UNSIGNED&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;NOT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;AUTO_INCREMENT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;NOT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;DEFAULT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;student_number&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;varchar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;NOT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;DEFAULT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;PRIMARY&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;KEY&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‡†å¤‡å¤šç‚¹æ•°æ®ï¼Œè¿™é‡Œæˆ‘å‡†å¤‡äº†10ä¸‡æ¡ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„è¿™é‡Œä¸€æ¬¡æ€§æ’å…¥å¤ªå¤šæ•°æ®å¯èƒ½ä¼šå‡ºç°&lt;code&gt;PacketTooBigException&lt;/code&gt;ï¼Œå¯ä»¥åˆ†æ‰¹æ’å…¥æˆ–è€…è®¾ç½®&lt;code&gt;max_allowed_packet&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;&amp;lt;insert&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;id=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;insertLikeTestData&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;gt;&lt;/span&gt;
	  insert into test_like
	  (`name`,`student_number`) VALUES
	  &lt;span class=&#34;nt&#34;&gt;&amp;lt;foreach&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;collection=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;list&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;item=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;item&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;index=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;index&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;separator=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;,&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;gt;&lt;/span&gt;
	      (&amp;#39;ccq&amp;#39;,&amp;#39;50377880000&amp;#39;+#{item})
	  &lt;span class=&#34;nt&#34;&gt;&amp;lt;/foreach&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/insert&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åç»™æˆ‘ä»¬ç”¨æ¥æŸ¥è¯¢çš„student_numberåŠ ä¸ªç´¢å¼•&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;ALTER&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;TABLE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test_like&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; 
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ADD&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;INDEX&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;idx_student_number&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;student_number&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;USING&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;BTREE&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æŸ¥çœ‹æ‰§è¡Œè®¡åˆ’&#34;&gt;æŸ¥çœ‹æ‰§è¡Œè®¡åˆ’&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬æ‰§è¡Œ&lt;code&gt;select *&lt;/code&gt; çš„å…¨æ¨¡ç³ŠæŸ¥è¯¢&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;explain&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test_like&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;student_number&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;like&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;%503%&amp;#39;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;\&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;G&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‘ç°å¹¶æ²¡æœ‰ä½¿ç”¨ç´¢å¼•å¹¶è¿›è¡Œäº†å…¨è¡¨æ‰«æ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;w&#34;&gt;           &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;select_type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;SIMPLE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;table&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test_like&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;partitions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ALL&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;possible_keys&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key_len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ref&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;rows&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;100076&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;filtered&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Extra&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;Using&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;row&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;warning&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;00&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åæˆ‘ä»¬æ‰§è¡Œ&lt;code&gt;select id&lt;/code&gt; çš„&lt;code&gt;å•%&lt;/code&gt;æŸ¥è¯¢ï¼Œä¹Ÿå°±æ˜¯å°†ä¸»é”®ä½œä¸ºç»“æœé›†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;explain&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test_like&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;student_number&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;like&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;503%&amp;#39;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;\&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;G&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‘ç°çš„ç¡®ä½¿ç”¨äº†ç´¢å¼•è¿›è¡Œäº†ä¼˜åŒ–ï¼Œæ‰«æè¡Œæ•°åªæœ‰ä¸€åŠ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;w&#34;&gt;           &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;select_type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;SIMPLE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;table&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test_like&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;partitions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;range&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;possible_keys&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;idx_student_number&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;idx_student_number&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key_len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;46&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ref&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;rows&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;50038&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;filtered&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;100&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;00&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Extra&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;Using&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;Using&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;row&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;warning&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;00&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ€åæˆ‘ä»¬&lt;code&gt;select id&lt;/code&gt;  çš„&lt;code&gt;åŒ%&lt;/code&gt;æŸ¥è¯¢&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;explain&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test_like&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;student_number&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;like&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;%503%&amp;#39;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;\&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;G&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å‘ç°ç¡®å®ä½¿ç”¨æˆ‘ä»¬åˆ›å»ºçš„&lt;code&gt;idx_student_number&lt;/code&gt; ï¼Œä½†æ˜¯possible_keyså±…ç„¶æ˜¯NULL&lt;/p&gt;
&lt;p&gt;è€Œä¸”è¿˜å‘ç°ï¼Œä½¿ç”¨ç´¢å¼•ä¸ä¸ä½¿ç”¨ç´¢å¼•ï¼Œæ‰«æè¡Œæ•°éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè€Œä¸”éƒ½æ˜¯å…¨è¡¨æ‰«æ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;w&#34;&gt;           &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;select_type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;SIMPLE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;table&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test_like&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;partitions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;possible_keys&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;idx_student_number&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key_len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;46&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;          &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ref&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;rows&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;100076&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;     &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;filtered&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;11&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Extra&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;Using&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;Using&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;row&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;in&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;warning&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;00&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;ä½¿ç”¨traceæŸ¥çœ‹ä¼˜åŒ–å™¨&#34;&gt;ä½¿ç”¨TraceæŸ¥çœ‹ä¼˜åŒ–å™¨&lt;/h3&gt;
&lt;p&gt;æˆ‘ä»¬è·Ÿè¸ªä¸€ä¸‹MySQLçš„ä¼˜åŒ–å™¨æ˜¯æ€ä¹ˆåšé€‰æ‹©çš„&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;c1&#34;&gt;-- å¼€å¯ä¼˜åŒ–å™¨è·Ÿè¸ª
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;session&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;optimizer_trace&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;enabled=on&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;test_like&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;where&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;student_number&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;like&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;%503%&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;-- æŸ¥çœ‹ä¼˜åŒ–å™¨è¿½è¸ªå†…å®¹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;information_schema&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;optimizer_trace&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ‰¾åˆ°æŸ¥è¯¢è·¯å¾„çš„é€‰æ‹©&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;best_access_path&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;considered_access_paths&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;rows_to_scan&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;100076&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;access_type&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;scan&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;resulting_rows&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;100076&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;cost&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;20304&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;chosen&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå¯¹é€‰æ‹©ä¸»é”®çš„åŒ%æŸ¥è¯¢ä¹Ÿè¿›è¡ŒåŒæ ·çš„è·Ÿè¸ªï¼Œå‘ç°ä¸¤è€…åŒæ ·éƒ½æ˜¯ç”¨äº†é¡ºåºæ‰«æï¼Œè€Œæ²¡æœ‰ç”¨ä¸ŠB+Treeæ¥ä¼˜åŒ–ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ç»“è®º&#34;&gt;ç»“è®º&lt;/h3&gt;
&lt;p&gt;ä»ä¸Šé¢æˆ‘ä»¬ä¹Ÿå¯ä»¥çœ‹åˆ°ï¼Œæ²¡æœ‰åšå…¶å®ƒçš„ä¼˜åŒ–è€Œåªç”¨ç´¢å¼•æ¥ä½¿ç”¨MySQLçš„LIKEè¿›è¡Œå…¨æ¨¡ç³ŠæŸ¥è¯¢ï¼Œåœ¨æ•°æ®é‡å¤§çš„æ—¶å€™ï¼Œæ€§èƒ½è¿˜æ˜¯ä¸å°½äººæ„çš„ï¼Œè¿™ä¹Ÿè¯´æ˜äº†ä½¿ç”¨ESçš„å¿…è¦æ€§ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç´¢å¼•åŸç†&#34;&gt;ç´¢å¼•åŸç†&lt;/h2&gt;
&lt;p&gt;è¿™ä¸€éƒ¨åˆ†æˆ‘ä»¬æ¥è¯´è¯´ESçš„ä¸€äº›åŸç†ï¼Œçœ‹çœ‹ä¸ºä»€ä¹ˆESåœ¨æŸ¥è¯¢ä¸Šèƒ½æ›´èƒœMySQLä¸€ç­¹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å€’æ’ç´¢å¼•&#34;&gt;å€’æ’ç´¢å¼•&lt;/h3&gt;
&lt;p&gt;esæ˜¯é€šè¿‡Luceneçš„å€’æ’ç´¢å¼•&lt;code&gt;Inverted Index&lt;/code&gt;æŠ€æœ¯æ¥å®ç°æ¯”æ™®é€šå…³ç³»å‹æ•°æ®åº“æ›´å¿«çš„æŸ¥è¯¢çš„ï¼Œç‰¹åˆ«å¯¹å¤šæ¡ä»¶çš„å¤æ‚æŸ¥è¯¢ï¼Œè¿™ä¸€ç‚¹èƒ½æ›´å¥½åœ°ä½“ç°ã€‚&lt;/p&gt;
&lt;p&gt;é‚£ä»€ä¹ˆæ˜¯å€’æ’ç´¢å¼•å‘¢ï¼Ÿå¼•ç”¨ç»´åŸºä¸Šçš„å®šä¹‰ï¼š&lt;/p&gt;
&lt;p&gt;å€’æ’ç´¢å¼•æ˜¯ä¸€ç§ç´¢å¼•æ–¹æ³•ï¼Œè¢«ç”¨æ¥å­˜å‚¨åœ¨å…¨æ–‡æœç´¢ä¸‹æŸä¸ªå•è¯åœ¨ä¸€ä¸ªæ–‡æ¡£æˆ–è€…ä¸€ç»„æ–‡æ¡£ä¸­çš„å­˜å‚¨ä½ç½®çš„æ˜ å°„ã€‚å®ƒæ˜¯æ–‡æ¡£æ£€ç´¢ç³»ç»Ÿä¸­æœ€å¸¸ç”¨çš„æ•°æ®ç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;æœ‰ä¸¤ç§ä¸åŒçš„åå‘ç´¢å¼•å½¢å¼ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸€æ¡è®°å½•çš„æ°´å¹³åå‘ç´¢å¼•ï¼ˆæˆ–è€…åå‘æ¡£æ¡ˆç´¢å¼•ï¼‰åŒ…å«æ¯ä¸ªå¼•ç”¨å•è¯çš„æ–‡æ¡£çš„åˆ—è¡¨ã€‚&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªå•è¯çš„æ°´å¹³åå‘ç´¢å¼•ï¼ˆæˆ–è€…å®Œå…¨åå‘ç´¢å¼•ï¼‰åˆåŒ…å«æ¯ä¸ªå•è¯åœ¨ä¸€ä¸ªæ–‡æ¡£ä¸­çš„ä½ç½®ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…¶å®å¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯æŠŠæˆ‘ä»¬ä»¥å‰è®¾è®¡è¡¨çš„é‚£ç§æŠŠæ–‡ç« å¯¹åº”é‡Œé¢æœ‰å“ªäº›å•è¯çš„ç»“æ„ï¼Œå€’è¿‡æ¥ï¼Œå˜æˆä¸€ä¸ªå•è¯ä¸è¢«åŒ…å«åœ¨å“ªäº›æ–‡ç« ä¸­çš„å¯¹åº”å…³ç³»ï¼Œå½“æˆ‘ä»¬æœç´¢ä¸€ä¸ªå•è¯çš„æ—¶å€™å°±èƒ½å¿«é€Ÿå¾—åˆ°åŒ…å«è¿™ä¸ªå•è¯çš„æ–‡ç« åˆ—è¡¨æ¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸¾ä¸ªä¾‹å­ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ¯”æ–¹è¯´ä¸‹é¢è¿™å¼ è¡¨&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 92; 
			flex-basis: 220px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/es_principle/Untitled2.png&#34; data-size=&#34;323x351&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/es_principle/Untitled2.png&#34;
			width=&#34;323&#34;
			height=&#34;351&#34;
			srcset=&#34;https://ccqstark.github.io/p/es_principle/Untitled2_hua72aa8e6b64f1adb079c95b16fc1620c_31464_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/es_principle/Untitled2_hua72aa8e6b64f1adb079c95b16fc1620c_31464_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
å¯¹directå­—æ®µåˆ©ç”¨å€’æ’ç´¢å¼•ï¼Œå˜æˆï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 107; 
			flex-basis: 258px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/es_principle/Untitled3.png&#34; data-size=&#34;495x459&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/es_principle/Untitled3.png&#34;
			width=&#34;495&#34;
			height=&#34;459&#34;
			srcset=&#34;https://ccqstark.github.io/p/es_principle/Untitled3_hu1a0087a5c8443441516afb4eced10602_41097_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/es_principle/Untitled3_hu1a0087a5c8443441516afb4eced10602_41097_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
é‚£åªè¦æˆ‘ä»¬æƒ³æŸ¥frontendå¯¹åº”æœ‰å“ªäº›äººï¼Œå°±å¯ä»¥ç›´æ¥è·å¾—ä»–ä»¬çš„idåˆ—è¡¨[21,16,54]ï¼Œå¦‚æœæƒ³æŸ¥bossæœ‰å“ªäº›äººï¼Œå°±å¯ä»¥å¾—åˆ°[67,98]ã€‚è¿™æ ·å°±å¯ä»¥å¾ˆå¿«æ£€ç´¢åˆ°æˆ‘ä»¬æƒ³è¦åˆ°ç»“æœï¼Œè€Œä¸ç”¨è¿›è¡Œå…¨è¡¨çš„æœç´¢ã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºä¸Šé¢çš„å€’æ’è¡¨ï¼Œæˆ‘ä»¬æŠŠå…¶ä¸­æ¯ä¸€é¡¹ç§°ä¸º&lt;code&gt;Term&lt;/code&gt;ï¼Œè¢«ç´¢å¼•çš„é‚£ä¸€åˆ—ä¹Ÿå°±æ˜¯å®ä¾‹çš„directå­—æ®µä¸º&lt;code&gt;Term Dictionary&lt;/code&gt; ï¼Œå¯¹åº”è¢«æ£€ç´¢å‡ºæ¥çš„id_listå­—æ®µä¸º&lt;code&gt;Posting List&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;è¢«æ£€ç´¢çš„directå¦‚æœæŒ‰é¡ºåºæ’åˆ—çš„è¯å°±å¯ä»¥ç”¨äºŒåˆ†æœç´¢å¿«é€Ÿæ‰¾å‡ºï¼Œæˆ–è€…ä¹Ÿå¯ä»¥åœ¨å…¶ä¸Šå†åŠ ä¸€å±‚BTreeæ¥ç´¢å¼•ï¼Œæé«˜å…³é”®è¯æœ¬èº«çš„æœç´¢é€Ÿåº¦ã€‚&lt;/p&gt;
&lt;h3 id=&#34;term-index&#34;&gt;Term Index&lt;/h3&gt;
&lt;p&gt;å½“æ•°æ®é‡å¾ˆå¤§çš„æ—¶å€™ï¼ŒTerm Dictionaryä¹Ÿä¼šå˜å¾—å¾ˆå¤§ï¼Œæ— æ³•å®Œå…¨æ”¾å…¥å†…å­˜ï¼ˆesæœ¬èº«è¿è¡Œå·²ç»å ç”¨éå¸¸å¤§çš„å†…å­˜äº†ï¼‰ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å†åŠ ä¸€å±‚ç´¢å¼•å«&lt;code&gt;Term Index&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;esä½¿ç”¨ &lt;code&gt;Burst-Trie&lt;/code&gt; ç»“æ„æ¥å®ç°ï¼Œå®ƒæ˜¯å­—å…¸æ ‘ï¼ˆå‰ç¼€æ ‘ï¼‰&lt;code&gt;Trie&lt;/code&gt; çš„ä¸€ç§å˜ç§ï¼Œå®ƒä¸»è¦æ˜¯å°†åç¼€è¿›è¡Œäº†å‹ç¼©ï¼Œé™ä½äº†Trieçš„é«˜åº¦ï¼Œä»è€Œè·å–æ›´å¥½æŸ¥è¯¢æ€§èƒ½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 138; 
			flex-basis: 333px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/es_principle/Untitled4.png&#34; data-size=&#34;656x472&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/es_principle/Untitled4.png&#34;
			width=&#34;656&#34;
			height=&#34;472&#34;
			srcset=&#34;https://ccqstark.github.io/p/es_principle/Untitled4_hu4f32e137e35b5784fba3361a4454f69b_51474_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/es_principle/Untitled4_hu4f32e137e35b5784fba3361a4454f69b_51474_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
å¯ä»¥çœ‹åˆ°è¿™æ£µæ ‘çš„æ ¹èŠ‚ç‚¹ä¸ºç©ºï¼Œæ¥ä¸‹æ¥æ¯ä¸€å±‚æ˜¯å•è¯çš„ä»å¤´åˆ°ä½çš„é¡ºåºçš„å­—æ¯ï¼ŒæŸä¸€èŠ‚ç‚¹çš„å­èŠ‚ç‚¹è¿æ¥æ‰€æœ‰å•è¯ä¸­å¯èƒ½å‡ºç°çš„ä¸‹ä¸€ä¸ªå­—æ¯ï¼Œæ ¹æ®ä¸‹ä¸€ä¸ªå­—æ¯çš„å¯èƒ½çš„æƒ…å†µæ¥åˆ†å‰ï¼ŒåŒæ—¶å¤šä½™çš„åç¼€ä¹Ÿè¢«çœç•¥ã€‚æŸ¥è¯¢æ—¶å¯ä»¥å…ˆå°†Term Indexç¼“å­˜åˆ°å†…å­˜ä¸­ï¼Œæ®æ­¤æ‰¾åˆ°æˆ‘ä»¬è¦çš„Term Dictionaryå†å»è¯»ç£ç›˜ï¼Œå¯ä»¥å‡å°‘ç£ç›˜I/Oæ¬¡æ•°ã€‚&lt;/p&gt;
&lt;h2 id=&#34;è”åˆæŸ¥è¯¢åˆå¹¶&#34;&gt;è”åˆæŸ¥è¯¢åˆå¹¶&lt;/h2&gt;
&lt;p&gt;å½“æˆ‘ä»¬ç”¨esè¿›è¡Œè”åˆæŸ¥è¯¢æ—¶ï¼Œæ¯”å¦‚æŸ¥æ‰¾æ–¹å‘ä¸ºbackendä¸”å¹´ä»½ç­‰äº2019çš„äººï¼Œæˆ‘ä»¬åªéœ€è¦å¯¹directå’Œyearå­—æ®µåˆ†åˆ«ç”¨å€’æ’ç´¢å¼•æŸ¥æ‰¾å‡ºç»“æœé›†ï¼Œæœ€åå¯¹ç»“æœé›†è¿›è¡Œåˆå¹¶å°±è¡Œäº†ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨å…³ç³»å‹æ•°æ®åº“ä¸­æˆ‘ä»¬ä¸€èˆ¬ä¼šç”¨joinæ¥åˆå¹¶ä¸¤è¡¨ï¼Œè¿™é‡Œå†æ¬¡é­å°¸ä¸€ä¸‹MySQLï¼Œå®ƒçš„joinå®ç°æ€§èƒ½ä¹Ÿå¾ˆå·®ã€‚æ¯”å¦‚ä¸‹é¢è¿™æ ·çš„SQLï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;t2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;straight_join&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;t1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;on&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;t2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;t1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;straight_join&lt;/code&gt; ä¿è¯ä¼˜åŒ–å™¨ä¸æ”¹å˜é©±åŠ¨è¡¨ï¼Œç”¨&lt;code&gt;Index Nested-Loop Join&lt;/code&gt; ç®—æ³•æ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ä» t2 è¡¨ä¸­è¯»å–ä¸€è¡Œæ•°æ® L2&lt;/li&gt;
&lt;li&gt;ä½¿ç”¨L2çš„ a å­—æ®µï¼Œå» t1 è¡¨ä¸­ä½œä¸ºæ¡ä»¶è¿›è¡ŒæŸ¥è¯¢&lt;/li&gt;
&lt;li&gt;å–å‡º t1 ä¸­æ»¡è¶³æ¡ä»¶çš„è¡Œï¼Œ è·Ÿ L2ç»„æˆç›¸åº”çš„è¡Œï¼Œæˆä¸ºç»“æœé›†çš„ä¸€éƒ¨åˆ†&lt;/li&gt;
&lt;li&gt;é‡å¤æ‰§è¡Œï¼Œç›´åˆ°æ‰«æå®Œ t2 è¡¨&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ‰€ä»¥é˜¿é‡Œå¼€å‘è€…è§„èŒƒç¦æ­¢ä¸‰å¼ è¡¨ä»¥ä¸Šçš„ join æ“ä½œï¼Œæ˜¯æœ‰åŸå› æ»´ã€‚&lt;/p&gt;
&lt;p&gt;è€ŒElasticsearchä½¿ç”¨è·³è¡¨&lt;code&gt;Skip List&lt;/code&gt;å’Œä½å›¾&lt;code&gt;Bitset&lt;/code&gt;æ¥åˆå¹¶ç»“æœé›†ï¼Œä¸‹é¢ä»‹ç»ä¸€ä¸‹è¿™ä¸¤ç§æ–¹æ³•ã€‚&lt;/p&gt;
&lt;h3 id=&#34;skip-liståˆå¹¶ç­–ç•¥&#34;&gt;Skip Liståˆå¹¶ç­–ç•¥&lt;/h3&gt;
&lt;p&gt;è¯´åˆ°è·³è¡¨ï¼Œæˆ‘ä»¬é¦–å…ˆè®²ä¸€ä¸‹æ™®é€šçš„é“¾è¡¨ï¼Œå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 556; 
			flex-basis: 1335px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/es_principle/Untitled5.png&#34; data-size=&#34;1024x184&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/es_principle/Untitled5.png&#34;
			width=&#34;1024&#34;
			height=&#34;184&#34;
			srcset=&#34;https://ccqstark.github.io/p/es_principle/Untitled5_hu4f00d3328f98b6b5ea1266a13c82514a_12332_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/es_principle/Untitled5_hu4f00d3328f98b6b5ea1266a13c82514a_12332_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
å›¾ä¸­çš„é“¾è¡¨é™¤äº†é¦–ä½èŠ‚ç‚¹ä¹‹å¤–ï¼Œå…¶å®ƒèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä½†æ˜¯ç”±äºä¸æ˜¯é¡ºåºå­˜å‚¨ï¼Œæˆ‘ä»¬æ— æ³•ä»å…¶ä¸­ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹æ¨ç®—å‡ºå…¶å®ƒä»»æ„ä¸€ä¸ªèŠ‚ç‚¹çš„ä½ç½®ï¼ˆé™¤éæ˜¯å®ƒæŒ‡å‘çš„ä¸‹ä¸€èŠ‚ç‚¹ï¼‰ã€‚å› æ­¤ç”¨è¿™ä¸ªæ•°æ®ç»“æ„æ¥å¯»æ‰¾æŸä¸€èŠ‚ç‚¹æ•ˆç‡åä½ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åè¯´è·³è¡¨&lt;code&gt;Skip List&lt;/code&gt;ï¼Œå®é™…ä¸Šæ˜¯åœ¨é“¾è¡¨çš„åŸºç¡€ä¸Šå¤šåŠ äº†å‡ å±‚ç´¢å¼•ï¼Œä½¿å¾—æŸ¥è¯¢æ•ˆç‡åŠ å¿«ï¼Œå¦‚å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 232; 
			flex-basis: 558px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/es_principle/Untitled6.png&#34; data-size=&#34;1030x443&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/es_principle/Untitled6.png&#34;
			width=&#34;1030&#34;
			height=&#34;443&#34;
			srcset=&#34;https://ccqstark.github.io/p/es_principle/Untitled6_hu961a20333dfd2ebcf6c70d2469c654fc_24717_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/es_principle/Untitled6_hu961a20333dfd2ebcf6c70d2469c654fc_24717_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
æˆ‘ä»¬åœ¨åŸæ¥çš„é“¾è¡¨ä¸Šå¤šåŠ äº†ä¸‰å±‚ï¼Œè€Œä¸Šé¢çš„æ¯ä¸€å±‚å„èŠ‚ç‚¹ä¹‹é—´çš„è·ç¦»éƒ½åœ¨é€çº§é€’å¢ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯æ¬¡è·¨åˆ°æœ¬å±‚çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸­é—´è·³è·ƒçš„ç›¸å¯¹ä¸åº•å±‚çš„èŠ‚ç‚¹æ•°è¶Šæ¥è¶Šå¤šï¼Œæ‰€ä»¥å«è·³è¡¨ã€‚åˆ©ç”¨è¿™ç§æ•°æ®ç»“æ„çš„ç‰¹æ€§ï¼Œæˆ‘ä»¬åœ¨éå†åŸé“¾è¡¨çš„æ—¶å€™å°±å¯ä»¥åˆ©ç”¨ä¸Šé¢çš„ç´¢å¼•æ¥æ¯æ¬¡å¤šè·³å‡ ä¸ªèŠ‚ç‚¹ï¼Œä»è€ŒåŠ å¿«é€Ÿåº¦ã€‚&lt;/p&gt;
&lt;p&gt;ESåˆ©ç”¨Skip Listè¿›è¡Œåˆå¹¶ç»“æœé›†çš„æ—¶å€™å°±æ˜¯ä»ä¸Šå¾€ä¸‹ï¼Œæ‰¾åˆ°èŠ‚ç‚¹å€¼å¤§äºç­‰äºç›®æ ‡å€¼çš„æœ€å°èŠ‚ç‚¹ï¼Œå¦‚æœè¿˜æ˜¯å¤§äºç›®æ ‡å€¼ï¼Œé‚£å°±å¾€ä¸‹ä¸€å±‚ï¼Œç›¸å½“äºå¢åŠ æŸ¥æ‰¾ç²¾åº¦ã€‚ä¾‹å¦‚æˆ‘ç°åœ¨è¦æ‰¾çš„ç›®æ ‡å€¼ä¸º2ï¼Œä»æœ€ä¸Šä¸€å±‚å¼€å§‹æ‰¾ï¼Œè¿™å±‚æ˜¯0â€”&amp;gt;6ï¼Œ6æ˜æ˜¾å¤§äº2äº†ï¼Œåˆ°ä¸‹ä¸€å±‚ï¼›è¿™ä¸€å±‚æ˜¯0â€”&amp;gt;4â€”&amp;gt;6ï¼Œæ‰¾åˆ°4è¿˜æ˜¯å¤§äº2ï¼Œé‚£ç»§ç»­ä¸‹ä¸€å±‚ï¼›è¿™æ—¶æ˜¯0â€”&amp;gt;2â€”&amp;gt;4â€”&amp;gt;6ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ‰¾åˆ°ç›®æ ‡å€¼2äº†ã€‚&lt;/p&gt;
&lt;p&gt;åˆ©ç”¨è·³è¡¨ï¼ŒESåœ¨æ‰¾ä¸¤ä¸ªç»“æœé›†çš„äº¤é›†çš„æ—¶å€™å°±ä¼šå¿«å¾ˆå¤šã€‚&lt;/p&gt;
&lt;h3 id=&#34;roaring-bitsetåˆå¹¶ç­–ç•¥&#34;&gt;Roaring Bitsetåˆå¹¶ç­–ç•¥&lt;/h3&gt;
&lt;p&gt;é™¤äº†ç”¨Skip Listæ¥åŠ å¿«åˆå¹¶ä¹‹å¤–ï¼ŒESè¿˜ä¼šæŠŠä¸åŒæ¡ä»¶æŸ¥è¯¢çš„ç»“æœé›†Posting Listæ”¾åˆ°å†…å­˜ä¸­ç¼“å­˜ã€‚å¦‚æœç›´æ¥ç”¨æ™®é€šçš„æ•°æ®ç»“æ„ï¼Œæ¯”å¦‚æ•°ç»„è¿™æ ·çš„ï¼Œå°±å…¶å®å¾ˆæ¶ˆè€—ç©ºé—´ï¼›å¦‚æœç”¨Bitsetï¼Œå¯èƒ½ä¼šæœ‰è¿‡äºç¨€ç–è€Œå¯¼è‡´çš„ç©ºé—´æµªè´¹ã€‚æ‰€ä»¥ESé‡‡ç”¨å‹ç¼©æ•ˆç‡æ›´é«˜çš„&lt;code&gt;Roaring Bitmap&lt;/code&gt;æ¥å­˜å‚¨ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;è¿™é‡Œæ’æ’­ä¸€é“é¢è¯•é¢˜ï¼šç»™å®šå«æœ‰40äº¿ä¸ªä¸é‡å¤çš„ä½äº[0, 2^32 - 1]åŒºé—´å†…çš„æ•´æ•°çš„é›†åˆï¼Œå¦‚ä½•å¿«é€Ÿåˆ¤å®šæŸä¸ªæ•°æ˜¯å¦åœ¨è¯¥é›†åˆå†…ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚æœæˆ‘ä»¬è¦ä½¿ç”¨ unsigned long æ•°ç»„æ¥å­˜å‚¨å®ƒçš„è¯ï¼Œä¹Ÿå°±éœ€è¦æ¶ˆè€— 40äº¿ * 32 ä½ =160äº¿Byteï¼Œå¤§çº¦æ˜¯ 16000 MBã€‚
å¦‚æœä½¿ç”¨ä½å›¾ Bitset æ¥å­˜å‚¨çš„è¯ï¼Œå³æŸä¸ªæ•°å¦‚æœå­˜åœ¨çš„è¯ï¼Œå°±å°†å®ƒå¯¹åº”çš„ä½å›¾å†…çš„æ¯”ç‰¹ç½®ä¸º1ï¼Œå¦åˆ™ä¿æŒä¸º0ã€‚è¿™æ ·å¤šå°‘ä¸ªæ ‘å°±åªéœ€è¦æ¶ˆè€—å¤šå°‘bitæ¥å­˜ï¼Œè¿™é‡Œæ˜¯ 2 ^ 32 ä½ = 512 MBï¼Œè¿™å¯åªæœ‰åŸæ¥çš„ 3.2 % å·¦å³ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Roaring Bitmapåˆæ˜¯å¦‚ä½•æ¥è§£å†³ç¨€ç–çš„é—®é¢˜çš„å‘¢ï¼Ÿç›´æ¥ä¸Šå›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 127; 
			flex-basis: 305px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/es_principle/Untitled7.png&#34; data-size=&#34;962x756&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/es_principle/Untitled7.png&#34;
			width=&#34;962&#34;
			height=&#34;756&#34;
			srcset=&#34;https://ccqstark.github.io/p/es_principle/Untitled7_hufcb748e7c079b190c8a55a1ee7b111d9_56629_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/es_principle/Untitled7_hufcb748e7c079b190c8a55a1ee7b111d9_56629_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
å¦‚å›¾ä¸­æ‰€ç¤ºï¼Œæˆ‘ä»¬æŠŠå¾…å­˜æ•°é™¤ä»¥65535ï¼Œå¹¶æ ¹æ®æ‰€å¾—å•†å’Œä½™æ•°åˆ†ç»„ã€‚ç„¶åæŠŠç›¸åŒå•†çš„ç»„åˆ†åˆ°åŒä¸€ä¸ªå­˜å‚¨å•å…ƒï¼Œè¿™ä¸ªå­˜å‚¨å•å…ƒç§°ä¸º&lt;code&gt;container&lt;/code&gt;ï¼Œæœ€ååªéœ€è¦å­˜å„containerä¸­çš„ä½™æ•°å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥RoaringBitmapå…¶å®å°±æ˜¯å¾ˆå¤šcontainerçš„é›†åˆï¼Œå¦‚æœæ˜¯ä¸€ä¸ª32ä½unsigned longçš„è¯ï¼Œé‚£æœ€å¤šå°±æœ‰2^32 / 65535 = 65535ä¸ªcontainerã€‚&lt;/p&gt;
&lt;p&gt;å¯¹äºå…¶ä¸­çš„ä½™æ•°çš„å­˜å‚¨ï¼ˆä½16ä½ï¼‰ï¼Œåˆ™æ˜¯ä»¥ä¸‹çš„å­˜å‚¨è§„åˆ™ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä½™æ•°å°äº 2 ^ 12 æ¬¡æ–¹ï¼ˆ4096ï¼‰æ—¶ï¼Œä½¿ç”¨unsigned shortç±»å‹çš„æœ‰åºæ•°ç»„æ¥å­˜å‚¨ï¼Œæœ€å¤§æ¶ˆè€—ç©ºé—´ä¸ºÂ 8 KBã€‚&lt;/li&gt;
&lt;li&gt;ä½™æ•°å¤§äº 4096 æ—¶ï¼Œåˆ™ä½¿ç”¨å¤§å°ä¸º 2 ^ 16 æ¬¡æ–¹çš„æ™®é€š bitset æ¥å­˜å‚¨ï¼Œå›ºå®šæ¶ˆè€— 8 KBã€‚æœ‰äº›æ—¶å€™ä¹Ÿä¼šå¯¹ bitset è¿›è¡Œrun-length encodingå‹ç¼©ï¼Œè¿›ä¸€æ­¥ç¼©å°å ç”¨å†…å­˜ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ESåˆ©ç”¨Roaring Bitsetç¼“å­˜ä¸åŒæ¡ä»¶æŸ¥å‡ºæ¥çš„Posting Listï¼Œæœ€åé€šè¿‡ä¸æ“ä½œåˆå¹¶å‡ºæœ€ç»ˆç»“æœé›†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å°ç»“&#34;&gt;å°ç»“&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ElasticSearchæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼å¼€æºæœç´¢å¼•æ“ï¼Œæ”¯æŒå¤šç§è¯­è¨€å®¢æˆ·ç«¯ï¼Œæ‹¥æœ‰ä¸°å¯Œçš„åº”ç”¨åœºæ™¯ï¼Œå—åˆ°è®¸å¤šä¼ä¸šçš„é’çã€‚&lt;/li&gt;
&lt;li&gt;ElasticSearchæ–¹ä¾¿éƒ¨ç½²é›†ç¾¤ï¼Œä½¿ç”¨RESTfulé£æ ¼ç­‰APIè¿›è¡Œè°ƒç”¨ã€‚&lt;/li&gt;
&lt;li&gt;MySQLçš„LIKEå­—å¥åªåœ¨ç‰¹å®šæƒ…å†µä¸‹æ‰ä½¿ç”¨ç´¢å¼•ï¼Œä¸”æ€§èƒ½ä¸é«˜ï¼Œæ— æ³•åº”å¯¹å¤§æ•°æ®äº®æœç´¢ä»»åŠ¡ã€‚&lt;/li&gt;
&lt;li&gt;ElasticSearchä½¿ç”¨å€’æ’ç´¢å¼•ä¸Term Indexæ¥æé«˜æœç´¢æ•ˆç‡ï¼Œå‡å°‘ç£ç›˜I/Oã€‚&lt;/li&gt;
&lt;li&gt;ElasticSearchä½¿ç”¨Skip Listå’ŒRoaring Bitsetæ¥åˆå¹¶å¤æ‚æ¡ä»¶æŸ¥è¯¢çš„ç»“æœé›†ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;å‚è€ƒæ–‡ç« &#34;&gt;å‚è€ƒæ–‡ç« &lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://mp.weixin.qq.com/s/LU77ToU4b7O8WqjRRf1AqA&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://mp.weixin.qq.com/s/LU77ToU4b7O8WqjRRf1AqA&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.cnblogs.com/Howinfun/p/12449975.html?spm=a2c6h.12873639.0.0.7b354fc6zDKM52&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.cnblogs.com/Howinfun/p/12449975.html?spm=a2c6h.12873639.0.0.7b354fc6zDKM52&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://ccqstark.github.io/p/es_docker/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://ccqstark.github.io/p/es_docker/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class=&#34;link&#34; href=&#34;https://arxiv.org/pdf/1402.6407.pdf&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://arxiv.org/pdf/1402.6407.pdf&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Dubbo &#43; ZooKeeper åŸºç¡€å…¥é—¨</title>
        <link>https://ccqstark.github.io/p/dubbo_zookeeper/</link>
        <pubDate>Wed, 24 Feb 2021 23:01:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/dubbo_zookeeper/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/dubbo_zookeeper/dubbo-zookeeper.png" alt="Featured image of post Dubbo &#43; ZooKeeper åŸºç¡€å…¥é—¨" /&gt;&lt;h2 id=&#34;ç®€ä»‹&#34;&gt;ç®€ä»‹&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;Dubbo&lt;/code&gt;åŸæœ¬æ˜¯é˜¿é‡Œçš„å¼€æºæ¡†æ¶ï¼Œæœ‰å¾ˆå¤šè‘—åå‚å•†éƒ½åœ¨ç”¨ã€‚ä½†åœ¨14å¹´åœæ›´ï¼Œä¹‹åSpring Cloudå¤§çº¢å¤§ç´«ï¼ŒDubboç»ˆäºåœ¨17å¹´å†åº¦æ›´æ–°ï¼Œå¹¶åœ¨18å¹´åˆå¹¶å½“å½“ç½‘çš„åŸºäºå®ƒå¼€å‘å‡ºçš„DubboXæ¨å‡ºäº†2.6ç‰ˆæœ¬ã€‚ä¹‹ååœ¨18å¹´é™¤å¤•å¤œï¼Œé˜¿é‡Œæ­£å¼å°†DubboæçŒ®ç»™äº†è‘—åå¼€æºç»„ç»‡Apacheï¼Œæˆä¸ºApacheä¼—å¤šå¼€æºé¡¹ç›®ä¹‹ä¸€ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://dubbo.apache.org/zh/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Apache Dubbo&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ZooKeeper&lt;/code&gt; ä¹Ÿæ˜¯ Apache è½¯ä»¶åŸºé‡‘ä¼šçš„ä¸€ä¸ªè½¯ä»¶é¡¹ç›®ï¼Œå®ƒä¸ºå¤§å‹åˆ†å¸ƒå¼è®¡ç®—æä¾›å¼€æºçš„åˆ†å¸ƒå¼é…ç½®æœåŠ¡ã€åŒæ­¥æœåŠ¡å’Œå‘½åæ³¨å†Œã€‚&lt;/p&gt;
&lt;p&gt;ZooKeeper çš„æ¶æ„é€šè¿‡å†—ä½™æœåŠ¡å®ç°é«˜å¯ç”¨æ€§ã€‚&lt;/p&gt;
&lt;p&gt;Zookeeper çš„è®¾è®¡ç›®æ ‡æ˜¯å°†é‚£äº›å¤æ‚ä¸”å®¹æ˜“å‡ºé”™çš„åˆ†å¸ƒå¼ä¸€è‡´æ€§æœåŠ¡å°è£…èµ·æ¥ï¼Œæ„æˆä¸€ä¸ªé«˜æ•ˆå¯é çš„åŸè¯­é›†ï¼Œå¹¶ä»¥ä¸€ç³»åˆ—ç®€å•æ˜“ç”¨çš„æ¥å£æä¾›ç»™ç”¨æˆ·ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªå…¸å‹çš„åˆ†å¸ƒå¼æ•°æ®ä¸€è‡´æ€§çš„è§£å†³æ–¹æ¡ˆï¼Œåˆ†å¸ƒå¼åº”ç”¨ç¨‹åºå¯ä»¥åŸºäºå®ƒå®ç°è¯¸å¦‚æ•°æ®å‘å¸ƒ/è®¢é˜…ã€è´Ÿè½½å‡è¡¡ã€å‘½åæœåŠ¡ã€åˆ†å¸ƒå¼åè°ƒ/é€šçŸ¥ã€é›†ç¾¤ç®¡ç†ã€Master é€‰ä¸¾ã€åˆ†å¸ƒå¼é”å’Œåˆ†å¸ƒå¼é˜Ÿåˆ—ç­‰åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://zookeeper.apache.org/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Apache ZooKeeper&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;å®‰è£…&#34;&gt;å®‰è£…&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨Dubboå¼•å…¥ç›¸å…³ä¾èµ–å³å¯ï¼Œä¸‹é¢å…·ä½“å®è·µä¼šæ¶‰åŠã€‚&lt;/p&gt;
&lt;p&gt;ZooKeeperå¯ä»¥å»å®˜ç½‘ä¸‹è½½å®‰è£…ï¼Œè¿™é‡Œæˆ‘è¿˜æ˜¯ç”¨&lt;code&gt;docker&lt;/code&gt;åœ¨LinuxæœåŠ¡å™¨ä¸Šå®‰è£…ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ‹‰å–é•œåƒ&lt;/span&gt;
docker pull zookeeper

&lt;span class=&#34;c1&#34;&gt;# å¯åŠ¨&lt;/span&gt;
docker run -d &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-p 2181:2181 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-v /home/zookeeper/data/:/data/ &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--name&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;zookeeper  &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--privileged zookeeper

&lt;span class=&#34;c1&#34;&gt;# å¦‚æœæƒ³è¿è¡Œè‡ªå¸¦çš„å®¢æˆ·ç«¯å¯ä»¥ï¼š&lt;/span&gt;
docker &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it zookeeper bash
&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; bin
./zkCli.sh
&lt;span class=&#34;c1&#34;&gt;# ä¹‹åå°±å¯ä»¥ä½¿ç”¨ç›¸å…³å‘½ä»¤äº†&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®‰è£…ZooInspectoræ¥å¯è§†åŒ–æŸ¥çœ‹zookeeper&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://issues.apache.org/jira/secure/attachment/12436620/ZooInspector.zip%ef%bc%9b&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;&lt;/a&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ä¸‹è½½åè¿›å…¥buildç›®å½•è¿è¡ŒjaråŒ…ï¼Œè¾“å…¥zookeeperçš„åœ°å€å³å¯è¿æ¥&lt;/span&gt;
java -jar zookeeper-dev-ZooInspector.jar
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 137; 
			flex-basis: 330px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/dubbo_zookeeper/Untitled.png&#34; data-size=&#34;1056x768&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/dubbo_zookeeper/Untitled.png&#34;
			width=&#34;1056&#34;
			height=&#34;768&#34;
			srcset=&#34;https://ccqstark.github.io/p/dubbo_zookeeper/Untitled_hu4c9a62aa768df2fd487a8326f02f26eb_96669_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/dubbo_zookeeper/Untitled_hu4c9a62aa768df2fd487a8326f02f26eb_96669_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;ä½¿ç”¨dubbo-adminå¯è§†åŒ–ç›‘æ§æœåŠ¡&#34;&gt;ä½¿ç”¨dubbo-adminå¯è§†åŒ–ç›‘æ§æœåŠ¡&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;dubbo-admin&lt;/code&gt;æ˜¯ä¸€ä¸ªSpringbooté¡¹ç›®ï¼Œå¯ä»¥ç›‘æ§æˆ‘ä»¬æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒåˆ°æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;åˆ°githubä¸Šä¸‹è½½&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/apache/dubbo-admin&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;apache/dubbo-admin&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è§£å‹ååœ¨application.propertiesä¸­ä¿®æ”¹zookeeperåœ°å€&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;n&#34;&gt;dubbo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;registry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;address&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;zookeeper&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//[ip]:2181
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹‹åç”¨mvnå‘½ä»¤æ‰“åŒ…å†è¿è¡ŒjaråŒ…å³å¯ï¼Œä¹Ÿå¯ä»¥ç›´æ¥åœ¨ideaé‡Œæ‰“åŒ…&lt;/p&gt;
&lt;p&gt;è¿è¡Œåæµè§ˆå™¨ æ‰“å¼€&lt;code&gt;localhost:7001&lt;/code&gt; ï¼Œè¾“å…¥è´¦å·å¯†ç é»˜è®¤éƒ½ä¸ºrootï¼Œæ¥åˆ°ä¸»é¡µ&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 204; 
			flex-basis: 490px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/dubbo_zookeeper/Untitled1.png&#34; data-size=&#34;1955x956&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/dubbo_zookeeper/Untitled1.png&#34;
			width=&#34;1955&#34;
			height=&#34;956&#34;
			srcset=&#34;https://ccqstark.github.io/p/dubbo_zookeeper/Untitled1_hu8428c982ec4589bf24a1692d32c3f022_93969_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/dubbo_zookeeper/Untitled1_hu8428c982ec4589bf24a1692d32c3f022_93969_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
ä¸­é—´çš„æœç´¢æ¡†å¯ä»¥æœç´¢æœåŠ¡ã€åº”ç”¨ã€ipï¼Œèœå•æ ä¸Šä¹Ÿæœ‰å„ç§ç›‘æ§æœåŠ¡çš„æ–¹å¼ã€‚&lt;/p&gt;
&lt;h2 id=&#34;springboot-demo&#34;&gt;SpringBoot Demo&lt;/h2&gt;
&lt;p&gt;ç”¨ideaå»ºç«‹ä¸€ä¸ªç©ºé¡¹ç›®ï¼Œç„¶åæ·»åŠ ä¸¤ä¸ªModulesï¼Œéƒ½ä¸ºSpringbooté¡¹ç›®ã€‚&lt;/p&gt;
&lt;p&gt;ä¸€ä¸ªä½œä¸ºæœåŠ¡æä¾›è€…providerï¼Œä¸€ä¸ªä½œä¸ºæœåŠ¡æ¶ˆè´¹è€…consumer&lt;/p&gt;
&lt;p&gt;ä¸¤è€…éƒ½æ·»åŠ ä»¥ä¸‹mavenä¾èµ–&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- https://mvnrepository.com/artifact/org.apache.dubbo/dubbo-spring-boot-starter --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.dubbo&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;dubbo-spring-boot-starter&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.7.8&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;

&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- https://mvnrepository.com/artifact/com.github.sgroschupf/zkclient --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;com.github.sgroschupf&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;zkclient&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;0.1&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;exclusions&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;nt&#34;&gt;&amp;lt;exclusion&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;zookeeper&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.zookeeper&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;nt&#34;&gt;&amp;lt;/exclusion&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;/exclusions&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;

&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- https://mvnrepository.com/artifact/org.apache.curator/curator-framework --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.curator&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;curator-framework&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.12.0&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;exclusions&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;nt&#34;&gt;&amp;lt;exclusion&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;zookeeper&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.zookeeper&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;nt&#34;&gt;&amp;lt;/exclusion&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;/exclusions&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;

&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- https://mvnrepository.com/artifact/org.apache.curator/curator-recipes --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.curator&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;curator-recipes&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.12.0&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;

&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- https://mvnrepository.com/artifact/org.apache.zookeeper/zookeeper --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.zookeeper&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;zookeeper&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;3.6.2&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;exclusions&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;nt&#34;&gt;&amp;lt;exclusion&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;log4j&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;log4j&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;nt&#34;&gt;&amp;lt;/exclusion&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;nt&#34;&gt;&amp;lt;exclusion&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.slf4j&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;slf4j-log4j12&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;nt&#34;&gt;&amp;lt;/exclusion&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;/exclusions&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…¶ä¸­&lt;code&gt;Curator&lt;/code&gt;æ˜¯zookeeperåˆ†å¸ƒå¼åè°ƒæœåŠ¡çš„javaå®¢æˆ·ç«¯åº“ï¼Œå®ƒåŒ…è£…äº†ä¸€ç³»åˆ—æ“ä½œzkçš„é«˜çº§APIå’Œå®ç”¨åº“ï¼Œæ˜¯çš„æ“ä½œzkå˜å¾—æ›´åŠ å®¹æ˜“å’Œå¯é ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åœ¨provideré¡¹ç›®ä¸­åˆ›å»ºå¹¶æ³¨å†ŒæœåŠ¡&#34;&gt;åœ¨provideré¡¹ç›®ä¸­åˆ›å»ºå¹¶æ³¨å†ŒæœåŠ¡&lt;/h3&gt;
&lt;p&gt;åŒ…ç›®å½•éƒ½æ˜¯å°±ç›´æ¥com.xxxï¼Œä¸è¦å¤šä¸€çº§ï¼Œç„¶ååœ¨provideré¡¹ç›®çš„com.xxxè·¯å¾„ä¸‹åˆ›å»ºä¸€ä¸ªserviceç›®å½•ï¼Œå†™ä¸€ä¸ªç®€å•çš„æœåŠ¡æ¥å£&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.service&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;TicketService&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getTicket&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åæ˜¯å…¶å®ç°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.service.TicketService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.apache.dubbo.config.annotation.DubboService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.stereotype.Component&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;nd&#34;&gt;@DubboService&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// æœåŠ¡æ³¨å†Œæ³¨è§£
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;@Component&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;TicketServiceImpl&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;implements&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TicketService&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getTicket&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;dubbo+zookeeper!&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…¶ä¸­æ³¨è§£&lt;code&gt;@DubboService&lt;/code&gt; ç”¨æ¥æŠŠè¯¥æœåŠ¡æ³¨å†Œåˆ°zookeeperä¸­&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹provideré¡¹ç›®çš„application.properties&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;æœåŠ¡åº”ç”¨åç§°&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;dubbo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;application&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;provider&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;server&lt;/span&gt;
&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;æ³¨å†Œä¸­å¿ƒåœ°å€&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;dubbo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;registry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;address&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;zookeeper&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//[ip]:2181
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;è¢«æ³¨å†Œçš„æœåŠ¡&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;dubbo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;scan&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;base&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;packages&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;com&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;ccqstark&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;service&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå¯åŠ¨é¡¹ç›®ï¼Œå°±å¯ä»¥åœ¨ä¹‹å‰å®‰è£…çš„dubboä¸­å‘ç°è¯¥æœåŠ¡äº†&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 177; 
			flex-basis: 425px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/dubbo_zookeeper/Untitled2.png&#34; data-size=&#34;628x354&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/dubbo_zookeeper/Untitled2.png&#34;
			width=&#34;628&#34;
			height=&#34;354&#34;
			srcset=&#34;https://ccqstark.github.io/p/dubbo_zookeeper/Untitled2_hu2ef583d0d6cb487fedab8b1c4af81a21_30689_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/dubbo_zookeeper/Untitled2_hu2ef583d0d6cb487fedab8b1c4af81a21_30689_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;åœ¨consumeré¡¹ç›®ä¸­è°ƒç”¨æœåŠ¡&#34;&gt;åœ¨consumeré¡¹ç›®ä¸­è°ƒç”¨æœåŠ¡&lt;/h3&gt;
&lt;p&gt;é…ç½®æ–‡ä»¶ä¸­å¢åŠ é…ç½®&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;æ¶ˆè´¹è€…æš´éœ²çš„æœåŠ¡åº”ç”¨åç§°&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;dubbo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;application&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;consumer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;server&lt;/span&gt;
&lt;span class=&#34;err&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;æ³¨å†Œä¸­å¿ƒåœ°å€&lt;/span&gt;
&lt;span class=&#34;n&#34;&gt;dubbo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;registry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;address&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;zookeeper&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//[ip]:2181
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åŒæ ·åˆ›å»ºcom.xxx.serviceåŒ…ï¼ŒæŠŠprovideré‡Œçš„TicketServiceçš„æ¥å£æ–‡ä»¶å¤åˆ¶è¿‡æ¥&lt;/p&gt;
&lt;p&gt;åˆ›å»ºä¸€ä¸ªè°ƒç”¨æ­¤æœåŠ¡çš„ä¾‹å­&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.apache.dubbo.config.annotation.DubboReference&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.stereotype.Service&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;nd&#34;&gt;@Service&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;UserService&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@DubboReference&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// è·å–æ³¨å†Œä¸­å¿ƒä¸­çš„æœåŠ¡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;TicketService&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ticketService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;buyTicket&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ticket&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ticketService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getTicket&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;è°ƒç”¨providerçš„æœåŠ¡ï¼š&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ticket&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨è§£&lt;code&gt;@DubboReference&lt;/code&gt; ç”¨äºè·å–æ³¨å†Œä¸­å¿ƒçš„æœåŠ¡&lt;/p&gt;
&lt;p&gt;å†™ä¸ªå•å…ƒæµ‹è¯•&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@SpringBootTest&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;ConsumerServerApplicationTests&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;UserService&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;userService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@Test&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;contextLoads&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;userService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;buyTicket&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿è¡Œä¹‹åå°±å¯ä»¥å‘ç°consumeré¡¹ç›®è°ƒç”¨providerçš„æœåŠ¡æˆåŠŸï¼&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 325; 
			flex-basis: 781px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/dubbo_zookeeper/Untitled3.png&#34; data-size=&#34;798x245&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/dubbo_zookeeper/Untitled3.png&#34;
			width=&#34;798&#34;
			height=&#34;245&#34;
			srcset=&#34;https://ccqstark.github.io/p/dubbo_zookeeper/Untitled3_huf1aa39a1f5831f563e82bbaed8909fd5_29247_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/dubbo_zookeeper/Untitled3_huf1aa39a1f5831f563e82bbaed8909fd5_29247_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
æœ€åŸºæœ¬çš„æœåŠ¡æ³¨å†Œå‘ç°ä¸rpcè°ƒç”¨å¤§æ¦‚æ˜¯demoè¿™æ ·ã€‚&lt;/p&gt;
&lt;p&gt;å‚è€ƒè‡ªï¼š
&lt;a class=&#34;link&#34; href=&#34;https://www.bilibili.com/video/BV1PE411i7CV?p=60&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;bilibili&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>æµ…è°ˆåˆ†å¸ƒå¼ç³»ç»Ÿä¸RPC</title>
        <link>https://ccqstark.github.io/p/distributed_rpc/</link>
        <pubDate>Wed, 24 Feb 2021 23:01:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/distributed_rpc/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/distributed_rpc/dis-rpc.png" alt="Featured image of post æµ…è°ˆåˆ†å¸ƒå¼ç³»ç»Ÿä¸RPC" /&gt;&lt;p&gt;éšç€äº’è”ç½‘çš„å‘å±•ï¼ŒWebåº”ç”¨ä¸æœåŠ¡çš„è§„æ¨¡ä¸æ–­æ‰©å¤§ï¼Œæ‰èƒ½æ»¡è¶³ä¸æ–­å¢åŠ çš„ç”¨æˆ·å’Œéœ€æ±‚ã€‚è€ŒåŸæ¥åªç”¨ä¸€å°æœåŠ¡å™¨æ¥éƒ¨ç½²çš„å•æœºåº”ç”¨çš„æ–¹å¼å·²ç»æ»¡è¶³ä¸äº†å¦‚æ­¤å¤§çš„éœ€æ±‚ã€‚ä¸ºäº†æé«˜æ€§èƒ½ï¼Œå•æœºå‘å±•ä¸ºåˆ†å¸ƒå¼æ¶æ„ï¼Œç®€å•æ¥è¯´å°±æ˜¯é€šè¿‡å¢åŠ æœåŠ¡å™¨çš„æ•°é‡æ¥å¼¥è¡¥æ€§èƒ½ä¸Šçš„ä¸è¶³ï¼Œå½“ç„¶åŒæ—¶ä¹Ÿå¸¦æ¥äº†ä¸€äº›é—®é¢˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;åˆ†å¸ƒå¼ç³»ç»Ÿ&#34;&gt;åˆ†å¸ƒå¼ç³»ç»Ÿ&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;åˆ†å¸ƒå¼ç³»ç»Ÿï¼ˆdistributed systemï¼‰&lt;/code&gt;&lt;strong&gt;æ˜¯ç”±ä¸€ç»„ç½‘ç»œè¿›è¡Œé€šä¿¡ï¼Œä¸ºäº†å®Œæˆå…±åŒçš„ä»»åŠ¡è€Œåè°ƒå·¥ä½œçš„è®¡ç®—æœºèŠ‚ç‚¹ç»„æˆçš„ç³»ç»Ÿã€‚åˆ†å¸ƒå¼ç³»ç»Ÿæ˜¯ä¸ºäº†ç”¨å•ä½“æ€§èƒ½æ™®é€šçš„æœºå™¨å®Œæˆå•ä¸ªè®¡ç®—æœºæ— æ³•å®Œæˆçš„è®¡ç®—ã€å­˜å‚¨ä»»åŠ¡ï¼Œé€šè¿‡&lt;/strong&gt;åˆç†è°ƒåº¦&lt;/strong&gt;å„å°è®¡ç®—æœº&lt;strong&gt;å…±åŒåˆä½œ&lt;/strong&gt;æ¥æé«˜æ€§èƒ½ï¼Œå®Œæˆæ•°é‡æ›´å¤šã€ä½“é‡æ›´å¤§çš„ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 202; 
			flex-basis: 487px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/distributed_rpc/Untitled.png&#34; data-size=&#34;972x479&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/distributed_rpc/Untitled.png&#34;
			width=&#34;972&#34;
			height=&#34;479&#34;
			srcset=&#34;https://ccqstark.github.io/p/distributed_rpc/Untitled_hudf8b577edd8b7aaecaa9375bf2468e77_118247_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/distributed_rpc/Untitled_hudf8b577edd8b7aaecaa9375bf2468e77_118247_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
æ¯”å¦‚ç™¾åº¦æˆ–æ·˜å®è¿™æ ·ä½“é‡è§„æ¨¡éƒ½ååˆ†å¤§çš„åº”ç”¨ï¼Œä¸ºäº†æ»¡è¶³å¦‚æ­¤å¤§çš„ç”¨æˆ·æ•°é‡å’Œè¯·æ±‚å‹åŠ›ï¼ŒèƒŒåè‚¯å®šä¸æ­¢ä¸€å°è®¡ç®—æœºåœ¨æä¾›æœåŠ¡ï¼Œè€Œæ˜¯éƒ¨ç½²äº†&lt;strong&gt;è®¡ç®—æœºé›†ç¾¤&lt;/strong&gt;ï¼Œé€šè¿‡æå‡è®¡ç®—æœºçš„æ•°é‡æ¥æé«˜å¤„ç†æ•°æ®çš„èƒ½åŠ›ã€‚åœ¨æµé‡é«˜å³°æ—¶ï¼Œå¤§é‡çš„è¯·æ±‚å¯ä»¥è¢«å‡åŒ€åœ°åˆ†é…ç»™å„å°æœåŠ¡å™¨å»å¤„ç†ï¼Œä»è€Œé¿å…å…¶ä¸­ä¸€å°æœåŠ¡å™¨ç”±äºå‹åŠ›è¿‡å¤§è€Œå®•æœºï¼Œè¿™å°±æ˜¯&lt;code&gt;è´Ÿè½½å‡è¡¡&lt;/code&gt;ï¼Œä¹Ÿå°±æ˜¯&lt;code&gt;nginx&lt;/code&gt;å¯ä»¥åšçš„äº‹æƒ…ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 134; 
			flex-basis: 323px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/distributed_rpc/Untitled1.png&#34; data-size=&#34;1039x772&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/distributed_rpc/Untitled1.png&#34;
			width=&#34;1039&#34;
			height=&#34;772&#34;
			srcset=&#34;https://ccqstark.github.io/p/distributed_rpc/Untitled1_hue9a0c118e4e13f2f14b0c228c4f91c11_75625_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/distributed_rpc/Untitled1_hue9a0c118e4e13f2f14b0c228c4f91c11_75625_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
åŒæ—¶åº”ç”¨çš„å„ä¸ªæ¨¡å—ä¹Ÿå¯ä»¥åˆ†åˆ«éƒ¨ç½²åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼Œæ¯”å¦‚æ·˜å®è¿™æ ·çš„ç”µå•†é¡¹ç›®å¯ä»¥æŠŠ&lt;strong&gt;æœåŠ¡æ‹†åˆ†&lt;/strong&gt;æˆå•†å“ã€æ”¯ä»˜ã€è®¢å•ã€ç‰©æµç­‰ä¸åŒçš„æ¨¡å—ï¼Œä¸åŒæ¨¡å—å¯ä»¥éƒ¨ç½²åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Šã€‚å½“ä¸€ä¸ªæ¨¡å—éƒ¨ç½²åˆ°å¤šå°æœåŠ¡å™¨ä¸Šæ—¶ï¼Œå…¶ä¸­ä¸€å°å´©äº†ï¼Œè¿˜æœ‰å…¶ä»–çš„æœåŠ¡å™¨å¯ä»¥æä¾›æœåŠ¡ï¼Œæé«˜äº†æœåŠ¡çš„ç¨³å®šæ€§ä¸é«˜å¯ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 152; 
			flex-basis: 366px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/distributed_rpc/Untitled2.png&#34; data-size=&#34;626x410&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/distributed_rpc/Untitled2.png&#34;
			width=&#34;626&#34;
			height=&#34;410&#34;
			srcset=&#34;https://ccqstark.github.io/p/distributed_rpc/Untitled2_hu3d6d9fafeb3f87ea29bdd7f69efb9f6b_133895_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/distributed_rpc/Untitled2_hu3d6d9fafeb3f87ea29bdd7f69efb9f6b_133895_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
è€Œå¯¹äºç”¨æˆ·æ¥è¯´ï¼Œä»–ä»¬éƒ½æ˜¯è®¿é—®ä¸€ä¸ªåŸŸåæ¥è·å–æœåŠ¡çš„ï¼Œæ‰€ä»¥å¯¹äºç”¨æˆ·æ¥è¯´æœåŠ¡è¿˜æ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œè€Œä¸éœ€è¦çŸ¥é“æ˜¯å“ªå°æœåŠ¡å™¨ä¸ºä»–ä»¬æä¾›äº†æœåŠ¡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;rpc&#34;&gt;RPC&lt;/h3&gt;
&lt;p&gt;ä¸‹å›¾æ˜¯&lt;strong&gt;Dubbo&lt;/strong&gt;å®˜æ–¹æ–‡æ¡£ä¸­çš„ä¸€å¼ å›¾ï¼Œè¯´æ˜äº†ç½‘ç«™åº”ç”¨çš„æ¶æ„æ¼”å˜&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 333; 
			flex-basis: 800px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/distributed_rpc/Untitled3.png&#34; data-size=&#34;700x210&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/distributed_rpc/Untitled3.png&#34;
			width=&#34;700&#34;
			height=&#34;210&#34;
			srcset=&#34;https://ccqstark.github.io/p/distributed_rpc/Untitled3_hub697a16f3a4ef69f3098b83daeb94972_119713_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/distributed_rpc/Untitled3_hub697a16f3a4ef69f3098b83daeb94972_119713_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
åŸæ¥åº”ç”¨æ˜¯å•ä½“åº”ç”¨ï¼Œç¨‹åºå¦‚æœè¦è°ƒç”¨ä¸€ä¸ªå‡½æ•°æˆ–æ–¹æ³•å°±ç›´æ¥è°ƒç”¨å°±è¡Œäº†ï¼Œå› ä¸ºéƒ½æ˜¯åœ¨æœ¬åœ°ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨åº”ç”¨é‡‡ç”¨åˆ†å¸ƒå¼æ¶æ„ï¼ŒæœåŠ¡è¢«åˆ†æ•£åˆ°ä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼Œä¸€å°æœåŠ¡å™¨ä¸Šçš„ç¨‹åºå°±ä¼šé‡åˆ°éœ€è¦è°ƒç”¨å¦ä¸€å°æœåŠ¡å™¨ä¸Šçš„æŸä¸ªæ–¹æ³•çš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™å°±å«&lt;code&gt;RPC(è¿œç¨‹è¿‡ç¨‹è°ƒç”¨)(Remote Procedure call)&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;RPCçš„è°ƒç”¨è¿‡ç¨‹å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 134; 
			flex-basis: 322px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/distributed_rpc/Untitled4.png&#34; data-size=&#34;1076x800&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/distributed_rpc/Untitled4.png&#34;
			width=&#34;1076&#34;
			height=&#34;800&#34;
			srcset=&#34;https://ccqstark.github.io/p/distributed_rpc/Untitled4_hu9ab7d29254d9c084687e4d2e7ac1fcfa_75049_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/distributed_rpc/Untitled4_hu9ab7d29254d9c084687e4d2e7ac1fcfa_75049_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
é€šè¿‡ç½‘ç»œå‘é€è°ƒç”¨æ¶ˆæ¯å°±éœ€è¦å…ˆåºåˆ—åŒ–ï¼Œåˆ°ç›®æ ‡æœåŠ¡å™¨åæˆåŠŸè°ƒç”¨å¯¹åº”çš„æœåŠ¡åè¿”å›ï¼Œååºåˆ—åŒ–å¾—åˆ°ç»“æœã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Dubbo&lt;/code&gt;å°±æ˜¯ä¸€ä¸ªæµè¡Œçš„RPCæ¡†æ¶ï¼Œæä¾›é¢å‘æ¥å£ä»£ç†çš„é«˜æ€§èƒ½RPCè°ƒç”¨ã€æ™ºèƒ½è´Ÿè½½å‡è¡¡ã€æœåŠ¡è‡ªåŠ¨æ³¨å†Œä¸å‘ç°ã€é«˜åº¦å¯æ‰©å±•èƒ½åŠ›ã€è¿è¡ŒæœŸæµé‡è°ƒåº¦ï¼ˆç°åº¦å‘å¸ƒï¼‰ã€å¯è§†åŒ–å·¥å…·ç­‰åŠŸèƒ½ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æµåŠ¨è®¡ç®—æ¶æ„&#34;&gt;æµåŠ¨è®¡ç®—æ¶æ„&lt;/h3&gt;
&lt;p&gt;å½“æœåŠ¡å¢å¤šæ—¶ï¼ŒæœåŠ¡çš„ç®¡ç†ä¸èµ„æºçš„åˆ†é…æˆä¸ºäºŸå¾…è§£å†³çš„é—®é¢˜ï¼Œæ­¤æ—¶ï¼Œéœ€è¦å¢åŠ ä¸€ä¸ªè°ƒåº¦ä¸­å¿ƒåŸºäºè®¿é—®å‹åŠ›å®æ—¶ç®¡ç†é›†ç¾¤å®¹é‡ï¼Œæé«˜é›†ç¾¤çš„åˆ©ç”¨ç‡ã€‚ç”¨äºæé«˜æœºå™¨åˆ©ç”¨ç‡çš„èµ„æºè°ƒåº¦å’Œæ²»ç†ä¸­å¿ƒ(SOA)(Service Oriented Architecture)å°±ååˆ†é‡è¦ã€‚&lt;/p&gt;
&lt;p&gt;æœåŠ¡é€šè¿‡åœ¨æ³¨å†Œä¸­å¿ƒè¿›è¡Œæ³¨å†Œï¼Œè¢«ç»Ÿä¸€çš„ç®¡ç†èµ·æ¥å¹¶å¯è¢«å‘ç°ï¼Œå¹¶å¯¹ç”¨æˆ·å¼€æ”¾ã€‚å½“ç”¨æˆ·éœ€è¦ç”¨åˆ°æŸä¸€æœåŠ¡æ—¶ï¼Œå°±å»æ³¨å†Œä¸­å¿ƒæ‹¿ï¼Œæ³¨å†Œä¸­å¿ƒå°±ä¼šå°†å¯¹åº”çš„æœåŠ¡æä¾›ç»™ä»–ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 139; 
			flex-basis: 335px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/distributed_rpc/Untitled5.png&#34; data-size=&#34;701x501&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/distributed_rpc/Untitled5.png&#34;
			width=&#34;701&#34;
			height=&#34;501&#34;
			srcset=&#34;https://ccqstark.github.io/p/distributed_rpc/Untitled5_hue3a0176ed0783574675e61ae8c680dd7_172880_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/distributed_rpc/Untitled5_hue3a0176ed0783574675e61ae8c680dd7_172880_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
æ³¨å†Œä¸­å¿ƒç”¨çš„æ¯”è¾ƒå¤šçš„æ˜¯&lt;code&gt;Zookeeper&lt;/code&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[SpringBoot]æ•´åˆElasticSearch</title>
        <link>https://ccqstark.github.io/p/springboot_es/</link>
        <pubDate>Thu, 04 Feb 2021 23:01:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/springboot_es/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/springboot_es/springboot-es.png" alt="Featured image of post [SpringBoot]æ•´åˆElasticSearch" /&gt;&lt;h2 id=&#34;å¯¼å…¥ä¾èµ–&#34;&gt;å¯¼å…¥ä¾èµ–&lt;/h2&gt;
&lt;p&gt;æˆ‘ä»¬ä½¿ç”¨springbootæ“ä½œesè¦ç”¨åˆ°å¯¹åº”çš„dataç›¸å…³starter&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- elasticsearchçš„starterä¾èµ– --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.springframework.boot&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;spring-boot-starter-data-elasticsearch&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- å°†å¯¹è±¡è½¬ä¸ºjsonä¼ å…¥sourceæ—¶è¦ç”¨ --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;com.alibaba&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;fastjson&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.2.75&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;âš ï¸ å„springbootçš„ç‰ˆæœ¬å¯¹åº”ç‰¹å®šçš„elasticsearchç‰ˆæœ¬ï¼Œå¼•å…¥ä¸Šé¢çš„ä¾èµ–æ—¶ä¼šè‡ªåŠ¨ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„rest-high-level-clientï¼Œä½¿ç”¨æ—¶å°½é‡ä½¿å¾—ç‰ˆæœ¬å¯¹åº”ï¼Œé¿å…æ½œåœ¨é—®é¢˜ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç‰ˆæœ¬å¯¹åº”è¡¨å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 268; 
			flex-basis: 645px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/springboot_es/20201221111458835.png&#34; data-size=&#34;928x345&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/springboot_es/20201221111458835.png&#34;
			width=&#34;928&#34;
			height=&#34;345&#34;
			srcset=&#34;https://ccqstark.github.io/p/springboot_es/20201221111458835_hu3434231879f07d017eb4f374d08f0e6c_37598_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/springboot_es/20201221111458835_hu3434231879f07d017eb4f374d08f0e6c_37598_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
æˆ‘ä½¿ç”¨çš„è¿™é‡Œç”¨Springboot&lt;code&gt;2.4.1&lt;/code&gt;ï¼Œæ‰€ä»¥å¯¹åº”çš„elasticsearchæ˜¯&lt;code&gt;7.9.3&lt;/code&gt;ç‰ˆæœ¬&lt;/p&gt;
&lt;h2 id=&#34;é…ç½®ç±»&#34;&gt;é…ç½®ç±»&lt;/h2&gt;
&lt;p&gt;configç›®å½•ä¸‹æ–°å»ºesçš„é…ç½®ç±»&lt;code&gt;ElasticSearchClientConfig.java&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Configuration&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;ElasticSearchClientConfig&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

  &lt;span class=&#34;nd&#34;&gt;@Bean&lt;/span&gt;
  &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RestHighLevelClient&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;restHighLevelClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CredentialsProvider&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;credentialsProvider&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;BasicCredentialsProvider&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
      &lt;span class=&#34;n&#34;&gt;credentialsProvider&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setCredentials&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;AuthScope&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;ANY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;
              &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UsernamePasswordCredentials&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;elastic&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;[å¯†ç ]&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
      &lt;span class=&#34;n&#34;&gt;RestHighLevelClient&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;client&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RestHighLevelClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;
              &lt;span class=&#34;n&#34;&gt;RestClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;builder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;
                      &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HttpHost&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;[ip]&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;9200&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;http&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;
                      &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setHttpClientConfigCallback&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;httpClientBuilder&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                          &lt;span class=&#34;n&#34;&gt;httpClientBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;disableAuthCaching&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
                          &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;httpClientBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setDefaultCredentialsProvider&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;credentialsProvider&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
                      &lt;span class=&#34;o&#34;&gt;}));&lt;/span&gt;
      &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;client&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œæœ‰ç”¨åˆ°x-packåŸºç¡€å®‰å…¨åŠŸèƒ½ï¼Œæ‰€ä»¥é…ç½®äº†ç”¨æˆ·å’Œå¯†ç ã€‚å¦‚æœæ²¡æœ‰ç”¨æˆ·å’Œå¯†ç ï¼Œå‚ç…§å®˜æ–¹æ–‡æ¡£è¿æ¥ä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;n&#34;&gt;RestHighLevelClient&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;client&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RestHighLevelClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;RestClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;builder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HttpHost&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;localhost&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;9200&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;http&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HttpHost&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;localhost&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;9201&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;http&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)));&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ä½¿ç”¨å®¢æˆ·ç«¯è¿æ¥&#34;&gt;ä½¿ç”¨å®¢æˆ·ç«¯è¿æ¥&lt;/h2&gt;
&lt;p&gt;ä½¿ç”¨æ—¶&lt;code&gt;@Autowired&lt;/code&gt;ä¸€ä¸‹ï¼Œç”¨è‡ªå®šä¹‰åå­—æ—¶å°±&lt;code&gt;@Qualifier&lt;/code&gt;ä¸€ä¸‹ï¼Œä¸ç„¶å°±å¾—å¯¹åº”ä¸Šé¢çš„æ–¹æ³•å&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Autowired&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@Qualifier&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;restHighLevelClient&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RestHighLevelClient&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;client&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ç´¢å¼•ç›¸å…³æ“ä½œ&#34;&gt;ç´¢å¼•ç›¸å…³æ“ä½œ&lt;/h2&gt;
&lt;h3 id=&#34;åˆ›å»ºç´¢å¼•&#34;&gt;åˆ›å»ºç´¢å¼•&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;testCreateIndex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;IOException&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// 1. åˆ›å»ºç´¢å¼•è¯·æ±‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;CreateIndexRequest&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CreateIndexRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// 2. æ‰§è¡Œè¯·æ±‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;CreateIndexResponse&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;createIndexResponse&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;client&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;indices&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;create&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RequestOptions&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;DEFAULT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;createIndexResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;åˆ¤æ–­ç´¢å¼•æ˜¯å¦å­˜åœ¨&#34;&gt;åˆ¤æ–­ç´¢å¼•æ˜¯å¦å­˜åœ¨&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;testExistIndex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;IOException&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;GetIndexRequest&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GetIndexRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;test2&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;exists&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;client&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;indices&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;exists&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RequestOptions&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;DEFAULT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;exists&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;åˆ é™¤ç´¢å¼•&#34;&gt;åˆ é™¤ç´¢å¼•&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;testDeleteIndex&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;IOException&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;DeleteIndexRequest&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DeleteIndexRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;AcknowledgedResponse&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;delete&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;client&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;indices&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RequestOptions&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;DEFAULT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;isAcknowledged&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;æ–‡æ¡£ç›¸å…³æ“ä½œ&#34;&gt;æ–‡æ¡£ç›¸å…³æ“ä½œ&lt;/h2&gt;
&lt;h3 id=&#34;æ·»åŠ æ–‡æ¡£&#34;&gt;æ·»åŠ æ–‡æ¡£&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;testAddDocument&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;IOException&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// åˆ›å»ºå¯¹è±¡
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;User&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;ccqstark&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// åˆ›å»ºè¯·æ±‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;IndexRequest&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;IndexRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// è§„åˆ™ put /test/_doc/1
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œå¯ä»¥ä¸å†™ï¼Œæœ‰é»˜è®¤å‚æ•°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;timeout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TimeValue&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;timeValueSeconds&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;timeout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;1s&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// å°†æ•°æ®æ”¾å…¥è¯·æ±‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;source&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;JSON&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;toJSONString&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;XContentType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;JSON&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// å®¢æˆ·ç«¯å‘é€è¯·æ±‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;IndexResponse&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;indexResponse&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;client&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RequestOptions&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;DEFAULT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;indexResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;toString&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;indexResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;status&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// å¯¹åº”è¿”å›çš„çŠ¶æ€
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ‰¹é‡æ’å…¥æ–‡æ¡£&#34;&gt;æ‰¹é‡æ’å…¥æ–‡æ¡£&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;testBulkRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;IOException&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;BulkRequest&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bulkRequest&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;BulkRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// æ•°æ®é‡å¤šçš„è¯è¶…æ—¶æ—¶é—´å¯ä»¥è®¾ç½®é•¿ä¸€ç‚¹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;bulkRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;timeout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;10s&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;userList&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ArrayList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;userList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;ccq1&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;userList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;ccq2&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;userList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;ccq3&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;userList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;ccq4&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;userList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;ccq5&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// æ‰¹å¤„ç†è¯·æ±‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;userList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;bulkRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;// æ‰¹é‡æ›´æ–°æˆ–æ‰¹é‡åˆ é™¤ï¼Œå°±åœ¨è¿™é‡Œä¿®æ”¹å¯¹åº”çš„è¯·æ±‚å³å¯. ä¸æŒ‡å®šidä¼šè‡ªåŠ¨ç”Ÿæˆéšæœºä¸é‡å¤id
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;IndexRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
                        &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;
                        &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;source&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;JSON&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;toJSONString&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;userList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;XContentType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;JSON&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;BulkResponse&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bulkResponse&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;client&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;bulk&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bulkRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RequestOptions&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;DEFAULT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// æ˜¯å¦å¤±è´¥ï¼Œfalseä»£è¡¨æˆåŠŸ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;bulkResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;hasFailures&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;åˆ¤æ–­æ–‡æ¡£æ˜¯å¦å­˜åœ¨&#34;&gt;åˆ¤æ–­æ–‡æ¡£æ˜¯å¦å­˜åœ¨&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;testIsExists&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;IOException&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;GetRequest&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getRequest&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GetRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// ä¸è·å–è¿”å›çš„_sourceä¸Šä¸‹æ–‡äº†
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;getRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;fetchSourceContext&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;FetchSourceContext&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// æ’åºçš„å­—æ®µ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;getRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;storedFields&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;_none_&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;exist&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;client&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;exists&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RequestOptions&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;DEFAULT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;exist&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;è·å–æ–‡æ¡£ä¿¡æ¯&#34;&gt;è·å–æ–‡æ¡£ä¿¡æ¯&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;testGetDocument&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;IOException&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// index     id
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;GetRequest&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getRequest&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;GetRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;GetResponse&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;getResponse&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;client&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RequestOptions&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;DEFAULT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// è¿”å›çš„å…¨éƒ¨å†…å®¹ï¼Œå’Œç”¨å‘½ä»¤è·å–çš„ç»“æœä¸€æ ·
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// ä»¥mapè·å–ç»“æœçš„source
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getSourceAsMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// ä»¥stringè·å–ç»“æœsource
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;getResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getSourceAsString&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ›´æ–°æ–‡æ¡£&#34;&gt;æ›´æ–°æ–‡æ¡£&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;testUpdateDocument&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;IOException&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;UpdateRequest&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;updateRequest&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UpdateRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;1&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;updateRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;timeout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;1s&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;User&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;user&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;ccq java&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;18&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;updateRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;doc&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;JSON&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;toJSONString&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;XContentType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;JSON&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;UpdateResponse&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;updateResponse&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;client&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;update&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;updateRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RequestOptions&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;DEFAULT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;updateResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;status&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;åˆ é™¤æ–‡æ¡£&#34;&gt;åˆ é™¤æ–‡æ¡£&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;deleteDocument&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;IOException&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;DeleteRequest&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;deleteRequest&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DeleteRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;3&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;DeleteResponse&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;deleteResponse&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;client&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;delete&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;deleteRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RequestOptions&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;DEFAULT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;deleteResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;status&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;é«˜çº§æŸ¥è¯¢&#34;&gt;é«˜çº§æŸ¥è¯¢&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;testSearch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;IOException&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// SearchRequest æœç´¢è¯·æ±‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// SearchSourceBuilder æœç´¢æ¡ä»¶æ„é€ 
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;SearchRequest&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;searchRequest&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SearchRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;SearchSourceBuilder&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sourceBuilder&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SearchSourceBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// ä¸åŒæŸ¥è¯¢æ–¹å¼éƒ½åœ¨è¿™é‡Œè®¾ç½®
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// QueryBuilders.termQuery() ç²¾ç¡®æŸ¥è¯¢
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// QueryBuilders.matchAllQuery() åŒ¹é…æ‰€æœ‰
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;TermQueryBuilder&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;termQueryBuilder&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;QueryBuilders&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;termQuery&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ccq&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;sourceBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;query&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;termQueryBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;sourceBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;timeout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TimeValue&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;60&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;TimeUnit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;SECONDS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// åˆ†é¡µ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;sourceBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;sourceBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;size&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// é«˜äº®
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;HighlightBuilder&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;highlightBuilder&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HighlightBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// è®¾ç½®é«˜äº®çš„å­—æ®µ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;highlightBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;field&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// å¤šä¸ªåŒ¹é…å­—é«˜äº®
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;highlightBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;requireFieldMatch&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// è®¾ç½®é«˜äº®æ ‡ç­¾
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;highlightBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;preTags&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;lt;span style=\&amp;#34;color:#ffd73b\&amp;#34;&amp;gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;highlightBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;postTags&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;lt;/span&amp;gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;sourceBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;highlighter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;highlightBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// æ‰§è¡Œæœç´¢
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;searchRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;source&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sourceBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;SearchResponse&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;searchResponse&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;client&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;search&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;searchRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RequestOptions&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;DEFAULT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;JSON&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;toJSONString&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;searchResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getHits&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()));&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;=========================================&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SearchHit&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;hit&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;searchResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getHits&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;())&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// è·å–é«˜äº®å­—æ®µ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HighlightField&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;highlightFields&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;hit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getHighlightFields&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;HighlightField&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;highlightName&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;highlightFields&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// åŸæ¥çš„ç»“æœ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sourceAsMap&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;hit&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getSourceAsMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// ç”¨é«˜äº®æ›¿æ¢åŸæ¥çš„ï¼Œè¿™é‡Œè¦åˆ¤æ–­ä¸€ä¸ªæ˜¯å¦ä¸ºç©ºï¼Œå› ä¸ºæœ‰å¯èƒ½æ²¡æœ‰é«˜äº®ç»“æœ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;highlightName&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;Text&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fragments&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;highlightName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;fragments&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;

            &lt;span class=&#34;c1&#34;&gt;// åªæœ‰å½“è¦é«˜äº®æœç´¢å½“å­—æ®µæ˜¯æ•°ç»„ç±»å‹fragmentsæ‰ä¼šæœ‰å¤šä¸ªå…ƒç´ ï¼Œå¦‚æœæ˜¯å•å­—æ®µå°±å»ç¬¬0ä¸ªå°±è¡Œ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;sourceAsMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fragments&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sourceAsMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‚è€ƒè‡ª&lt;code&gt;ç‹‚ç¥&lt;/code&gt;çš„ElasticSearchæ•™ç¨‹ï¼š
&lt;a class=&#34;link&#34; href=&#34;https://www.bilibili.com/video/BV17a4y1x7zq?p=12&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ã€ç‹‚ç¥è¯´Javaã€‘ElasticSearch7.6.xæœ€æ–°å®Œæ•´æ•™ç¨‹é€šä¿—æ˜“æ‡‚&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[ElasticSearch]RESTé£æ ¼æ“ä½œ</title>
        <link>https://ccqstark.github.io/p/es_rest/</link>
        <pubDate>Wed, 03 Feb 2021 23:01:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/es_rest/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/es_rest/restful.png" alt="Featured image of post [ElasticSearch]RESTé£æ ¼æ“ä½œ" /&gt;&lt;h3 id=&#34;åŸºæœ¬çš„restå‘½ä»¤&#34;&gt;åŸºæœ¬çš„restå‘½ä»¤&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;method&lt;/th&gt;
&lt;th&gt;url&lt;/th&gt;
&lt;th&gt;åŠŸèƒ½&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;PUT&lt;/td&gt;
&lt;td&gt;localhost:9200/ç´¢å¼•åç§°/ç±»å‹åç§°/æ–‡æ¡£id&lt;/td&gt;
&lt;td&gt;åˆ›å»ºæ–‡æ¡£ï¼ˆæŒ‡å®šæ–‡æ¡£id)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;POST&lt;/td&gt;
&lt;td&gt;localhost:9200/ç´¢å¼•åç§°/ç±»å‹åç§°&lt;/td&gt;
&lt;td&gt;åˆ›å»ºæ–‡æ¡£ï¼ˆéšæœºæ–‡æ¡£idï¼‰&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;POST&lt;/td&gt;
&lt;td&gt;localhost:9200/ç´¢å¼•åç§°/ç±»å‹åç§°/æ–‡æ¡£id/_update&lt;/td&gt;
&lt;td&gt;ä¿®æ”¹æ–‡æ¡£&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DELETE&lt;/td&gt;
&lt;td&gt;localhost:9200/ç´¢å¼•åç§°/ç±»å‹åç§°/æ–‡æ¡£id&lt;/td&gt;
&lt;td&gt;åˆ é™¤æ–‡æ¡£&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;GET&lt;/td&gt;
&lt;td&gt;localhost:9200/ç´¢å¼•åç§°/ç±»å‹åç§°/æ–‡æ¡£id&lt;/td&gt;
&lt;td&gt;æŸ¥è¯¢æ–‡æ¡£ï¼Œé€šè¿‡æ–‡æ¡£id&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;POST&lt;/td&gt;
&lt;td&gt;localhost:9200/ç´¢å¼•åç§°/ç±»å‹åç§°/_search&lt;/td&gt;
&lt;td&gt;æŸ¥è¯¢æ‰€æœ‰æ•°æ®&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;âš ï¸ è‡ªå®šä¹‰ç±»å‹å°†åœ¨ä»¥åçš„ç‰ˆæœ¬ä¸­å¼ƒç”¨ï¼Œè§„èŒƒèµ·è§ä¸€å¾‹ä½¿ç”¨&lt;code&gt;_doc&lt;/code&gt;  ç±»å‹&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;æ–‡æ¡£å­—æ®µçš„æ•°æ®ç±»å‹&#34;&gt;æ–‡æ¡£å­—æ®µçš„æ•°æ®ç±»å‹&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;å­—ç¬¦ä¸²ç±»å‹&lt;/p&gt;
&lt;p&gt;&lt;code&gt;text&lt;/code&gt; &lt;code&gt;keyword&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ•°å€¼ç±»å‹&lt;/p&gt;
&lt;p&gt;&lt;code&gt;long&lt;/code&gt;  &lt;code&gt;integer&lt;/code&gt;  &lt;code&gt;short&lt;/code&gt;  &lt;code&gt;byte&lt;/code&gt;  &lt;code&gt;double&lt;/code&gt;  &lt;code&gt;float&lt;/code&gt;  &lt;code&gt;half float&lt;/code&gt;  &lt;code&gt;scaled float&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ—¥æœŸç±»å‹&lt;/p&gt;
&lt;p&gt;&lt;code&gt;date&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¸ƒå°”ç±»å‹&lt;/p&gt;
&lt;p&gt;&lt;code&gt;boolean&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;äºŒè¿›åˆ¶ç±»å‹&lt;/p&gt;
&lt;p&gt;&lt;code&gt;binary&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç­‰ç­‰&amp;hellip;..&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;åŸºæœ¬æ“ä½œ&#34;&gt;åŸºæœ¬æ“ä½œ&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;åˆ›å»ºä¸€ä¸ªæ–‡æ¡£ï¼Œå¦‚æœç´¢å¼•ä¸å­˜åœ¨ä¹Ÿä¼šä¸€èµ·åˆ›å»º&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;err&#34;&gt;PUT&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;/test/_doc/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ccqstark&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;age&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ²¡æœ‰æŒ‡å®šå­—æ®µçš„æ•°æ®ç±»å‹ï¼Œesä¼šé»˜è®¤é…ç½®&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æŒ‡å®šå­—æ®µæ•°æ®ç±»å‹åˆ›å»ºç´¢å¼•&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;err&#34;&gt;PUT&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;/test&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;mappings&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;properties&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:{&lt;/span&gt;
        &lt;span class=&#34;nt&#34;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;text&amp;#34;&lt;/span&gt;
      &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;age&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:{&lt;/span&gt;
        &lt;span class=&#34;nt&#34;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;long&amp;#34;&lt;/span&gt;
      &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;birthday&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:{&lt;/span&gt;
        &lt;span class=&#34;nt&#34;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;date&amp;#34;&lt;/span&gt;
      &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;åŸºæœ¬æŸ¥è¯¢&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æŸ¥è¯¢ç´¢å¼•åº“ä¿¡æ¯&lt;/span&gt;
GET /&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;index&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# æŸ¥è¯¢å…·ä½“æŸä¸€æ–‡æ¡£&lt;/span&gt;
GET /&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;index&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;/_doc/&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;id&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;æŸ¥è¯¢eså‚æ•°&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;GET _cat/&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;å‚æ•°é¡¹&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;PUTæ›´æ–°&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;PUT /&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;index&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;/_doc/&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;id&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;s2&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;:&lt;span class=&#34;s2&#34;&gt;&amp;#34;ccqstark666&amp;#34;&lt;/span&gt;,
  &lt;span class=&#34;s2&#34;&gt;&amp;#34;age&amp;#34;&lt;/span&gt;:3
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç›´æ¥åœ¨å¯¹åº”å­—æ®µå†™ä¸Šæ›´æ–°åçš„ä¿¡æ¯ï¼Œä¼šè¦†ç›–æ—§çš„å€¼&lt;/p&gt;
&lt;p&gt;å¦‚æœæ¼äº†åŸæ¥æœ‰çš„å­—æ®µï¼Œé‚£ä¹ˆè¿™äº›å­—æ®µä¼šè¢«åˆ é™¤ï¼Œæ‰€ä»¥ä¸æ¨èä½¿ç”¨&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;POSTæ›´æ–°**ï¼ˆæ¨èï¼‰**&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;err&#34;&gt;POST&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;**/&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;/_update/&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;**&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;doc&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ccqstark555&amp;#34;&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¢«ä¿®æ”¹çš„æ–‡æ¡£çš„&lt;code&gt;&amp;quot;_version&amp;quot;&lt;/code&gt;ä¼šé€’å¢1&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ é™¤&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# åˆ é™¤ç´¢å¼•åº“&lt;/span&gt;
DELETE /&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;index&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# åˆ é™¤æ–‡æ¡£&lt;/span&gt;
DELETE /&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;index&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;/_doc/&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;id&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;ç®€å•æ¡ä»¶æŸ¥è¯¢&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;err&#34;&gt;GET&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;/test/_doc/_search?q=name:ccqstark&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;âš ï¸ å¦‚æœå­—æ®µç±»å‹æ˜¯&lt;code&gt;keyword&lt;/code&gt; ï¼Œè¯´æ˜ä¸å¯åˆ†å‰²ï¼ŒæŸ¥è¯¢çš„æ—¶å€™åˆ†è¯å™¨ä¸ä¼šåˆ†å‰²è¿™ä¸ªè¯æ¥æœç´¢ï¼Œè€Œæ˜¯å½“æˆä¸€ä¸ªæ•´ä½“ï¼Œè€Œ&lt;code&gt;text&lt;/code&gt; ç±»å‹å¯ä»¥è¢«åˆ†è¯å™¨è§£æ&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;ğŸ˜® æŸ¥è¯¢å‡ºæ¥çš„&lt;code&gt;&amp;quot;hits&amp;quot;&lt;/code&gt;é‡Œæœ‰&lt;code&gt;&amp;quot;_score&amp;quot;&lt;/code&gt;æ˜¯è¯´æ˜åŒ¹é…åº¦çš„åˆ†æ•°å€¼ï¼ŒåŒ¹é…åº¦è¶Šé«˜ï¼Œåˆ†æ•°è¶Šé«˜&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;å¤æ‚èŠ±å¼æœç´¢&#34;&gt;å¤æ‚(èŠ±å¼)æœç´¢&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;match&lt;/code&gt; æŸ¥è¯¢&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;err&#34;&gt;GET&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;/test/_doc/_search&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;query&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;match&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:{&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ccqstark&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;matchä¸æ˜¯ç²¾ç¡®æœç´¢ï¼Œä¼šä½¿ç”¨&lt;strong&gt;åˆ†è¯å™¨&lt;/strong&gt;è§£æå†æœç´¢ï¼ˆé»˜è®¤è‡ªå¸¦åˆ†è¯å™¨æŠŠè‹±æ–‡æŒ‰ç©ºæ ¼åˆ†è¯ï¼Œä¸­æ–‡æ˜¯æ¯ä¸€ä¸ªå­—éƒ½åˆ†å¼€ï¼‰&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;json&lt;/code&gt;æ„å»ºæŸ¥è¯¢å‚æ•°ä½“&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;hits&amp;#34;&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;total&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;value&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;relation&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;eq&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æŸ¥è¯¢ç»“æœä¸­çš„ &lt;code&gt;hits&lt;/code&gt;é‡Œæœ‰ä¸ª&lt;code&gt;total&lt;/code&gt;çš„&lt;code&gt;value&lt;/code&gt;ï¼Œä¸ºæŸ¥è¯¢ç»“æœçš„æ€»æ•°é‡&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¿‡æ»¤æŸ¥è¯¢ç»“æœçš„å­—æ®µ&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;err&#34;&gt;GET&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;/test/_doc/_search&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;query&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;match&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:{&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ccqstark&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;_source&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;age&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;&amp;quot;_source&amp;quot;&lt;/code&gt; å¯ä»¥ç”¨æ¥æŒ‡å®šæŸ¥è¯¢ç»“æœä¸­çš„å­—æ®µï¼Œç›¸å½“äº&lt;code&gt;select xxx,xxx&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ç»“æœæ’åº&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;err&#34;&gt;GET&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;/test/_doc/_search&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;query&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;match&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:{&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ccqstark&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;sort&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;age&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:{&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;order&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;desc&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œ &lt;code&gt;&amp;quot;sort&amp;quot;&lt;/code&gt; æŒ‡å®š&lt;code&gt;age&lt;/code&gt;ä¸ºç”¨æ¥æ’åºçš„å­—æ®µï¼Œ&lt;code&gt;&amp;quot;order&amp;quot;&lt;/code&gt; ä¸ºæ’åºæ–¹å¼&lt;/p&gt;
&lt;p&gt;å‡åºï¼š&lt;code&gt;asc&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;é™åºï¼š&lt;code&gt;desc&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åˆ†é¡µæŸ¥è¯¢&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;err&#34;&gt;GET&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;/test/_doc/_search&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;query&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;match&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:{&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;ccqstark&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;from&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;size&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;â€œfromâ€&lt;/code&gt;æ˜¯ä»ç¬¬å‡ é¡µå¼€å§‹ï¼Œç¬¬ä¸€é¡µä¸º0&lt;/p&gt;
&lt;p&gt;&lt;code&gt;â€œsizeâ€&lt;/code&gt;æ˜¯æ¯é¡µå¤šå°‘æ¡æ•°æ®&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;bool&lt;/code&gt;æŸ¥è¯¢&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;err&#34;&gt;GET&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;/test/_doc/_search&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;query&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;bool&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;must&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;nt&#34;&gt;&amp;#34;match&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ccqstark&amp;#34;&lt;/span&gt;
          &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;nt&#34;&gt;&amp;#34;match&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nt&#34;&gt;&amp;#34;age&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;100&lt;/span&gt;
          &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
      &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç”¨&lt;code&gt;bool&lt;/code&gt;å¯ä»¥å®ç°å¤šæ¡ä»¶æŸ¥è¯¢&lt;/p&gt;
&lt;p&gt;è¿™é‡Œçš„&lt;code&gt;must&lt;/code&gt;ç›¸å½“äº&lt;code&gt;and&lt;/code&gt;ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰æ¡ä»¶éƒ½è¦ç¬¦åˆ&lt;/p&gt;
&lt;p&gt;ä¹Ÿå¯ä»¥ç”¨&lt;code&gt;should&lt;/code&gt; ï¼Œç›¸å½“äº&lt;code&gt;or&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿˜æœ‰&lt;code&gt;must_not&lt;/code&gt; ï¼Œç›¸å½“äº&lt;code&gt;not&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;boolåµŒå¥—&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;err&#34;&gt;GET&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;/my_store/products/_search&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
   &lt;span class=&#34;nt&#34;&gt;&amp;#34;query&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;filtered&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
         &lt;span class=&#34;nt&#34;&gt;&amp;#34;filter&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nt&#34;&gt;&amp;#34;bool&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
              &lt;span class=&#34;nt&#34;&gt;&amp;#34;should&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;&amp;#34;term&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;productID&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;KDKE-B-9947-#kL5&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}},&lt;/span&gt; 
                &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;&amp;#34;bool&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; 
                  &lt;span class=&#34;nt&#34;&gt;&amp;#34;must&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
                    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;&amp;#34;term&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;productID&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;JODL-X-1937-#pV7&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}},&lt;/span&gt; 
                    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;&amp;#34;term&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;#34;price&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;30&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}}&lt;/span&gt; 
                  &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;}}&lt;/span&gt;
              &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
           &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
         &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
      &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
   &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;boolæŸ¥è¯¢é‡Œå†å¥—ä¸€ä¸ªboolï¼Œå°±ç›¸å½“äºåŠ äº†ä¸ªæ‹¬å·ï¼š( A or ( B and C ))&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;filter&lt;/code&gt; æŸ¥è¯¢&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;err&#34;&gt;GET&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;/test/_doc/_search&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;query&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;bool&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;must_not&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;nt&#34;&gt;&amp;#34;match&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;é™ˆæ¥šæƒ&amp;#34;&lt;/span&gt;
          &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
      &lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;filter&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;nt&#34;&gt;&amp;#34;range&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;nt&#34;&gt;&amp;#34;age&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nt&#34;&gt;&amp;#34;gte&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;66&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
            &lt;span class=&#34;nt&#34;&gt;&amp;#34;lte&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;100&lt;/span&gt;
          &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
      &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;range&lt;/code&gt; è¡¨ç¤ºèŒƒå›´æŸ¥è¯¢ï¼Œ&lt;code&gt;age&lt;/code&gt; æŒ‡å®šäº†å­—æ®µ&lt;/p&gt;
&lt;p&gt;&lt;code&gt;èŒƒå›´æŸ¥è¯¢è¡¨è¾¾å¼&lt;/code&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;è¡¨è¾¾å¼&lt;/th&gt;
&lt;th&gt;è¡¨ç¤º&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;gt&lt;/td&gt;
&lt;td&gt;&amp;gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;gte&lt;/td&gt;
&lt;td&gt;&amp;gt;=&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lt&lt;/td&gt;
&lt;td&gt;&amp;lt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;lte&lt;/td&gt;
&lt;td&gt;&amp;lt;=&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;å¤šå…³é”®è¯æŸ¥è¯¢&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;err&#34;&gt;GET&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;/test/_doc/_search&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;query&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;bool&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;must&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;nt&#34;&gt;&amp;#34;match&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ccq java&amp;#34;&lt;/span&gt;
          &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
      &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç”¨ç©ºæ ¼éš”å¼€å…³é”®è¯å°±è¡Œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;term&lt;/code&gt;ç²¾ç¡®æŸ¥è¯¢&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;err&#34;&gt;GET&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;/test&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;/_doc/_search&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;query&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;bool&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;should&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
          &lt;span class=&#34;nt&#34;&gt;&amp;#34;term&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ccqè¯´java&amp;#34;&lt;/span&gt;
          &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
      &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;âš ï¸ ä½¿ç”¨&lt;code&gt;term&lt;/code&gt;æŸ¥è¯¢è¦æ±‚å­—æ®µä¸º&lt;code&gt;keyword&lt;/code&gt;ç±»å‹æ‰èƒ½åŒ¹é…å‡ºæ¥&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;code&gt;term&lt;/code&gt;æ˜¯ç²¾ç¡®æŸ¥è¯¢ï¼Œäºmatchä¼šç”¨åˆ†è¯å™¨è§£æä¸åŒï¼Œtermæ˜¯ç›´æ¥é€šè¿‡å€’æ’ç´¢å¼•æŒ‡å®šçš„è¯æ¡è¿›è¡Œç²¾ç¡®æŸ¥æ‰¾&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 311; 
			flex-basis: 747px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/es_rest/Untitled.png&#34; data-size=&#34;782x251&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/es_rest/Untitled.png&#34;
			width=&#34;782&#34;
			height=&#34;251&#34;
			srcset=&#34;https://ccqstark.github.io/p/es_rest/Untitled_hud5df7308c05c7c774ffefdeaa1075da7_143909_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/es_rest/Untitled_hud5df7308c05c7c774ffefdeaa1075da7_143909_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;é«˜äº®æŸ¥è¯¢&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;err&#34;&gt;GET&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;/test/_doc/_search&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;query&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;match&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;java&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;highlight&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;fields&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿”å›å€¼ä¸­çš„&lt;code&gt;highlight&lt;/code&gt;å­—æ®µé‡Œä¼šæœ‰å¸¦é«˜äº®æ ‡ç­¾çš„æœç´¢ç»“æœï¼Œé»˜è®¤æ ‡ç­¾ä¸º&lt;code&gt;&amp;lt;em&amp;gt;&lt;/code&gt;ï¼Œæ•ˆæœå¦‚ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;_index&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;_type&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;_doc&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;_id&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;6&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;_score&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;1.1631508&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;_source&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;ccqè¯´java&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;age&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;100&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;highlight&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
        &lt;span class=&#34;s2&#34;&gt;&amp;#34;ccqè¯´&amp;lt;em&amp;gt;java&amp;lt;/em&amp;gt;&amp;#34;&lt;/span&gt;
       &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é«˜äº®æ ‡ç­¾å¯ä»¥è‡ªå®šä¹‰ï¼Œç”¨å‰æ ‡ç­¾&lt;code&gt;pre_tags&lt;/code&gt;å’Œåæ ‡ç­¾&lt;code&gt;post_tags&lt;/code&gt; æ¥æŒ‡å®š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;err&#34;&gt;GET&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;/test/_doc/_search&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;query&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;match&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;java&amp;#34;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;#34;highlight&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;pre_tags&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;lt;p class=&amp;#39;key&amp;#39; style=&amp;#39;color:red&amp;#39;&amp;gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;post_tags&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;lt;/p&amp;gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;#34;fields&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‚è€ƒè‡ª&lt;code&gt;ç‹‚ç¥&lt;/code&gt;çš„ElasticSearchæ•™ç¨‹ï¼š
&lt;a class=&#34;link&#34; href=&#34;https://www.bilibili.com/video/BV17a4y1x7zq?p=10&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ã€ç‹‚ç¥è¯´Javaã€‘ElasticSearch7.6.xæœ€æ–°å®Œæ•´æ•™ç¨‹é€šä¿—æ˜“æ‡‚&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>æˆ‘çš„vimå…¥é—¨é…ç½®æŠ˜è…¾</title>
        <link>https://ccqstark.github.io/p/vim/</link>
        <pubDate>Sun, 31 Jan 2021 21:26:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/vim/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/vim/vim.png" alt="Featured image of post æˆ‘çš„vimå…¥é—¨é…ç½®æŠ˜è…¾" /&gt;&lt;p&gt;ç”±äºè¿™å‡ å¤©å¼€å§‹çœ‹ã€ŠCS:APPã€‹ï¼Œæˆ‘å°±å¼€å§‹å¯»æ±‚ä¸€æ¬¾Macä¸Šçš„è½»é‡çš„Cè¯­è¨€ç¼–è¾‘å™¨ã€‚æ‰¾æ¥æ‰¾å»ï¼Œæ— éæ˜¯&lt;code&gt;VSCode&lt;/code&gt;ã€&lt;code&gt;CLion&lt;/code&gt;å’Œå¤§åé¼é¼çš„&lt;code&gt;Vim&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†å‡å°‘ç£ç›˜å ç”¨åŒæ—¶è®©è‡ªå·±æ›´æ¥è¿‘äºåº•å±‚ï¼Œæˆ‘è¿˜æ˜¯ç¡¬ç€å¤´çš®æŠ˜è…¾èµ·äº†Vimï¼Œè¿™ä¸ªä¸Šå¤ç¥å™¨ä¹‹å‰å°±ä¸€ç›´è®©æˆ‘æœ›è€Œå´æ­¥ï¼Œæˆ‘å¯¹å®ƒçš„æŒæ¡ç¨‹åº¦ä¹Ÿå·®ä¸å¤šæ˜¯ä¼šé€€å‡ºçš„ç¨‹åº¦ï¼Œè¿™ä¸€æ¬¡å°±æ‰“ç®—å¥½å¥½æ¥æŠ˜è…¾ä¸‹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®‰è£…neovim&#34;&gt;å®‰è£…NeoVim&lt;/h3&gt;
&lt;p&gt;Vimå…¶å®åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä¸åŒçš„åˆ†æ”¯ç‰ˆæœ¬è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œæ¯”è¾ƒæµè¡Œçš„ç°ä»£ç‰ˆæœ¬å°±è¦å±NeoVimäº†ï¼Œæ‰€ä»¥æˆ‘åœ¨ç»ˆç«¯å®‰è£…äº†å®ƒï¼Œç”¨&lt;code&gt;iTerm2&lt;/code&gt;è¿è¡Œç€ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;brew install neovim
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®‰è£…å®Œæˆåç”¨nvimå‘½ä»¤å°±å¯ä»¥æ‰“å¼€&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;nvim
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;é…ç½®æ–‡ä»¶è·¯å¾„&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¼ ç»Ÿçš„vimçš„é…ç½®é…ç½®æ–‡ä»¶ä¸º&lt;code&gt;~/.vimrc&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è€Œnvimçš„é…ç½®æ–‡ä»¶ä¸º&lt;code&gt;/.config/nvim/init.vim&lt;/code&gt; ï¼Œä¹‹åä¿®æ”¹nvimé…ç½®æ–‡ä»¶å°±ç”¨è¿™ä¸ªï¼Œä»¥ä¸‹ç®€ç§°ä¸º&lt;code&gt;init.vim&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;å®‰è£…spacevim&#34;&gt;å®‰è£…SpaceVim&lt;/h3&gt;
&lt;p&gt;ä½œä¸ºå°ç™½ï¼Œå¿«é€Ÿæ­å»ºä¸€ä¸ªå¥½çœ‹å®ç”¨çš„Vimå¼€å‘ç¯å¢ƒé‚£æœ€å¥½çš„é€‰æ‹©å°±æ˜¯&lt;code&gt;SpaceVim&lt;/code&gt; äº†ï¼Œä¸‹é¢æ˜¯å®˜æ–¹çš„ä»‹ç»ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;SpaceVim æ˜¯ä¸€ä¸ªç¤¾åŒºé©±åŠ¨çš„æ¨¡å—åŒ–çš„ Vim IDEï¼Œä»¥æ¨¡å—çš„æ–¹å¼ç»„ç»‡ç®¡ç†æ’ä»¶ä»¥åŠç›¸å…³é…ç½®ï¼Œ ä¸ºä¸åŒçš„è¯­è¨€å¼€å‘é‡èº«å®šåˆ¶äº†ç›¸å…³çš„å¼€å‘æ¨¡å—ï¼Œè¯¥æ¨¡å—æä¾›ä»£ç è‡ªåŠ¨è¡¥å…¨ï¼Œ è¯­æ³•æ£€æŸ¥ã€æ ¼å¼åŒ–ã€è°ƒè¯•ã€REPL ç­‰ç‰¹æ€§ã€‚ç”¨æˆ·ä»…éœ€è½½å…¥ç›¸å…³è¯­è¨€çš„æ¨¡å—å³å¯å¾—åˆ°ä¸€ä¸ªå¼€ç®±å³ç”¨çš„ Vim IDEã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å®˜ç½‘åœ°å€ï¼š&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://spacevim.org/cn/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ä¸»é¡µ | SpaceVim&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å®˜ç½‘çš„æ–‡æ¡£è¿˜æ˜¯å¾ˆå…¨çš„ï¼ŒæŒ‰å®˜æ–¹æ–‡æ¡£å°±å¯ä»¥å¿«é€Ÿæ­å»ºå‡ºæ¥äº†ã€‚ä»¥MacOSä¸ºä¾‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®‰è£…spacevim&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;curl -sLf https://spacevim.org/cn/install.sh &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®Œæˆåé‡æ–°æ‰“å¼€nvimå°±ä¼šè‡ªåŠ¨ä¸‹è½½ç›¸å…³æ’ä»¶ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åå°±æ˜¯ä¸»ç•Œé¢ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 178; 
			flex-basis: 427px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/vim/Untitled.png&#34; data-size=&#34;1042x585&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/vim/Untitled.png&#34;
			width=&#34;1042&#34;
			height=&#34;585&#34;
			srcset=&#34;https://ccqstark.github.io/p/vim/Untitled_hua3043802da1b2443e590d828f6c6ef5a_91873_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/vim/Untitled_hua3043802da1b2443e590d828f6c6ef5a_91873_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
&lt;strong&gt;ä¸»é¢˜&lt;/strong&gt;çš„ä¿®æ”¹å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://spacevim.org/cn/layers/colorscheme/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;SpaceVim colorscheme æ¨¡å— | SpaceVim&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¿«æ·é”®ç¬¦å·è¯´æ˜&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SPC&lt;/code&gt; ä»£è¡¨ç©ºæ ¼&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;Leader&amp;gt;&lt;/code&gt; é»˜è®¤ä¸º&lt;code&gt;\&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä»¥ä¸‹ä¸€äº›åŠŸèƒ½éœ€è¦å¯¹macè¿›è¡Œä¸€å®šçš„è®¾ç½®æ‰èƒ½æ­£å¸¸ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æ‰“å¼€&lt;code&gt;ç³»ç»Ÿåå¥½è®¾ç½®&lt;/code&gt; â†’ &lt;code&gt;é”®ç›˜&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å‹¾é€‰&lt;code&gt;å°†F1ã€F2ç­‰é”®ç”¨ä½œæ ‡å‡†åŠŸèƒ½é”®&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿™åŒæ—¶ä¹Ÿè§£å†³äº†Chromeçš„&lt;code&gt;F12&lt;/code&gt; ä¸èƒ½æ‰“å¼€æ§åˆ¶å°çš„é—®é¢˜&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 188; 
			flex-basis: 451px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/vim/Untitled1.png&#34; data-size=&#34;461x245&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/vim/Untitled1.png&#34;
			width=&#34;461&#34;
			height=&#34;245&#34;
			srcset=&#34;https://ccqstark.github.io/p/vim/Untitled1_hu261421ce15b23020c919c569b90937fb_31843_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/vim/Untitled1_hu261421ce15b23020c919c569b90937fb_31843_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
&lt;strong&gt;æ–‡ä»¶ç›®å½•æ ‘&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æŒ‰&lt;code&gt;F3&lt;/code&gt; å¯ä»¥æ‰“å¼€æˆ–å…³é—­&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¯­æ³•å‡½æ•°æ ‘&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æŒ‰&lt;code&gt;F2&lt;/code&gt;å¯ä»¥æ‰“å¼€æˆ–å…³é—­&lt;/p&gt;
&lt;p&gt;macä¸‹å¯èƒ½ä¼šå‡ºç°é”™è¯¯ï¼Œè§£å†³æ–¹æ¡ˆï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;brew install ctags-exuberant
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶å&lt;code&gt;init.vim&lt;/code&gt;é‡Œæ·»åŠ ä¸‹é¢è¿™è¡Œå³å¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; g:Tlist_Ctags_Cmd&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;/usr/local/Cellar/ctags/5.8_1/bin/ctags&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;shell&lt;strong&gt;ç»ˆç«¯&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SPC &#39;&lt;/code&gt; å³å¯æ‰“å¼€ç³»ç»Ÿshellï¼Œå¦‚æœç”¨äº†oh-my-zshä¸»é¢˜ä»€ä¹ˆçš„ä¹Ÿä¼šä¿ç•™çš„&lt;/p&gt;
&lt;h3 id=&#34;é…ç½®ccç¯å¢ƒ&#34;&gt;é…ç½®C/C++ç¯å¢ƒ&lt;/h3&gt;
&lt;p&gt;spacevimå¯¹å¤§éƒ¨åˆ†è¯­è¨€éƒ½æœ‰ç›¸å…³æ”¯æŒï¼Œæ–‡æ¡£ä¹Ÿé½å…¨ï¼Œæ¯”å¦‚æˆ‘éœ€è¦çš„Cè¯­è¨€ç¯å¢ƒï¼š&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://spacevim.org/cn/use-vim-as-a-c-cpp-ide/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ä½¿ç”¨ Vim æ­å»º C/C++ å¼€å‘ç¯å¢ƒ | SpaceVim&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æŒ‰ç…§å®˜æ–¹æ–‡æ¡£ä¿®æ”¹spacevimçš„é…ç½®æ–‡ä»¶&lt;code&gt;~/.SpaceVim.d/init.toml&lt;/code&gt; å³å¯ï¼Œä»¥ä¸‹ç®€ç§°&lt;code&gt;init.toml&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºè‡ªå¸¦çš„æ¨¡å—åŸºæœ¬åªéœ€è¦æ·»åŠ &lt;code&gt;[[layers]]&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# è¯­æ³•é«˜äº®&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt;layers&lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;lang#c&amp;#39;&lt;/span&gt;
    &lt;span class=&#34;nv&#34;&gt;enable_clang_syntax_highlight&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# ä»£ç æ ¼å¼åŒ–&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt;layers&lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;
  &lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;format&amp;#34;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# è¯­æ³•æ£€æŸ¥&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt;layers&lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;
  &lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;checkers&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;spacevimå†…ç½®çš„æ¨¡å—è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œä½†æ˜¯å¾ˆå¤šåŠŸèƒ½ç›¸å¯¹ç®€é™‹ï¼Œä¸ºäº†å®ç°æ›´å¥½çš„æ•ˆæœï¼Œæˆ‘ä»¬è¿˜éœ€è¦å®‰è£…å…¶ä»–çš„æ’ä»¶ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®‰è£…æ’ä»¶ç®¡ç†å™¨vim-plug&#34;&gt;å®‰è£…æ’ä»¶ç®¡ç†å™¨vim-plug&lt;/h3&gt;
&lt;p&gt;è™½ç„¶SpaceVimå·²ç»è‡ªå¸¦æ’ä»¶ç®¡ç†å·¥å…·ï¼Œåœ¨&lt;code&gt;init.toml&lt;/code&gt; é‡Œæ·»åŠ &lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt;custom_plugins&lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;
	&lt;span class=&#34;nv&#34;&gt;repo&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;æ’ä»¶çš„githubåœ°å€&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‡å¯åå³å¯è‡ªåŠ¨ä¸‹è½½&lt;/p&gt;
&lt;p&gt;ç”¨spacevimç®¡ç†çš„è¿™äº›ä»githubä¸Šä¸‹è½½çš„æ’ä»¶å­˜å‚¨åœ¨&lt;code&gt;~/.cache/vimfiles/repos/github.com/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªè‡ªå¸¦çš„æ’ä»¶ç®¡ç†å™¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹è¿˜å¯ä»¥ï¼Œä½†æ˜¯æœ‰æ—¶ä¸å¤ªå¥½ä½¿ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©å¤šä¸‹è½½ä¸€ä¸ªvimçš„ä¸»æµæ’ä»¶ç®¡ç†å™¨&lt;code&gt;vim-plug&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨curlå®‰è£…ï¼Œä¸‹é¢ä¸€æ¡å‘½ä»¤å°±å¤Ÿ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;curl -fLo ~/.vim/autoload/plug.vim --create-dirs &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœé‡åˆ°äº†&lt;code&gt;Connection refused&lt;/code&gt;çš„é”™è¯¯ï¼Œä½¿ç”¨&lt;code&gt;SwitchHosts!&lt;/code&gt; ï¼Œæ·»åŠ ä»¥ä¸‹çš„hostï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;199.232.68.133 raw.githubusercontent.com
199.232.68.133 user-images.githubusercontent.com
199.232.68.133 avatars2.githubusercontent.com
199.232.68.133 avatars1.githubusercontent.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½¿ç”¨æ’ä»¶ç®¡ç†å™¨å®‰è£…æ–°çš„æ’ä»¶çš„æ–¹æ³•æ˜¯ï¼Œåœ¨&lt;code&gt;init.vim&lt;/code&gt; é…ç½®æ–‡ä»¶é‡Œæ·»åŠ ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;call plug#begin&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;

call plug#end&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åæŠŠè¦å®‰è£…çš„æ’ä»¶æ·»åŠ åˆ°è¿™ä¸¤è¡Œä»£ç ä¸­é—´ï¼Œä»¥&lt;code&gt;Plug &#39;xxx/xxx&#39;&lt;/code&gt; çš„æ ¼å¼ï¼Œå¦‚ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;call plug#begin&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
Plug &lt;span class=&#34;s1&#34;&gt;&amp;#39;junegunn/vim-easy-align&amp;#39;&lt;/span&gt;
call plug#end&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹‹åé‡å¯nvimï¼Œä½¿ç”¨å‘½ä»¤&lt;code&gt;:PlugInstall&lt;/code&gt; å°±å¯ä»¥å®‰è£…äº†ã€‚&lt;/p&gt;
&lt;p&gt;è‹¥è¦å¸è½½æ’ä»¶ï¼Œå°±ä»é…ç½®æ–‡ä»¶ä¸­å»é™¤ç›¸åº”çš„é‚£ä¸€è¡Œï¼Œç„¶åä½¿ç”¨å‘½ä»¤&lt;code&gt;:PlugClean&lt;/code&gt; å°±å¯ä»¥å¸è½½äº†ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®‰è£…cocnvim&#34;&gt;å®‰è£…Coc.nvim&lt;/h3&gt;
&lt;p&gt;SpaceVimè‡ªå¸¦çš„è¡¥å…¨è¿˜è¡Œï¼Œä½†æ˜¯ä¸ºäº†è¾¾åˆ°æ•ˆæœæ›´å¥½çš„è¡¥å…¨å’Œè¯­æ³•æ£€æŸ¥ï¼Œæˆ‘é€‰æ‹©å®‰è£…æ’ä»¶&lt;code&gt;coc.nvim&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/neoclide/coc.nvim&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;neoclide/coc.nvim&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¿™å¯ä»¥è¯´æ˜¯ç¥å™¨äº†ï¼Œé™¤äº†åŸºæœ¬çš„è¡¥å…¨ä¹‹å¤–ï¼Œè¿˜æä¾›äº†ä¼—å¤šæ‰©å±•æ¥æ”¯æŒä¸åŒçš„è¯­è¨€å’Œä¸åŒçš„ç‰¹æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨ä¹‹å‰ä¸‹çš„&lt;code&gt;vim-plug&lt;/code&gt; æ¥å®‰è£…&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;Plug &lt;span class=&#34;s1&#34;&gt;&amp;#39;neoclide/coc.nvim&amp;#39;&lt;/span&gt;, &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;branch&amp;#39;&lt;/span&gt;: &lt;span class=&#34;s1&#34;&gt;&amp;#39;release&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®‰è£…å®Œåå¯ä»¥å…ˆç›´æ¥æŠŠå®˜æ–¹çš„ç¤ºä¾‹é…ç½®æ–‡ä»¶ç²˜è´´è¿›&lt;code&gt;init.vim&lt;/code&gt;ï¼Œç¤ºä¾‹é…ç½®æ–‡ä»¶åœ¨githubçš„readmeé‡Œæœ‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†Cè¯­è¨€æ›´å¥½çš„è¡¥å…¨æ”¯æŒï¼Œæˆ‘ä¸‹è½½ç›¸å…³çš„cocæ‰©å±•â€”â€”&lt;code&gt;coc-clangd&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/neoclide/coc.nvim/wiki/Using-coc-extensions&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;neoclide/coc.nvim&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é¦–å…ˆä¿è¯æœ‰&lt;code&gt;node&lt;/code&gt;ç¯å¢ƒï¼Œç„¶åè¿è¡Œä»¥ä¸‹å‘½ä»¤å®‰è£…coc-clangd&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;:CocInstall coc-clangd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®Œæˆåæ‰“å¼€ä¸€ä¸ªcè¯­è¨€æ–‡ä»¶ï¼Œè‹¥æç¤ºæ‰¾ä¸åˆ°clangdï¼Œåˆ™è‡ªå·±æ‰‹åŠ¨ä¸‹è½½ã€‚&lt;/p&gt;
&lt;p&gt;è¿›å…¥github releaseé¡µé¢ä¸‹è½½&lt;code&gt;clangd-mac-11.0.0.zip&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/clangd/clangd/releases/tag/11.0.0&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Release 11.0.0 Â· clangd/clangd&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è§£å‹åç›®å½•ä¸‹æœ‰ä¸€ä¸ª&lt;code&gt;bin&lt;/code&gt;æ–‡ä»¶å¤¹å’Œä¸€ä¸ª&lt;code&gt;lib&lt;/code&gt;æ–‡ä»¶å¤¹&lt;/p&gt;
&lt;p&gt;å°†binä¸‹çš„clangdæ–‡ä»¶ç§»åŠ¨è‡³&lt;code&gt;/usr/local/bin/&lt;/code&gt;ç›®å½•ä¸‹&lt;/p&gt;
&lt;p&gt;å°†libç›®å½•ä¸‹çš„clangæ–‡ä»¶å¤¹ç§»åŠ¨è‡³&lt;code&gt;~/Library/&lt;/code&gt;ç›®å½•ä¸‹&lt;/p&gt;
&lt;p&gt;å†æ¬¡æ‰“å¼€å³å¯æ­£å¸¸ä½¿ç”¨ï¼Œæ³¨æ„æŠŠspacevimè‡ªå¸¦çš„è¡¥å…¨ç»™ç¦ç”¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt;layers&lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;
	&lt;span class=&#34;nv&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;autocomplete&amp;#39;&lt;/span&gt;
	&lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;false&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ•ˆæœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 131; 
			flex-basis: 315px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/vim/Untitled2.png&#34; data-size=&#34;419x319&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/vim/Untitled2.png&#34;
			width=&#34;419&#34;
			height=&#34;319&#34;
			srcset=&#34;https://ccqstark.github.io/p/vim/Untitled2_huf5b3e93ed8311015737b26dbced4d6f4_29041_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/vim/Untitled2_huf5b3e93ed8311015737b26dbced4d6f4_29041_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
å¯ä»¥çœ‹åˆ°ä»£ç æç¤ºæ•ˆæœæ˜¯éå¸¸å¥½çš„&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œé‡Œé¢è¿˜æœ‰å¾ˆå¤šå¾ˆå®ç”¨çš„æ‰©å±•ä¹Ÿå¯ä»¥æ ¹æ®éœ€è¦ä¸‹&lt;/p&gt;
&lt;h3 id=&#34;æ‹¬å·å¼•å·è‡ªåŠ¨è¡¥å…¨&#34;&gt;æ‹¬å·å¼•å·è‡ªåŠ¨è¡¥å…¨&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;coc.nvim&lt;/code&gt;æ’ä»¶å¯¹äºæ‹¬å·å’Œå¼•å·è¿˜æ˜¯æ²¡æœ‰è‡ªåŠ¨è¡¥æˆä¸€å¯¹çš„åŠŸèƒ½ï¼Œå¯ä»¥åœ¨&lt;code&gt;init.vim&lt;/code&gt;é‡Œæ·»åŠ &lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;inoremap &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&amp;lt;Esc&amp;gt;i
inoremap &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;&amp;lt;Esc&amp;gt;i
inoremap &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&amp;lt;CR&amp;gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;&amp;lt;Esc&amp;gt;O
autocmd Syntax html,vim inoremap &amp;lt; &amp;lt;lt&amp;gt;&amp;gt;&amp;lt;Esc&amp;gt;i&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; inoremap &amp;gt; &amp;lt;c-r&amp;gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ClosePair&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&amp;lt;CR&amp;gt;
inoremap &lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &amp;lt;c-r&amp;gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ClosePair&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;)&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&amp;lt;CR&amp;gt;
inoremap &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &amp;lt;c-r&amp;gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;ClosePair&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;]&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&amp;lt;CR&amp;gt;
inoremap &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &amp;lt;c-r&amp;gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;CloseBracket&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;&amp;lt;CR&amp;gt;
inoremap &lt;span class=&#34;s2&#34;&gt;&amp;#34; &amp;lt;c-r&amp;gt;=QuoteDelim(&amp;#39;&amp;#34;&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;)&amp;lt;CR&amp;gt;
&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;inoremap &amp;#39;&lt;/span&gt; &amp;lt;c-r&amp;gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;QuoteDelim&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#39;&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&amp;lt;CR&amp;gt;

&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; ClosePair&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;char&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
 &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; getline&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)[&lt;/span&gt;col&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; - 1&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; a:char
 &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;\&amp;lt;Right&amp;gt;&amp;#34;&lt;/span&gt;
 &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
 &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; a:char
 endif
endf

&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; CloseBracket&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
 &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; match&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;getline&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;line&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; + 1&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;\s*}&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &amp;lt; &lt;span class=&#34;m&#34;&gt;0&lt;/span&gt;
 &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;\&amp;lt;CR&amp;gt;}&amp;#34;&lt;/span&gt;
 &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
 &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;\&amp;lt;Esc&amp;gt;j0f}a&amp;#34;&lt;/span&gt;
 endif
endf

&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; QuoteDelim&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;char&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
 &lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;line&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; getline&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
 &lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;col&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; col&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
 &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; line&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;col - 2&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;\\&amp;#34;&lt;/span&gt;
 &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; a:char
 elseif line&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;col - 1&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; a:char
 &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;\&amp;lt;Right&amp;gt;&amp;#34;&lt;/span&gt;
 &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
 &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; a:char.a:char.&lt;span class=&#34;s2&#34;&gt;&amp;#34;\&amp;lt;Esc&amp;gt;i&amp;#34;&lt;/span&gt;
 endif
endf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å½©è™¹æ‹¬å·&#34;&gt;å½©è™¹æ‹¬å·&lt;/h3&gt;
&lt;p&gt;vimé‡Œä¹Ÿæœ‰ç±»ä¼¼vscodeæˆ–IDEAé‚£æ ·çš„å½©è™¹æ‹¬å·æ’ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;Plug &lt;span class=&#34;s1&#34;&gt;&amp;#39;luochen1990/rainbow&amp;#39;&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#æˆ–&lt;/span&gt;
&lt;span class=&#34;nv&#34;&gt;repo&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;luochen1990/rainbow&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;init.vim&lt;/code&gt; æ·»åŠ &lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; g:rainbow_active &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;let&lt;/span&gt; g:rainbow_conf &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;  &lt;span class=&#34;s1&#34;&gt;&amp;#39;guifgs&amp;#39;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;darkorange3&amp;#39;&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;seagreen3&amp;#39;&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;royalblue3&amp;#39;&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;firebrick&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;,
&lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;  &lt;span class=&#34;s1&#34;&gt;&amp;#39;ctermfgs&amp;#39;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;lightyellow&amp;#39;&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;lightcyan&amp;#39;&lt;/span&gt;,&lt;span class=&#34;s1&#34;&gt;&amp;#39;lightblue&amp;#39;&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;lightmagenta&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;,
&lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;  &lt;span class=&#34;s1&#34;&gt;&amp;#39;operators&amp;#39;&lt;/span&gt;: &lt;span class=&#34;s1&#34;&gt;&amp;#39;_,_&amp;#39;&lt;/span&gt;,
&lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;  &lt;span class=&#34;s1&#34;&gt;&amp;#39;parentheses&amp;#39;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;start=/(/ end=/)/ fold&amp;#39;&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;start=/\[/ end=/\]/ fold&amp;#39;&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;start=/{/ end=/}/ fold&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;,
&lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;  &lt;span class=&#34;s1&#34;&gt;&amp;#39;separately&amp;#39;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;      &lt;span class=&#34;s1&#34;&gt;&amp;#39;*&amp;#39;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{}&lt;/span&gt;,
&lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;      &lt;span class=&#34;s1&#34;&gt;&amp;#39;tex&amp;#39;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;          &lt;span class=&#34;s1&#34;&gt;&amp;#39;parentheses&amp;#39;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;start=/(/ end=/)/&amp;#39;&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;start=/\[/ end=/\]/&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;,
&lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;      &lt;span class=&#34;s1&#34;&gt;&amp;#39;lisp&amp;#39;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;          &lt;span class=&#34;s1&#34;&gt;&amp;#39;guifgs&amp;#39;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;darkorange3&amp;#39;&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;seagreen3&amp;#39;&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;royalblue3&amp;#39;&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;firebrick&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;,
&lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;      &lt;span class=&#34;s1&#34;&gt;&amp;#39;vim&amp;#39;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;          &lt;span class=&#34;s1&#34;&gt;&amp;#39;parentheses&amp;#39;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;start=/(/ end=/)/&amp;#39;&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;start=/\[/ end=/\]/&amp;#39;&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;start=/{/ end=/}/ fold&amp;#39;&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;start=/(/ end=/)/ containedin=vimFuncBody&amp;#39;&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;start=/\[/ end=/\]/ containedin=vimFuncBody&amp;#39;&lt;/span&gt;, &lt;span class=&#34;s1&#34;&gt;&amp;#39;start=/{/ end=/}/ fold containedin=vimFuncBody&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;,
&lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;      &lt;span class=&#34;s1&#34;&gt;&amp;#39;html&amp;#39;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
&lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;          &lt;span class=&#34;s1&#34;&gt;&amp;#39;parentheses&amp;#39;&lt;/span&gt;: &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;start=/\v\&amp;lt;((area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)[ &amp;gt;])@!\z([-_:a-zA-Z0-9]+)(\s+[-_:a-zA-Z0-9]+(\=(&amp;#34;[^&amp;#34;]*&amp;#34;|&amp;#39;&lt;/span&gt;.&lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#39;&amp;#34;&lt;/span&gt;.&lt;span class=&#34;s1&#34;&gt;&amp;#39;[^&amp;#39;&lt;/span&gt;.&lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#39;&amp;#34;&lt;/span&gt;.&lt;span class=&#34;s1&#34;&gt;&amp;#39;]*&amp;#39;&lt;/span&gt;.&lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#39;&amp;#34;&lt;/span&gt;.&lt;span class=&#34;s1&#34;&gt;&amp;#39;|[^ &amp;#39;&lt;/span&gt;.&lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#39;&amp;#34;&lt;/span&gt;.&lt;span class=&#34;s1&#34;&gt;&amp;#39;&amp;#34;&amp;gt;&amp;lt;=`]*))?)*\&amp;gt;/ end=#&amp;lt;/\z1&amp;gt;# fold&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;,
&lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;      &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;,
&lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;      &lt;span class=&#34;s1&#34;&gt;&amp;#39;css&amp;#39;&lt;/span&gt;: 0,
&lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;  &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;se&#34;&gt;\}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å®‰è£…ctrlp&#34;&gt;å®‰è£…CtrlP&lt;/h3&gt;
&lt;p&gt;CtrlPæ˜¯vimä¸‹ä¸€æ¬¾å¾ˆå¥½çš„æ–‡ä»¶æ¨¡ç³Šæœç´¢è·³è½¬æ’ä»¶&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/kien/ctrlp.vim&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;kien/ctrlp.vim&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å®‰è£…&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;nv&#34;&gt;repo&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;kien/ctrlp.vim&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½¿ç”¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;:CtrlP &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;è¦æœç´¢çš„ç›®å½•&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœç›®å½•ä¸‹çš„æ–‡ä»¶è¿‡å¤šï¼Œæ¯”å¦‚ç³»ç»Ÿæ ¹ç›®å½•ï¼Œå°±ä¼šèŠ±æ¯”è¾ƒå¤šçš„æ—¶é—´å»ç´¢å¼•ã€‚æ‰€ä»¥å»ºè®®å°½é‡ç¼©å°èŒƒå›´ã€‚&lt;/p&gt;
&lt;p&gt;ä¹‹åä¾¿å¯ä»¥è¾“å…¥å…³é”®å­—è¿›è¡Œæœç´¢äº†&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 232; 
			flex-basis: 557px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/vim/Untitled3.png&#34; data-size=&#34;581x250&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/vim/Untitled3.png&#34;
			width=&#34;581&#34;
			height=&#34;250&#34;
			srcset=&#34;https://ccqstark.github.io/p/vim/Untitled3_hu9131cf11c6bd1e6efcf3f68e73a175b0_36062_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/vim/Untitled3_hu9131cf11c6bd1e6efcf3f68e73a175b0_36062_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;å…¶ä»–æ’ä»¶&#34;&gt;å…¶ä»–æ’ä»¶&lt;/h2&gt;
&lt;p&gt;æ¯”å¦‚æ›´å¥½çš„ä»£ç æ ¼å¼åŒ–&lt;code&gt;vim-clang-format&lt;/code&gt;å’Œä»£ç æ—¶é—´è®°å½•&lt;code&gt;wakatime&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/rhysd/vim-clang-format&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;rhysd/vim-clang-format&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/wakatime/vim-wakatime&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;wakatime/vim-wakatime&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åŸºæœ¬ä¸Šæƒ³è¦çš„æ’ä»¶éƒ½å¯ä»¥åœ¨githubä¸Šæ‰¾åˆ°ï¼Œæ ¹æ®å®˜æ–¹æ–‡æ¡£ä½¿ç”¨å³å¯&lt;/p&gt;
&lt;h3 id=&#34;å¸¸ç”¨å¿«æ·é”®&#34;&gt;å¸¸ç”¨å¿«æ·é”®&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;SPC 1/2/3&lt;/code&gt; åˆ‡æ¢ä¸åŒçª—å£ï¼Œæ•°å­—ä¸ºçª—å£ç¼–å·&lt;/p&gt;
&lt;p&gt;&lt;code&gt;SPC l r&lt;/code&gt; è¿è¡Œä»£ç &lt;/p&gt;
&lt;p&gt;&lt;code&gt;SPC b f&lt;/code&gt; ä»£ç æ ¼å¼åŒ–&lt;/p&gt;
&lt;p&gt;&lt;code&gt;g d&lt;/code&gt; å‡½æ•°è·³è½¬&lt;/p&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;c-o&amp;gt;&lt;/code&gt; å›è°ƒåˆ°ä¸Šæ¬¡çš„ä½ç½®ï¼ˆè¿™ä¸ªå†™æ³•è¡¨ç¤º&lt;code&gt;ctrl+o&lt;/code&gt;ï¼‰&lt;/p&gt;
&lt;p&gt;æ›´å¤šåŠŸèƒ½å¯ä»¥&lt;code&gt;SPC&lt;/code&gt;ç©ºæ ¼é”®å”¤å‡ºèœå•æŸ¥çœ‹&lt;/p&gt;
&lt;h3 id=&#34;å°¾å£°&#34;&gt;å°¾å£°&lt;/h3&gt;
&lt;p&gt;åˆ°æ­¤ä¸€ä¸ªåŸºæœ¬çš„vimç¼–ç¨‹ç¯å¢ƒå·²ç»æ­å¥½äº†ï¼Œç”¨æ¥å†™ç‚¹å°ä¸œè¥¿è¿˜æ˜¯å¤Ÿç”¨çš„ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸€å¥—æŠ˜è…¾ä¸‹æ¥æœ€å¤§çš„æ„Ÿå—æ˜¯æ›¾ç»è§‰å¾—vimå¥½éš¾å­¦å¥½éš¾ç”¨ï¼Œä½†æ˜¯é€šè¿‡è¿™å‡ å¤©æ£é¼“ä¹‹åå‘ç°åªè¦ç†Ÿç»ƒäº†å…¶å®æ•ˆç‡è¿˜æ˜¯å¾ˆé«˜çš„ã€‚éš¾æ€ªè‡³ä»Šè¿˜æœ‰å¾ˆå¤švimçš„ä½¿ç”¨è€…å’Œçˆ±å¥½è€…ã€‚åŒæ—¶è‡ªå·±å®‰è£…å„ç§æ’ä»¶ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œé€šè¿‡è‡ªå®šä¹‰æ¥è·å¾—ä¸€æ¬¾å®Œå…¨å±äºè‡ªå·±çš„ç¼–è¾‘å™¨çš„è¿‡ç¨‹ä¹Ÿæ˜¯å……æ»¡ä¹è¶£çš„ï¼Œæˆ‘å¾ˆäº«å—è¿™ä¸ªè¿‡ç¨‹ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[Elastic]ElasticSearch å®‰å…¨</title>
        <link>https://ccqstark.github.io/p/x_pack/</link>
        <pubDate>Fri, 29 Jan 2021 21:26:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/x_pack/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/x_pack/x-pack.png" alt="Featured image of post [Elastic]ElasticSearch å®‰å…¨" /&gt;&lt;p&gt;ElacticSearchç´¢å¼•ä¸­æœ‰å¤§é‡çš„æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰ä¸€äº›å®‰å…¨æªæ–½çš„è¯ä¼šè®©ç³»ç»Ÿå¤„äºä¸€ä¸ªååˆ†å±é™©çš„å¤„å¢ƒï¼Œå¼•å‘çš„ç›¸å…³å®‰å…¨äº‹ä»¶å¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« ã€‚&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://juejin.cn/post/6844903780895424526#heading-14&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ä½ çš„Elasticsearchåœ¨&amp;quot;è£¸å¥”&amp;quot;å—ï¼Ÿ&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è€ŒElaticSearchå®˜æ–¹çš„é«˜çº§å®‰å…¨æœåŠ¡æ˜¯æ”¶è´¹çš„ï¼Œä¸»è¦ç»™ä¼ä¸šæä¾›ã€‚ä½†æ˜¯ä»6.8å’Œ7.1ç‰ˆæœ¬å¼€å§‹ï¼ŒåŸºç¡€å®‰å…¨åŠŸèƒ½å°±å…è´¹äº†ï¼Œè€Œä¸”å·²ç»é›†æˆåœ¨é‡Œé¢ä¸ç”¨é¢å¤–å®‰è£…ã€‚&lt;/p&gt;
&lt;p&gt;é™¤æ­¤ä¹‹å¤–è¯¸å¦‚&lt;code&gt;Search Guard&lt;/code&gt;ã€&lt;code&gt;ReadonlyREST&lt;/code&gt;ã€&lt;code&gt;Nginx&lt;/code&gt; ç­‰å¼€æºå…è´¹ç­‰æ–¹æ³•æ¥è¾¾åˆ°å®‰å…¨çš„ç›®çš„ï¼Œè¿™é‡Œä»‹ç»çš„æ˜¯ä½¿ç”¨å®˜æ–¹çš„&lt;code&gt;x-pack&lt;/code&gt;çš„åŸºç¡€å®‰å…¨åŠŸèƒ½ï¼Œå¯¹äºå°é¡¹ç›®æ¥è¯´å¤Ÿç”¨äº†ã€‚&lt;/p&gt;
&lt;p&gt;æœ¬æ–‡ç‰ˆæœ¬ä¸º&lt;code&gt;7.10.1&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä¿®æ”¹é…ç½®æ–‡ä»¶&#34;&gt;ä¿®æ”¹é…ç½®æ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;åœ¨&lt;code&gt;elasticsearch.yml&lt;/code&gt;é‡Œæ–°å¢&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;xpack.security.enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;xpack.security.transport.ssl.enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹‹å&lt;code&gt;é‡å¯&lt;/code&gt; es&lt;/p&gt;
&lt;h3 id=&#34;åœ¨esç›®å½•ä¸‹æ‰§è¡Œ&#34;&gt;åœ¨esç›®å½•ä¸‹æ‰§è¡Œ&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;elasticsearch-setup-passwords interactive
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åè¾“å…¥å¤šä¸ªç”¨æˆ·çš„å¯†ç &lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;Initiating the setup of passwords &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; reserved users elastic,apm_system,kibana,logstash_system,beats_system,remote_monitoring_user.
You will be prompted to enter passwords as the process progresses.
Please confirm that you would like to &lt;span class=&#34;k&#34;&gt;continue&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;y/N&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;y

Enter password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;elastic&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:
Reenter password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;elastic&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:
Passwords &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt; not match.
Try again.
Enter password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;elastic&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:
Reenter password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;elastic&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:
Enter password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;apm_system&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:
Reenter password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;apm_system&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:
Enter password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;kibana&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:
Reenter password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;kibana&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:
Enter password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;logstash_system&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:
Reenter password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;logstash_system&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:
Enter password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;beats_system&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:
Reenter password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;beats_system&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:
Enter password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;remote_monitoring_user&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:
Reenter password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;remote_monitoring_user&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:
Changed password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; user &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;apm_system&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
Changed password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; user &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;kibana&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
Changed password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; user &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;logstash_system&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
Changed password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; user &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;beats_system&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
Changed password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; user &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;remote_monitoring_user&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
Changed password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; user &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;elastic&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å…¶ä¸­&lt;code&gt;elastic&lt;/code&gt;ç”¨æˆ·ç›¸å½“ä¸esçš„rootç”¨æˆ·ï¼Œä¹‹åä½¿ç”¨eså’Œkibanaéœ€è¦è¿™ä¸ªç”¨æˆ·çš„å¯†ç &lt;/p&gt;
&lt;p&gt;è®¾ç½®å®Œé‡å¯ä¸€ä¸‹es&lt;/p&gt;
&lt;h3 id=&#34;æµ‹è¯•&#34;&gt;æµ‹è¯•&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;curl -GET -u elastic http://&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;ip&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:9200/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‘ç°æç¤ºè¾“å…¥elasticç”¨æˆ·çš„å¯†ç &lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;Enter host password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; user &lt;span class=&#34;s1&#34;&gt;&amp;#39;elastic&amp;#39;&lt;/span&gt;:
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åŸºæœ¬çš„å®‰å…¨å°±å®ç°äº†ï¼Œä¹‹åè¿›ä¸€æ­¥é˜²æ­¢æš´åŠ›ç ´è§£å¯†ç å¯ä»¥å†ä½¿ç”¨&lt;code&gt;iptables&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;kibanaè®¾ç½®&#34;&gt;Kibanaè®¾ç½®&lt;/h3&gt;
&lt;p&gt;ä¿®æ”¹&lt;code&gt;kibana.yml&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;elasticsearch.username&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;elastic&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;elasticsearch.password&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;[å¯†ç ]&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;xpack&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;apm.ui.enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;graph.enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ml.enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;monitoring.enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;reporting.enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;security.enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;   &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# è¿™é‡Œè¦æ‰“å¼€&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;grokdebugger.enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;searchprofiler.enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹‹åè¿›å…¥kibanaè¿›å…¥ç™»é™†ç•Œé¢&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 120; 
			flex-basis: 289px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/x_pack/Untitled.png&#34; data-size=&#34;688x570&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/x_pack/Untitled.png&#34;
			width=&#34;688&#34;
			height=&#34;570&#34;
			srcset=&#34;https://ccqstark.github.io/p/x_pack/Untitled_hu77984bd7e55bcd3cc76f22055bacd24f_28635_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/x_pack/Untitled_hu77984bd7e55bcd3cc76f22055bacd24f_28635_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
ç”¨elasticç”¨æˆ·å’Œå¯†ç ç™»é™†å³å¯&lt;/p&gt;
&lt;h3 id=&#34;ä»£ç ä¸­é…ç½®&#34;&gt;ä»£ç ä¸­é…ç½®&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;Java High Level REST Client&lt;/code&gt;ä¸­é…ç½®è´¦æˆ·å’Œå¯†ç &lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CredentialsProvider&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;credentialsProvider&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;BasicCredentialsProvider&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;credentialsProvider&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setCredentials&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;AuthScope&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;ANY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UsernamePasswordCredentials&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;elastic&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;123456&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;//esè´¦å·å¯†ç ï¼ˆé»˜è®¤ç”¨æˆ·åä¸ºelasticï¼‰
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;RestHighLevelClient&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;client&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RestHighLevelClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;RestClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;builder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;
                    &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HttpHost&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;localhost&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;9200&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;http&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;
                    &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setHttpClientConfigCallback&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RestClientBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;HttpClientConfigCallback&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                        &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HttpAsyncClientBuilder&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;customizeHttpClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;HttpAsyncClientBuilder&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;httpClientBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                            &lt;span class=&#34;n&#34;&gt;httpClientBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;disableAuthCaching&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
                            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;httpClientBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setDefaultCredentialsProvider&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;credentialsProvider&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
                        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
                    &lt;span class=&#34;o&#34;&gt;}));&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;SpringBoot&lt;/code&gt;çš„é…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;l&#34;&gt;spring.elasticsearch.rest.username=elastic&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;l&#34;&gt;spring.elasticsearch.rest.password=123456&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;ä¿®æ”¹å¯†ç &#34;&gt;ä¿®æ”¹å¯†ç &lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;curl -H &lt;span class=&#34;s2&#34;&gt;&amp;#34;Content-Type:application/json&amp;#34;&lt;/span&gt; -XPOST -u elastic &lt;span class=&#34;s1&#34;&gt;&amp;#39;http://127.0.0.1:9200/_xpack/security/user/elastic/_password&amp;#39;&lt;/span&gt; -d &lt;span class=&#34;s1&#34;&gt;&amp;#39;{ &amp;#34;password&amp;#34; : &amp;#34;123456&amp;#34; }&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;ç»“å°¾&#34;&gt;ç»“å°¾&lt;/h3&gt;
&lt;p&gt;è¿™é‡Œåªæ˜¯å•èŠ‚ç‚¹ç¤ºä¾‹ï¼Œé›†ç¾¤ä»¥åŠè¯ä¹¦ç›¸å…³å¯ä»¥å‚çœ‹å®˜æ–¹æ–‡æ¡£&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.elastic.co/cn/blog/getting-started-with-elasticsearch-security&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;é€šè¿‡ TLS åŠ å¯†å’ŒåŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ç¡®ä¿ Elasticsearch çš„å®‰å…¨&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[Elastic]ä½¿ç”¨logstashåŒæ­¥MySQLæ•°æ®</title>
        <link>https://ccqstark.github.io/p/logstash_mysql/</link>
        <pubDate>Thu, 28 Jan 2021 21:26:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/logstash_mysql/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/logstash_mysql/logstash-mysql.jpg" alt="Featured image of post [Elastic]ä½¿ç”¨logstashåŒæ­¥MySQLæ•°æ®" /&gt;&lt;h2 id=&#34;å®‰è£…logstash&#34;&gt;å®‰è£…logstash&lt;/h2&gt;
&lt;p&gt;åœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨esè¿›è¡Œæœç´¢ï¼Œæˆ‘ä»¬å°±è¦æŠŠmysqlæ•°æ®åº“ä¸­çš„æ•°æ®åŒæ­¥åˆ°esç´¢å¼•åº“ä¸­ã€‚è¿›è¡Œè¿™é¡¹è¿‡ç¨‹çš„å·¥å…·å¾ˆå¤šï¼Œæ¯”å¦‚go-mysql-elasticsearchï¼Œcanalç­‰ç­‰ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ELKç»„åˆä¸­çš„&lt;code&gt;logsatsh&lt;/code&gt; æ¥å®Œæˆã€‚è¿™é‡ŒåŒæ ·ç”¨dockeræ¥éƒ¨ç½²logstashå®¹å™¨ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ‹‰å–é•œåƒ&#34;&gt;æ‹‰å–é•œåƒ&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker pull logstash:7.10.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å¯åŠ¨å®¹å™¨&#34;&gt;å¯åŠ¨å®¹å™¨&lt;/h3&gt;
&lt;p&gt;å¯åŠ¨åè¿›å…¥å®¹å™¨å†…ï¼Œä¿®æ”¹jvmå¯åŠ¨çš„å†…å­˜è®¾ç½®ï¼Œåœ°å€ä¸º&lt;code&gt;/usr/share/logstash/config/jvm.options&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ä¿®æ”¹jvmå†…å­˜åˆ†é…&lt;/span&gt;
vi jvm.options

&lt;span class=&#34;c1&#34;&gt;# ä¿®æ”¹ä¸‹é¢çš„å‚æ•°ï¼Œå•ä½å¯ä»¥ä¸ºgå’Œm&lt;/span&gt;
-Xms256m
-Xmx256m
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¿®æ”¹åé‡å¯å®¹å™¨å³å¯&lt;/p&gt;
&lt;h3 id=&#34;ä¸‹è½½æ’ä»¶ä¸ä¾èµ–åŒ…&#34;&gt;ä¸‹è½½æ’ä»¶ä¸ä¾èµ–åŒ…&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it logstash bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®‰è£…&lt;code&gt;logstash-input-jdbc&lt;/code&gt;æ’ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;bin/logstash-plugin install logstash-input-jdbc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœå‡ºç°ä»¥ä¸‹ERRORï¼Œè¯´æ˜logstashé‡Œæœ¬èº«å·²ç»åŒ…å«æœ‰è¿™ä¸ªæ’ä»¶äº†ï¼Œå°±æ— éœ€å®‰è£…ã€‚7.10.1çš„ç‰ˆæœ¬æ˜¯å·²ç»è‡ªå¸¦äº†ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;ERROR: Installation aborted, plugin &lt;span class=&#34;s1&#34;&gt;&amp;#39;logstash-input-jdbc&amp;#39;&lt;/span&gt; is already provided by &lt;span class=&#34;s1&#34;&gt;&amp;#39;logstash-integration-jdbc&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸‹è½½mysql-connector-javaï¼Œä¹Ÿå°±æ˜¯jdbcé©±åŠ¨&lt;/p&gt;
&lt;p&gt;MySQLå®˜æ–¹ä¸‹è½½åœ°å€ï¼š&lt;a class=&#34;link&#34; href=&#34;https://downloads.mysql.com/archives/c-j/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://downloads.mysql.com/archives/c-j/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹è½½å¯¹åº”ç‰ˆæœ¬åæœ¬åœ°è§£å‹ï¼Œä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œç„¶åç”¨&lt;code&gt;docker cp&lt;/code&gt;å‘½ä»¤å¤åˆ¶åˆ°logstashå®¹å™¨ä¸­&lt;/p&gt;
&lt;p&gt;åªéœ€è¦å…¶ä¸­çš„jaråŒ…å³å¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æŠŠæ–‡ä»¶å¤åˆ¶åˆ°å®¹å™¨å†…&lt;/span&gt;
docker cp &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;jaråŒ…è·¯å¾„&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; logstash:&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;å®¹å™¨å†…è·¯å¾„&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨&lt;code&gt;/usr/share/logstash&lt;/code&gt;ç›®å½•ä¸‹æ–°å»º&lt;code&gt;mysql/&lt;/code&gt;ç›®å½•ï¼ŒæŠŠjaråŒ…å¤åˆ¶åˆ°è¿™é‡Œ&lt;/p&gt;
&lt;h3 id=&#34;åŒæ­¥é…ç½®æ–‡ä»¶&#34;&gt;åŒæ­¥é…ç½®æ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;åœ¨åˆšåˆšçš„mysqlç›®å½•ä¸‹æ–°å»º&lt;code&gt;jdbc.conf&lt;/code&gt; æ–‡ä»¶ï¼Œæ¥é…ç½®åŒæ­¥æ“ä½œ&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å•è¡¨åŒæ­¥&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;input &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    jdbc &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
			&lt;span class=&#34;c1&#34;&gt;# jaråŒ…çš„ç»å¯¹è·¯å¾„&lt;/span&gt;
			&lt;span class=&#34;nv&#34;&gt;jdbc_driver_library&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;/usr/share/logstash/mysql/mysql-connector-java-5.1.48.jar&amp;#34;&lt;/span&gt;
    	&lt;span class=&#34;nv&#34;&gt;jdbc_driver_class&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;com.mysql.jdbc.Driver&amp;#34;&lt;/span&gt;
   	  &lt;span class=&#34;c1&#34;&gt;# æ•°æ®åº“è¿æ¥ä¿¡æ¯&lt;/span&gt;
			&lt;span class=&#34;nv&#34;&gt;jdbc_connection_string&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;jdbc:mysql://[ip]:3306/[åº“å]?characterEncoding=UTF-8&amp;amp;autoReconnect=true&amp;#34;&lt;/span&gt;
    	&lt;span class=&#34;nv&#34;&gt;jdbc_user&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;[mysqlç”¨æˆ·]&amp;#34;&lt;/span&gt;
    	&lt;span class=&#34;nv&#34;&gt;jdbc_password&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;[å¯†ç ]&amp;#34;&lt;/span&gt;
			&lt;span class=&#34;c1&#34;&gt;# cronçš„å®šæ—¶æ‰§è¡Œè¯­æ³•ä¸€æ ·ï¼Œé»˜è®¤æ¯åˆ†é’ŸåŒæ­¥ä¸€æ¬¡&lt;/span&gt;
    	&lt;span class=&#34;nv&#34;&gt;schedule&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;* * * * *&amp;#34;&lt;/span&gt;
			&lt;span class=&#34;c1&#34;&gt;# æ‰§è¡Œçš„sqlè¯­å¥è¯­æ³•ï¼Œè¿™é‡Œæ˜¯é€šè¿‡å°†ä¸»é”®å¤§äºæœ€åä¸€æ¬¡åŒæ­¥æ‰€è®°å½•çš„å€¼æ¥å®ç°å¢é‡åŒæ­¥çš„&lt;/span&gt;
    	&lt;span class=&#34;nv&#34;&gt;statement&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;SELECT * FROM activity WHERE activity_id &amp;gt; :sql_last_value order by activity_id asc&amp;#34;&lt;/span&gt;
			&lt;span class=&#34;nv&#34;&gt;use_column_value&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;
			&lt;span class=&#34;c1&#34;&gt;# ç”¨æ¥ä½œä¸ºå¢é‡åŒæ­¥çš„åˆ¤æ–­å­—æ®µï¼Œæœ€å¥½ä¸ºè¡¨çš„ä¸»é”®&lt;/span&gt;
			&lt;span class=&#34;nv&#34;&gt;tracking_column&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;activity_id&amp;#34;&lt;/span&gt;
			&lt;span class=&#34;c1&#34;&gt;# æ˜¯å¦è®°å½•ä¸Šæ¬¡æ‰§è¡Œç»“æœï¼Œtrueè¡¨ç¤ºä¼šå°†ä¸Šæ¬¡æ‰§è¡Œç»“æœçš„tracking_columnå­—æ®µçš„å€¼ä¿å­˜åˆ°last_run_metadata_pathæŒ‡å®šçš„æ–‡ä»¶ä¸­ï¼›&lt;/span&gt;
			&lt;span class=&#34;nv&#34;&gt;record_last_run&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;nb&#34;&gt;true&lt;/span&gt;
			&lt;span class=&#34;c1&#34;&gt;# record_last_runä¸Šæ¬¡æ•°æ®å­˜æ”¾ä½ç½®&lt;/span&gt;
			&lt;span class=&#34;nv&#34;&gt;last_run_metadata_path&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;/usr/share/logstash/mysql/last_id.txt&amp;#34;&lt;/span&gt;
			&lt;span class=&#34;c1&#34;&gt;# æ˜¯å¦æ¸…é™¤last_run_metadata_pathçš„è®°å½•ï¼Œéœ€è¦å¢é‡åŒæ­¥æ—¶æ­¤å­—æ®µå¿…é¡»ä¸ºfalse&lt;/span&gt;
			&lt;span class=&#34;nv&#34;&gt;clean_run&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;nb&#34;&gt;false&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

output&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
	elasticsearch&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;nv&#34;&gt;hosts&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;[ip]:9200&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
		&lt;span class=&#34;nv&#34;&gt;index&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;[ç´¢å¼•å]&amp;#34;&lt;/span&gt;
		&lt;span class=&#34;c1&#34;&gt;# æ•°æ®å”¯ä¸€ç´¢å¼•ï¼ˆå»ºè®®ä½¿ç”¨æ•°æ®åº“KeyIDï¼‰&lt;/span&gt;
		&lt;span class=&#34;nv&#34;&gt;document_id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;%{activity_id}&amp;#34;&lt;/span&gt;
	&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
  stdout &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt; 
		&lt;span class=&#34;nv&#34;&gt;codec&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; rubydebug 
	&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;å¤šè¡¨åŒæ­¥&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¤šè¡¨é…ç½®å’Œå•è¡¨é…ç½®çš„åŒºåˆ«åœ¨äºinputæ¨¡å—çš„jdbcæ¨¡å—æœ‰å‡ ä¸ªtypeï¼Œoutputæ¨¡å—å°±éœ€å¯¹åº”æœ‰å‡ ä¸ªtype&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;input &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
	stdin &lt;span class=&#34;o&#34;&gt;{}&lt;/span&gt;
	jdbc &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
		 &lt;span class=&#34;c1&#34;&gt;# å¤šè¡¨åŒæ­¥æ—¶ï¼Œè¡¨ç±»å‹åŒºåˆ†ï¼Œå»ºè®®å‘½åä¸ºâ€œåº“å_è¡¨åâ€ï¼Œæ¯ä¸ªjdbcæ¨¡å—éœ€å¯¹åº”ä¸€ä¸ªtypeï¼›&lt;/span&gt;
		&lt;span class=&#34;nb&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;TestDB_DetailTab&amp;#34;&lt;/span&gt;
		
		 &lt;span class=&#34;c1&#34;&gt;# å…¶ä»–é…ç½®æ­¤å¤„çœç•¥ï¼Œå‚è€ƒå•è¡¨é…ç½®&lt;/span&gt;
		 &lt;span class=&#34;c1&#34;&gt;# ...&lt;/span&gt;
		 &lt;span class=&#34;c1&#34;&gt;# ...&lt;/span&gt;
		 &lt;span class=&#34;c1&#34;&gt;# record_last_runä¸Šæ¬¡æ•°æ®å­˜æ”¾ä½ç½®ï¼›&lt;/span&gt;
		&lt;span class=&#34;nv&#34;&gt;last_run_metadata_path&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;mysql\last_id.txt&amp;#34;&lt;/span&gt;
		 &lt;span class=&#34;c1&#34;&gt;# æ˜¯å¦æ¸…é™¤last_run_metadata_pathçš„è®°å½•ï¼Œéœ€è¦å¢é‡åŒæ­¥æ—¶æ­¤å­—æ®µå¿…é¡»ä¸ºfalseï¼›&lt;/span&gt;
		&lt;span class=&#34;nv&#34;&gt;clean_run&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;nb&#34;&gt;false&lt;/span&gt;
		 &lt;span class=&#34;c1&#34;&gt;#&lt;/span&gt;
		 &lt;span class=&#34;c1&#34;&gt;# åŒæ­¥é¢‘ç‡(åˆ† æ—¶ å¤© æœˆ å¹´)ï¼Œé»˜è®¤æ¯åˆ†é’ŸåŒæ­¥ä¸€æ¬¡ï¼›&lt;/span&gt;
		&lt;span class=&#34;nv&#34;&gt;schedule&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;* * * * *&amp;#34;&lt;/span&gt;
	&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
	jdbc &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
		 &lt;span class=&#34;c1&#34;&gt;# å¤šè¡¨åŒæ­¥æ—¶ï¼Œè¡¨ç±»å‹åŒºåˆ†ï¼Œå»ºè®®å‘½åä¸ºâ€œåº“å_è¡¨åâ€ï¼Œæ¯ä¸ªjdbcæ¨¡å—éœ€å¯¹åº”ä¸€ä¸ªtypeï¼›&lt;/span&gt;
		&lt;span class=&#34;nb&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;TestDB_Tab2&amp;#34;&lt;/span&gt;
		&lt;span class=&#34;c1&#34;&gt;# å¤šè¡¨åŒæ­¥æ—¶ï¼Œlast_run_metadata_pathé…ç½®çš„è·¯å¾„åº”ä¸ä¸€è‡´ï¼Œé¿å…æœ‰å½±å“ï¼›&lt;/span&gt;
		 &lt;span class=&#34;c1&#34;&gt;# å…¶ä»–é…ç½®æ­¤å¤„çœç•¥&lt;/span&gt;
		 &lt;span class=&#34;c1&#34;&gt;# ...&lt;/span&gt;
		 &lt;span class=&#34;c1&#34;&gt;# ...&lt;/span&gt;
	&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

filter &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
	json &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;nb&#34;&gt;source&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;message&amp;#34;&lt;/span&gt;
		&lt;span class=&#34;nv&#34;&gt;remove_field&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;message&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
	&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

output &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;c1&#34;&gt;# outputæ¨¡å—çš„typeéœ€å’Œjdbcæ¨¡å—çš„typeä¸€è‡´&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;type&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;TestDB_DetailTab&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
		elasticsearch &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
			 &lt;span class=&#34;c1&#34;&gt;# host =&amp;gt; &amp;#34;192.168.1.1&amp;#34;&lt;/span&gt;
			 &lt;span class=&#34;c1&#34;&gt;# port =&amp;gt; &amp;#34;9200&amp;#34;&lt;/span&gt;
			 &lt;span class=&#34;c1&#34;&gt;# é…ç½®ESé›†ç¾¤åœ°å€&lt;/span&gt;
			&lt;span class=&#34;nv&#34;&gt;hosts&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;192.168.1.1:9200&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;192.168.1.2:9200&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;192.168.1.3:9200&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
			 &lt;span class=&#34;c1&#34;&gt;# ç´¢å¼•åå­—ï¼Œå¿…é¡»å°å†™&lt;/span&gt;
			&lt;span class=&#34;nv&#34;&gt;index&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;detailtab1&amp;#34;&lt;/span&gt;
			 &lt;span class=&#34;c1&#34;&gt;# æ•°æ®å”¯ä¸€ç´¢å¼•ï¼ˆå»ºè®®ä½¿ç”¨æ•°æ®åº“KeyIDï¼‰&lt;/span&gt;
			&lt;span class=&#34;nv&#34;&gt;document_id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;%{KeyId}&amp;#34;&lt;/span&gt;
		&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
	&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
	&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;type&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;TestDB_Tab2&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
		elasticsearch &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
			&lt;span class=&#34;c1&#34;&gt;# host =&amp;gt; &amp;#34;192.168.1.1&amp;#34;&lt;/span&gt;
			&lt;span class=&#34;c1&#34;&gt;# port =&amp;gt; &amp;#34;9200&amp;#34;&lt;/span&gt;
			&lt;span class=&#34;c1&#34;&gt;# é…ç½®ESé›†ç¾¤åœ°å€&lt;/span&gt;
			&lt;span class=&#34;nv&#34;&gt;hosts&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;192.168.1.1:9200&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;192.168.1.2:9200&amp;#34;&lt;/span&gt;, &lt;span class=&#34;s2&#34;&gt;&amp;#34;192.168.1.3:9200&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
			&lt;span class=&#34;c1&#34;&gt;# ç´¢å¼•åå­—ï¼Œå¿…é¡»å°å†™&lt;/span&gt;
			&lt;span class=&#34;nv&#34;&gt;index&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;detailtab2&amp;#34;&lt;/span&gt;
			&lt;span class=&#34;c1&#34;&gt;# æ•°æ®å”¯ä¸€ç´¢å¼•ï¼ˆå»ºè®®ä½¿ç”¨æ•°æ®åº“KeyIDï¼‰&lt;/span&gt;
			&lt;span class=&#34;nv&#34;&gt;document_id&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;%{KeyId}&amp;#34;&lt;/span&gt;
		&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
	&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
	stdout &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
		&lt;span class=&#34;nv&#34;&gt;codec&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&amp;gt; json_lines
	&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸ºäº†ç»Ÿä¸€ï¼ŒæŠŠæ•°æ®ä¹Ÿæ”¾è¿™ä¸ªç›®å½•ä¸‹ï¼Œåœ¨mysqlç›®å½•ä¸‹å†æ–°å»ºç›®å½•&lt;code&gt;data&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;mkdir data
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å¯åŠ¨logstashåŒæ­¥&#34;&gt;å¯åŠ¨logstashåŒæ­¥&lt;/h3&gt;
&lt;p&gt;cdå›åˆ°&lt;code&gt;/usr/share/logstash&lt;/code&gt;ç›®å½•ï¼Œå¯åŠ¨åŒæ­¥&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;./bin/logstash -f mysql/jdbc.conf --path.data&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/share/logstash/mysql/data/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ï¼Œè¦ä¿è¯ç»™elasticsearchçš„åˆ†é…çš„å†…å­˜è¶³å¤Ÿå¤§æ‰è¡Œï¼Œæµ‹è¯•ç”¨çš„256mæ˜¯ä¸å¤Ÿçš„ï¼Œä¼šå¯¼è‡´eså®¹å™¨é€€å‡ºï¼Œè‡³å°‘ç»™ä¸ª1g&lt;/p&gt;
&lt;p&gt;&lt;code&gt;â€”-path.data&lt;/code&gt;å‚æ•°ç”¨æ¥è®¾ç½®åŒæ­¥æ•°æ®å­˜æ”¾çš„ä½ç½®&lt;/p&gt;
&lt;p&gt;å¯åŠ¨ä¹‹åæ§åˆ¶å°ä¼šæ‰“å°å‡ºå¤§æ¦‚ä»¥ä¸‹ä¿¡æ¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;Using bundled JDK: /usr/share/logstash/jdk
OpenJDK 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9.0 and will likely be removed in a future release.
WARNING: An illegal reflective access operation has occurred
WARNING: Illegal reflective access by org.jruby.ext.openssl.SecurityHelper &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;file:/tmp/jruby-423/jruby7667758569951782495jopenssl.jar&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; to field java.security.MessageDigest.provider
WARNING: Please consider reporting this to the maintainers of org.jruby.ext.openssl.SecurityHelper
WARNING: Use --illegal-access&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;warn to &lt;span class=&#34;nb&#34;&gt;enable&lt;/span&gt; warnings of further illegal reflective access operations
WARNING: All illegal access operations will be denied in a future release
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¼€å§‹åŒæ­¥ä¼šæ‰“å°å‡ºä»æ•°æ®åº“è¯»å–çš„ï¼Œæ’å…¥åˆ°elasticsearchçš„ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;å®é™…ä½¿ç”¨ä¸­ç”¨&lt;code&gt;nohup&lt;/code&gt; æ¥ä¿æŒåå°è¿è¡Œ&lt;/p&gt;
&lt;h3 id=&#34;ç¼ºç‚¹&#34;&gt;ç¼ºç‚¹&lt;/h3&gt;
&lt;p&gt;logstashçš„ç¼ºç‚¹å¾ˆæ˜æ˜¾ï¼Œå°±æ˜¯åªèƒ½åŒæ­¥mysqlä¸­æ–°å¢çš„æ•°æ®ï¼Œå¯¹äºæ›´æ”¹çš„ã€åˆ é™¤çš„å°±æ— èƒ½ä¸ºåŠ›äº†ã€‚è¿™å…¶å®ä¹Ÿå¾ˆå¥½ç†è§£ï¼ŒELKå…¶å®æœ¬æ¥å°±æ˜¯ç”¨æ¥æ”¶é›†ä¸åˆ†ææ—¥å¿—çš„ï¼Œè€ŒåŒæ­¥å¢åŠ çš„æ•°æ®å·²ç»è¶³å¤Ÿäº†ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘è§‰å¾—esä¸mysqlæœ€å¥½çš„åŒæ­¥å·¥å…·å…¶å®æ˜¯é˜¿é‡Œçš„å¼€æºçš„&lt;code&gt;canal&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/alibaba/canal&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;alibaba/canal&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[Elastic]ä½¿ç”¨dockerå®‰è£…ElasticSearch &#43; Kibana</title>
        <link>https://ccqstark.github.io/p/es_docker/</link>
        <pubDate>Wed, 27 Jan 2021 21:26:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/es_docker/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/es_docker/elastic-docker.png" alt="Featured image of post [Elastic]ä½¿ç”¨dockerå®‰è£…ElasticSearch &#43; Kibana" /&gt;&lt;h2 id=&#34;å®‰è£…elasticsearch&#34;&gt;å®‰è£…ElasticSearch&lt;/h2&gt;
&lt;h3 id=&#34;æ‹‰å–é•œåƒ&#34;&gt;æ‹‰å–é•œåƒ&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker pull elasticsearch:7.10.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å¯åŠ¨å®¹å™¨&#34;&gt;å¯åŠ¨å®¹å™¨&lt;/h3&gt;
&lt;p&gt;åŒæ—¶æŒ‚è½½ç›®å½•ï¼ˆåŒ…æ‹¬é…ç½®æ–‡ä»¶å’Œdataï¼‰ï¼ˆæŒ‚è½½å‡ºæ¥çš„ä½ç½®è‡ªå·±å®šä¹‰ï¼‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker run --name elasticsearch -p 9200:9200 -p 9300:9300 -e &lt;span class=&#34;nv&#34;&gt;ES_JAVA_OPTS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;-Xms256m -Xmx256m&amp;#34;&lt;/span&gt; -d &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-v /home/es/config/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-v /home/es/data:/usr/share/elasticsearch/data elasticsearch:7.10.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„è¿™é‡Œè¿˜è®¾ç½®äº†&lt;code&gt;JVMçš„å†…å­˜&lt;/code&gt;å¤§å°ï¼Œé»˜è®¤ä¸º2Gï¼Œæœ‰ç‚¹å¤§ï¼Œå¾ˆå¯èƒ½ä¼šå› ä¸ºå†…å­˜ä¸å¤Ÿè€Œæ— æ³•æ­£å¸¸å¯åŠ¨ã€‚å¯ä»¥åƒæˆ‘è¿™é‡Œæ”¹ä¸º256mæˆ–è€…å…¶ä»–å€¼ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å¯èƒ½å‡ºç°çš„é”™è¯¯&#34;&gt;å¯èƒ½å‡ºç°çš„é”™è¯¯&lt;/h3&gt;
&lt;p&gt;æŸ¥çœ‹å®¹å™¨æ—¥å¿—&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker logs elasticsearch
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœå‡ºç°ä»¥ä¸‹é”™è¯¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;max virtual memory areas vm.max_map_count &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;65530&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; is too low, increase to at least &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;262144&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆ™è¦ä¿®æ”¹æœåŠ¡å™¨é…ç½®&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;vim /etc/sysctl.conf
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ·»åŠ è¿™è¡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;vm.max_map_count&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;262144&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç«‹å³ç”Ÿæ•ˆ, æ‰§è¡Œï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;/sbin/sysctl -p
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯¹æŒ‚è½½çš„å®¿ä¸»æœºdataç›®å½•å¯èƒ½å‡ºç°æƒé™ä¸è¶³é—®é¢˜&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;chmod &lt;span class=&#34;m&#34;&gt;777&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;å®¿ä¸»æœºdataç›®å½•&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;é…ç½®è·¨åŸŸ&#34;&gt;é…ç½®è·¨åŸŸ&lt;/h3&gt;
&lt;p&gt;åˆ°æŒ‚è½½å‡ºæ¥åˆ°ä½ç½®ç¼–è¾‘é…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;vim elasticsearch.yml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ·»åŠ ä»¥ä¸‹å‡ è¡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;network.host&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;0.0.0.0&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;discovery.type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;single-node&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;http.cors.enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;http.cors.allow-origin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;*&amp;#34;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åŒæ—¶å®‰å…¨ç»„å’Œé˜²ç«å¢™è®°å¾—æ‰“å¼€å¯¹åº”ç«¯å£&lt;/p&gt;
&lt;h3 id=&#34;è®°å¾—æ¯æ¬¡ä¿®æ”¹å®Œé…ç½®éƒ½è¦é‡å¯&#34;&gt;è®°å¾—æ¯æ¬¡ä¿®æ”¹å®Œé…ç½®éƒ½è¦é‡å¯&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker restart elasticsearch
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æµè§ˆå™¨è®¿é—®æµ‹è¯•&#34;&gt;æµè§ˆå™¨è®¿é—®æµ‹è¯•&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;http://&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;IP&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:9200
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„jsonå°±æˆåŠŸäº†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nt&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;8c819d377714&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
	&lt;span class=&#34;nt&#34;&gt;&amp;#34;cluster_name&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;elasticsearch&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
	&lt;span class=&#34;nt&#34;&gt;&amp;#34;cluster_uuid&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;-AkgwTlbS1SsjvzNtG45nw&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
	&lt;span class=&#34;nt&#34;&gt;&amp;#34;version&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
	&lt;span class=&#34;nt&#34;&gt;&amp;#34;number&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;7.10.1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
	&lt;span class=&#34;nt&#34;&gt;&amp;#34;build_flavor&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;default&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
	&lt;span class=&#34;nt&#34;&gt;&amp;#34;build_type&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;docker&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
	&lt;span class=&#34;nt&#34;&gt;&amp;#34;build_hash&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;1c34507e66d7db1211f66f3513706fdf548736aa&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
	&lt;span class=&#34;nt&#34;&gt;&amp;#34;build_date&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;2020-12-05T01:00:33.671820Z&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
	&lt;span class=&#34;nt&#34;&gt;&amp;#34;build_snapshot&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
	&lt;span class=&#34;nt&#34;&gt;&amp;#34;lucene_version&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;8.7.0&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
	&lt;span class=&#34;nt&#34;&gt;&amp;#34;minimum_wire_compatibility_version&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;6.8.0&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
	&lt;span class=&#34;nt&#34;&gt;&amp;#34;minimum_index_compatibility_version&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;6.0.0-beta1&amp;#34;&lt;/span&gt;
	&lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
	&lt;span class=&#34;nt&#34;&gt;&amp;#34;tagline&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;You Know, for Search&amp;#34;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;
&lt;p&gt;å¦‚æœæ— æ³•è®¿é—®åˆ°&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;å¦‚æœå¼€äº†å®‰å…¨ç»„å’Œé˜²ç«å¢™çš„è¯è¿˜æ˜¯æ— æ³•è®¿é—®åˆ°çš„è¯ï¼Œçœ‹çœ‹åœ¨å®¹å™¨å¯åŠ¨æ—¶æ˜¯å¦æœ‰å¦‚ä¸‹è­¦å‘Šï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;WARNING: IPv4 forwarding is disabled. Networking will not work.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æŒ‰å¦‚ä¸‹æ­¥éª¤æ“ä½œå†è®¿é—®å³å¯&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;vim /etc/sysctl.conf

&lt;span class=&#34;c1&#34;&gt;#æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š&lt;/span&gt;
net.ipv4.ip_forward&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;#é‡å¯networkæœåŠ¡&lt;/span&gt;
systemctl restart network

&lt;span class=&#34;c1&#34;&gt;#æŸ¥çœ‹æ˜¯å¦ä¿®æ”¹æˆåŠŸ&lt;/span&gt;
sysctl net.ipv4.ip_forward

&lt;span class=&#34;c1&#34;&gt;#å¦‚æœè¿”å›ä¸ºâ€œnet.ipv4.ip_forward = 1â€åˆ™è¡¨ç¤ºæˆåŠŸäº†&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;#è¿™æ—¶ï¼Œé‡å¯å®¹å™¨å³å¯ã€‚&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;å®‰è£…elasticsearch-head&#34;&gt;å®‰è£…elasticsearch-head&lt;/h2&gt;
&lt;h3 id=&#34;æ‹‰å–é•œåƒ-1&#34;&gt;æ‹‰å–é•œåƒ&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker pull mobz/elasticsearch-head:5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å¯åŠ¨å®¹å™¨-1&#34;&gt;å¯åŠ¨å®¹å™¨&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker run -it -d --name head -p 9100:9100 mobz/elasticsearch-head:5
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æµè§ˆå™¨æ‰“å¼€&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;http://&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;ip&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:9100/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨ä¸Šé¢é›†ç¾¤è¿æ¥å¤„çš„è¾“å…¥æ¡†è¾“å…¥elasticsearchçš„åœ°å€&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;http://&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;IP&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:9200
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹‹åç‚¹å‡»è¿æ¥ï¼Œå³è¾¹çš„&lt;code&gt;é›†ç¾¤å¥åº·å€¼&lt;/code&gt;å­—æ ·å‡ºç°ç»¿è‰²èƒŒæ™¯ä»£è¡¨æˆåŠŸè¿æ¥&lt;/p&gt;
&lt;h2 id=&#34;å®‰è£…kibana&#34;&gt;å®‰è£…Kibana&lt;/h2&gt;
&lt;h3 id=&#34;æ‹‰å–é•œåƒ-2&#34;&gt;æ‹‰å–é•œåƒ&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker pull kibana:7.10.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ³¨æ„ç‰ˆæœ¬å’ŒESçš„è¦å¯¹åº”&lt;/p&gt;
&lt;h3 id=&#34;é…ç½®æ–‡ä»¶kibanayml&#34;&gt;é…ç½®æ–‡ä»¶kibana.yml&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†æŒ‚è½½é…ç½®æ–‡ä»¶ï¼Œæˆ‘ä»¬å…ˆåœ¨æœ¬æœºåˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œè¿™é‡Œä»¥&lt;code&gt;/home/kibana/config/kibana.yml&lt;/code&gt; ä¸ºä¾‹&lt;/p&gt;
&lt;p&gt;é…ç½®æ–‡ä»¶ä¸­å†™å…¥&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;server.host&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;0.0.0.0&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;elasticsearch.hosts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;http://[ipåœ°å€]:9200/&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;xpack&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;apm.ui.enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;graph.enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ml.enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;monitoring.enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;reporting.enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;security.enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;grokdebugger.enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;searchprofiler.enabled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å¯åŠ¨å®¹å™¨-2&#34;&gt;å¯åŠ¨å®¹å™¨&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker run -d -it &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--name kibana -p 5601:5601 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-v /home/kibana/config/kibana.yml:/usr/share/kibana/config/kibana.yml kibana:7.10.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æµè§ˆå™¨æ‰“å¼€&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;http://&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;ip&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:5601/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å®‰è£…ikåˆ†è¯å™¨&#34;&gt;å®‰è£…ikåˆ†è¯å™¨&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆè¿›å…¥esçš„å®¹å™¨å†…&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it elasticsearch /bin/bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½¿ç”¨binç›®å½•ä¸‹çš„elasticsearch-plugin installå®‰è£…ikåˆ†è¯å™¨æ’ä»¶ï¼ˆæ³¨æ„ç‰ˆæœ¬è¦å¯¹åº”ï¼‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# githubå®˜æ–¹&lt;/span&gt;
bin/elasticsearch-plugin install https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.10.1/elasticsearch-analysis-ik-7.10.1.zip
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œå¯èƒ½ä¼šå¾ˆæ…¢ï¼Œå¯ä»¥ç”¨é•œåƒåŠ é€Ÿ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# é•œåƒåŠ é€Ÿ&lt;/span&gt;
bin/elasticsearch-plugin install https://github.91chifun.workers.dev//https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.10.1/elasticsearch-analysis-ik-7.10.1.zip
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹Ÿå¯ä»¥é€‰æ‹©æœ¬åœ°ä¸‹è½½è§£å‹å®Œå†ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œå†æŠŠå®ƒç§»åŠ¨åˆ°å®¹å™¨å†…çš„pluginsæ–‡ä»¶å¤¹é‡Œ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç„¶åé‡å¯å®¹å™¨&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker restart elasticsearch
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;åœ¨kibanaä¸­æµ‹è¯•&#34;&gt;åœ¨kibanaä¸­æµ‹è¯•&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;GET _analyze
&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
  &lt;span class=&#34;s2&#34;&gt;&amp;#34;analyzer&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;ik_max_word&amp;#34;&lt;/span&gt;,
  &lt;span class=&#34;s2&#34;&gt;&amp;#34;text&amp;#34;&lt;/span&gt;: &lt;span class=&#34;s2&#34;&gt;&amp;#34;å„åœ°æ ¡è½¦å°†äº«æœ€é«˜è·¯æƒ&amp;#34;&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ‰&lt;code&gt;ik_smart&lt;/code&gt; å’Œ &lt;code&gt;ik_max_word&lt;/code&gt; ä¸¤ç§æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯&lt;code&gt;æœ€ç²—ç²’åº¦çš„æ‹†åˆ†&lt;/code&gt;å’Œ&lt;code&gt;æœ€ç»†ç²’åº¦çš„æ‹†åˆ†&lt;/code&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ä»€ä¹ˆæ˜¯CAPç†è®ºï¼Ÿ</title>
        <link>https://ccqstark.github.io/p/cap/</link>
        <pubDate>Thu, 21 Jan 2021 23:01:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/cap/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/cap/cover.png" alt="Featured image of post ä»€ä¹ˆæ˜¯CAPç†è®ºï¼Ÿ" /&gt;&lt;p&gt;éšç€ç§»åŠ¨äº’è”ç½‘å‘å±•ï¼Œç”¨æˆ·å’Œæ•°æ®é‡è¶Šæ¥è¶Šå¤šï¼Œå¯¹åº”ç”¨ç³»ç»Ÿæå‡ºäº†æ›´é«˜çš„è¦æ±‚ï¼Œç³»ç»Ÿå¿…é¡»æ”¯æŒé«˜å¹¶å‘è®¿é—®å’Œæµ·é‡æ•°æ®å¤„ç†ã€‚&lt;/p&gt;
&lt;p&gt;åˆ†å¸ƒå¼ç³»ç»ŸæŠ€æœ¯å°±æ˜¯ç”¨æ¥è§£å†³é›†ä¸­å¼æ¶æ„çš„æ€§èƒ½ç“¶é¢ˆé—®é¢˜ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿæ˜¯å»ºç«‹åœ¨ç½‘ç»œä¹‹ä¸Šçš„ç¡¬ä»¶æˆ–è€…è½¯ä»¶ç³»ç»Ÿï¼Œå½¼æ­¤ä¹‹é—´é€šè¿‡æ¶ˆæ¯ç­‰æ–¹å¼è¿›è¡Œé€šä¿¡å’Œåè°ƒã€‚&lt;/p&gt;
&lt;p&gt;åˆ†å¸ƒå¼ç³»ç»Ÿçš„æ ¸å¿ƒæ˜¯&lt;strong&gt;å¯æ‰©å±•æ€§&lt;/strong&gt;ï¼Œé€šè¿‡å¯¹æœåŠ¡ã€å­˜å‚¨çš„æ‰©å±•ï¼Œæ¥æé«˜ç³»ç»Ÿçš„å¤„ç†èƒ½åŠ›ï¼Œé€šè¿‡å¯¹å¤šå°æœåŠ¡å™¨ååŒå·¥ä½œï¼Œæ¥å®Œæˆå•å°æœåŠ¡å™¨æ— æ³•å¤„ç†çš„ä»»åŠ¡ï¼Œå°¤å…¶æ˜¯é«˜å¹¶å‘æˆ–è€…å¤§æ•°æ®é‡çš„ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;å•ç‚¹æ•…éšœ&lt;/code&gt;ï¼ˆSingle Point Failureï¼‰æ˜¯æŒ‡åœ¨ç³»ç»Ÿä¸­æŸä¸ªç»„ä»¶ä¸€æ—¦å¤±æ•ˆï¼Œè¿™ä¼šè®©æ•´ä¸ªç³»ç»Ÿæ— æ³•å·¥ä½œã€‚è€Œåˆ†å¸ƒå¼ç³»ç»Ÿçš„è®¾è®¡å°±æ˜¯ä¸ºäº†é¿å…å‡ºç°å•ç‚¹æ•…éšœé—®é¢˜ï¼Œä¸ºäº†å®ç°ä¸€ä¸ªèŠ‚ç‚¹çš„å¤±æ•ˆä¸å½±å“æ•´ä¸ªç³»ç»Ÿçš„è¿è¡Œã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;æ— çŠ¶æ€&lt;/code&gt;ï¼Œæ˜¯å› ä¸ºæ— çŠ¶æ€çš„æœåŠ¡æ‰èƒ½æ»¡è¶³éƒ¨åˆ†æœºå™¨å®•æœºä¸å½±å“å…¨éƒ¨ï¼Œå¯ä»¥éšæ—¶è¿›è¡Œæ‰©å±•çš„éœ€æ±‚ã€‚&lt;/p&gt;
&lt;p&gt;ç”±äºåˆ†å¸ƒå¼ç³»ç»Ÿçš„ç‰¹ç‚¹ï¼Œåœ¨åˆ†å¸ƒå¼ç¯å¢ƒä¸­æ›´å®¹æ˜“å‡ºç°é—®é¢˜ï¼Œæ¯”å¦‚èŠ‚ç‚¹ä¹‹é—´é€šä¿¡å¤±è´¥ã€ç½‘ç»œåˆ†åŒºæ•…éšœã€å¤šä¸ªå‰¯æœ¬çš„æ•°æ®ä¸ä¸€è‡´ç­‰ï¼Œä¸ºäº†æ›´å¥½åœ°åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸‹è¿›è¡Œå¼€å‘ï¼Œå­¦è€…ä»¬æå‡ºäº†ä¸€ç³»åˆ—çš„ç†è®ºï¼Œå…¶ä¸­å…·æœ‰ä»£è¡¨æ€§çš„å°±æ˜¯ CAP ç†è®ºã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 116; 
			flex-basis: 280px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/cap/Untitled.png&#34; data-size=&#34;693x594&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/cap/Untitled.png&#34;
			width=&#34;693&#34;
			height=&#34;594&#34;
			srcset=&#34;https://ccqstark.github.io/p/cap/Untitled_hud18a587d618315cba6c9a61b5b776adf_115710_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/cap/Untitled_hud18a587d618315cba6c9a61b5b776adf_115710_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
&lt;code&gt;ä¸€è‡´æ€§&lt;/code&gt;æ˜¯æŒ‡â€œæ‰€æœ‰èŠ‚ç‚¹åŒæ—¶çœ‹åˆ°ç›¸åŒçš„æ•°æ®â€ï¼Œå³æ›´æ–°æ“ä½œæˆåŠŸå¹¶è¿”å›å®¢æˆ·ç«¯å®Œæˆåï¼Œæ‰€æœ‰èŠ‚ç‚¹åœ¨åŒä¸€æ—¶é—´çš„æ•°æ®å®Œå…¨ä¸€è‡´ï¼Œç­‰åŒäº&lt;strong&gt;æ‰€æœ‰èŠ‚ç‚¹æ‹¥æœ‰æ•°æ®çš„æœ€æ–°ç‰ˆæœ¬&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;å¯ç”¨æ€§&lt;/code&gt;æ˜¯æŒ‡â€œä»»ä½•æ—¶å€™ï¼Œè¯»å†™éƒ½æ˜¯æˆåŠŸçš„â€ï¼Œå³æœåŠ¡ä¸€ç›´å¯ç”¨ï¼Œè€Œä¸”æ˜¯æ­£å¸¸å“åº”æ—¶é—´ã€‚å¹³æ—¶ä¼šçœ‹åˆ°ä¸€äº› IT å…¬å¸è¯´ç³»ç»Ÿç¨³å®šæ€§å·²ç»åšåˆ° 3 ä¸ª 9ã€4 ä¸ª 9ï¼Œå³ 99.9%ã€99.99%ï¼Œè¿™é‡Œçš„ n ä¸ª 9 å°±æ˜¯å¯¹å¯ç”¨æ€§çš„ä¸€ä¸ªæè¿°ï¼Œå«åš SLAï¼Œå³æœåŠ¡æ°´å¹³åè®®ã€‚æ¯”å¦‚æˆ‘ä»¬è¯´æœˆåº¦ 99.95% çš„ SLAï¼Œåˆ™æ„å‘³ç€æ¯ä¸ªæœˆæœåŠ¡å‡ºç°æ•…éšœçš„æ—¶é—´åªèƒ½å æ€»æ—¶é—´çš„ 0.05%ï¼Œå¦‚æœè¿™ä¸ªæœˆæ˜¯ 30 å¤©ï¼Œé‚£ä¹ˆå°±æ˜¯ 21.6 åˆ†é’Ÿã€‚&lt;/p&gt;
&lt;p&gt;&lt;code&gt;åˆ†åŒºå®¹å¿æ€§&lt;/code&gt;å…·ä½“æ˜¯æŒ‡â€œå½“éƒ¨åˆ†èŠ‚ç‚¹å‡ºç°æ¶ˆæ¯ä¸¢å¤±æˆ–è€…åˆ†åŒºæ•…éšœçš„æ—¶å€™ï¼Œåˆ†å¸ƒå¼ç³»ç»Ÿä»ç„¶èƒ½å¤Ÿç»§ç»­è¿è¡Œâ€ï¼Œå³ç³»ç»Ÿå®¹å¿ç½‘ç»œå‡ºç°åˆ†åŒºï¼Œå¹¶ä¸”åœ¨é‡åˆ°æŸèŠ‚ç‚¹æˆ–ç½‘ç»œåˆ†åŒºä¹‹é—´ç½‘ç»œä¸å¯è¾¾çš„æƒ…å†µä¸‹ï¼Œä»ç„¶èƒ½å¤Ÿå¯¹å¤–æä¾›æ»¡è¶³ä¸€è‡´æ€§å’Œå¯ç”¨æ€§çš„æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ï¼Œç”±äºç³»ç»Ÿçš„å„å±‚æ‹†åˆ†ï¼ŒP æ˜¯ç¡®å®šçš„ï¼ŒCAP çš„åº”ç”¨æ¨¡å‹å°±æ˜¯ CP æ¶æ„å’Œ AP æ¶æ„ã€‚åˆ†å¸ƒå¼ç³»ç»Ÿæ‰€å…³æ³¨çš„ï¼Œå°±æ˜¯åœ¨ Partition Tolerance çš„å‰æä¸‹ï¼Œå¦‚ä½•å®ç°æ›´å¥½çš„ A å’Œæ›´ç¨³å®šçš„ Cã€‚&lt;/p&gt;
&lt;p&gt;CAP ç†è®ºè¯´æ˜åœ¨æ¶æ„è®¾è®¡ä¸­ï¼Œä¸è¦æŠŠç²¾åŠ›æµªè´¹åœ¨å¦‚ä½•è®¾è®¡èƒ½æ»¡è¶³ä¸‰è€…çš„å®Œç¾åˆ†å¸ƒå¼ç³»ç»Ÿä¸Šï¼Œè€Œè¦åˆç†è¿›è¡Œå–èˆï¼Œå› ä¸ºä¸‰è€…æ— æ³•å®Œå…¨å…¼å¾—ã€‚&lt;/p&gt;
&lt;p&gt;ä¸åŒä¸šåŠ¡å¯¹äºä¸€è‡´æ€§çš„è¦æ±‚æ˜¯ä¸åŒçš„ã€‚ä¾‹å¦‚ï¼Œåœ¨å¾®åšä¸Šå‘è¡¨è¯„è®ºå’Œç‚¹èµï¼Œç”¨æˆ·å¯¹ä¸ä¸€è‡´æ˜¯ä¸æ•æ„Ÿçš„ï¼Œå¯ä»¥å®¹å¿ç›¸å¯¹è¾ƒé•¿æ—¶é—´çš„ä¸ä¸€è‡´ï¼Œåªè¦åšå¥½æœ¬åœ°çš„äº¤äº’ï¼Œå¹¶ä¸ä¼šå½±å“ç”¨æˆ·ä½“éªŒï¼›è€Œæˆ‘ä»¬åœ¨ç”µå•†è´­ç‰©æ—¶ï¼Œäº§å“ä»·æ ¼æ•°æ®åˆ™æ˜¯è¦æ±‚å¼ºä¸€è‡´æ€§çš„ï¼Œå¦‚æœå•†å®¶æ›´æ”¹ä»·æ ¼ä¸èƒ½å®æ—¶ç”Ÿæ•ˆï¼Œåˆ™ä¼šå¯¹äº¤æ˜“æˆåŠŸç‡æœ‰éå¸¸å¤§çš„å½±å“ã€‚&lt;/p&gt;
&lt;p&gt;éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒCAP ç†è®ºä¸­æ˜¯å¿½ç•¥ç½‘ç»œå»¶è¿Ÿçš„ï¼Œä¹Ÿå°±æ˜¯å½“äº‹åŠ¡æäº¤æ—¶ï¼ŒèŠ‚ç‚¹é—´çš„æ•°æ®å¤åˆ¶ä¸€å®šæ˜¯éœ€è¦èŠ±è´¹æ—¶é—´çš„ã€‚å³ä½¿æ˜¯åŒä¸€ä¸ªæœºæˆ¿ï¼Œä»èŠ‚ç‚¹ A å¤åˆ¶åˆ°èŠ‚ç‚¹ Bï¼Œç”±äºç°å®ä¸­ç½‘ç»œè¯·æ±‚æ€»æ˜¯éœ€è¦ä¸€å®šæ—¶é—´çš„ï¼Œæ‰€ä»¥æ€»ä¼šæœ‰ä¸€æ®µæ—¶é—´ä¸ä¸€è‡´ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;code&gt;CP æ¶æ„&lt;/code&gt;ï¼šå¯¹äº CP æ¥è¯´ï¼Œæ”¾å¼ƒå¯ç”¨æ€§ï¼Œè¿½æ±‚ä¸€è‡´æ€§å’Œåˆ†åŒºå®¹é”™æ€§ã€‚&lt;/p&gt;
&lt;p&gt;ğŸ”§  &lt;code&gt;ZooKeeper&lt;/code&gt;å°±æ˜¯é‡‡ç”¨äº† CP ä¸€è‡´æ€§ï¼ŒZooKeeper æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„æœåŠ¡æ¡†æ¶ï¼Œä¸»è¦ç”¨æ¥è§£å†³åˆ†å¸ƒå¼é›†ç¾¤ä¸­åº”ç”¨ç³»ç»Ÿçš„åè°ƒå’Œä¸€è‡´æ€§é—®é¢˜ã€‚å…¶æ ¸å¿ƒç®—æ³•æ˜¯ &lt;code&gt;Zab&lt;/code&gt;ï¼Œæ‰€æœ‰è®¾è®¡éƒ½æ˜¯ä¸ºäº†ä¸€è‡´æ€§ã€‚åœ¨ CAP æ¨¡å‹ä¸­ï¼ŒZooKeeper æ˜¯ CPï¼Œè¿™æ„å‘³ç€é¢å¯¹ç½‘ç»œåˆ†åŒºæ—¶ï¼Œä¸ºäº†ä¿æŒä¸€è‡´æ€§ï¼Œå®ƒæ˜¯ä¸å¯ç”¨çš„ã€‚&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;code&gt;AP æ¶æ„&lt;/code&gt;ï¼šå¯¹äº AP æ¥è¯´ï¼Œæ”¾å¼ƒå¼ºä¸€è‡´æ€§ï¼Œè¿½æ±‚åˆ†åŒºå®¹é”™æ€§å’Œå¯ç”¨æ€§ï¼Œè¿™æ˜¯å¾ˆå¤šåˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡æ—¶çš„é€‰æ‹©ï¼Œåé¢çš„ Base ä¹Ÿæ˜¯æ ¹æ® AP æ¥æ‰©å±•çš„ã€‚&lt;/p&gt;
&lt;p&gt;ğŸ“¦ å’Œ ZooKeeper ç›¸å¯¹çš„æ˜¯ &lt;code&gt;Eureka&lt;/code&gt;ï¼ŒEureka æ˜¯ Spring Cloud å¾®æœåŠ¡æŠ€æœ¯æ ˆä¸­çš„&lt;code&gt;æœåŠ¡å‘ç°ç»„ä»¶&lt;/code&gt;ï¼ŒEureka çš„å„ä¸ªèŠ‚ç‚¹éƒ½æ˜¯å¹³ç­‰çš„ï¼Œå‡ ä¸ªèŠ‚ç‚¹æŒ‚æ‰ä¸å½±å“æ­£å¸¸èŠ‚ç‚¹çš„å·¥ä½œï¼Œå‰©ä½™çš„èŠ‚ç‚¹ä¾ç„¶å¯ä»¥æä¾›æ³¨å†Œå’ŒæŸ¥è¯¢æœåŠ¡ï¼Œåªè¦æœ‰ä¸€å° Eureka è¿˜åœ¨ï¼Œå°±èƒ½ä¿è¯æ³¨å†ŒæœåŠ¡å¯ç”¨ï¼Œåªä¸è¿‡æŸ¥åˆ°çš„ä¿¡æ¯å¯èƒ½ä¸æ˜¯æœ€æ–°çš„ç‰ˆæœ¬ï¼Œä¸ä¿è¯ä¸€è‡´æ€§ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Alfred &#43; iTerm2 å¿«é€Ÿsshè¿æ¥æœåŠ¡å™¨</title>
        <link>https://ccqstark.github.io/p/alfred_iterm/</link>
        <pubDate>Sun, 10 Jan 2021 16:35:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/alfred_iterm/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/alfred_iterm/ssh.png" alt="Featured image of post Alfred &#43; iTerm2 å¿«é€Ÿsshè¿æ¥æœåŠ¡å™¨" /&gt;&lt;p&gt;ä¸ºäº†æé«˜åœ¨macä¸‹è¿æ¥sshçš„æ•ˆç‡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨alfredå’ŒiTermé…åˆï¼Œè¾¾åˆ°åªè¦åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥&lt;code&gt;ssh [ä¸»æœºå]&lt;/code&gt; å°±å¯ä»¥å¿«é€Ÿè¿ä¸Šäº†ï¼Œæ•ˆæœå¦‚ä¸‹å›¾ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 348; 
			flex-basis: 837px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/alfred_iterm/Untitled.png&#34; data-size=&#34;764x219&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/alfred_iterm/Untitled.png&#34;
			width=&#34;764&#34;
			height=&#34;219&#34;
			srcset=&#34;https://ccqstark.github.io/p/alfred_iterm/Untitled_hu98a04cc8813781f501efe8d3799998d4_63040_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/alfred_iterm/Untitled_hu98a04cc8813781f501efe8d3799998d4_63040_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä½¿ç”¨ssh-config&#34;&gt;ä½¿ç”¨ssh config&lt;/h3&gt;
&lt;p&gt;åœ¨&lt;code&gt;~/.ssh/config&lt;/code&gt;æ–‡ä»¶é‡Œæ·»åŠ æœåŠ¡å™¨ä¿¡æ¯ï¼Œæ²¡æœ‰çš„è¯å°±æ–°å»ºä¸€ä¸ª&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-docker&#34; data-lang=&#34;docker&#34;&gt;vim ~/.ssh/config&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶ååœ¨æ–‡ä»¶ä¸­è¾“å…¥ä¸»æœºçš„ä¿¡æ¯ï¼Œæœ‰å¤šä¸ªä¸»æœºå°±è¿½åŠ åœ¨åé¢å°±è¡Œ&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-docker&#34; data-lang=&#34;docker&#34;&gt;Host &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;ä¸»æœºå&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;  HostName &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;ip&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;  User root&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;  Port &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;ç«¯å£&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;ä½¿ç”¨å¯†é’¥ç™»é™†&#34;&gt;ä½¿ç”¨å¯†é’¥ç™»é™†&lt;/h3&gt;
&lt;p&gt;å¦‚æœæœ¬åœ°çš„&lt;code&gt;~/.ssh&lt;/code&gt; ç›®å½•ä¸‹æ²¡æœ‰&lt;code&gt;id_rsa&lt;/code&gt; ç§é’¥æ–‡ä»¶ï¼Œå¯ä»¥æ˜¯ä½¿ç”¨ä¸‹é¢è¿™ä¸ªç›®å½•ç”Ÿæˆï¼Œä¸€è·¯å›è½¦å³å¯ï¼Œå¦‚æœå·²ç»æœ‰äº†å°±å¯ä»¥è·³è¿‡è¿™æ­¥&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-docker&#34; data-lang=&#34;docker&#34;&gt;ssh-keygen&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå°†ç§é’¥å¤åˆ¶åˆ°è¿œç¨‹æœåŠ¡å™¨&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-docker&#34; data-lang=&#34;docker&#34;&gt;ssh-copy-id -i -p&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;ç«¯å£å·&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; root@ip&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æŒ‰æç¤ºè¾“å…¥ä¸€æ¬¡å¯†ç ï¼Œå°±ä¼šè‡ªåŠ¨å°†åˆšæ‰ç”Ÿæˆçš„å…¬é’¥&lt;code&gt;id_rsa.pub&lt;/code&gt;è¿½åŠ åˆ°è¿œç¨‹ä¸»æœºçš„&lt;code&gt;~/.ssh/authorized_keys&lt;/code&gt;åé¢äº†ï¼Œè¿™æ ·ä»¥åçš„ ssh è¿æ¥éƒ½ä¸ç”¨è¾“å…¥å¯†ç äº†&lt;/p&gt;
&lt;h3 id=&#34;å®‰è£…alfred-sshæ’ä»¶&#34;&gt;å®‰è£…alfred-sshæ’ä»¶&lt;/h3&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/deanishe/alfred-ssh&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/deanishe/alfred-ssh&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;åˆ°ä¸Šé¢githubé“¾æ¥ä¸‹è½½æœ€æ–°ç‰ˆï¼šSecure-SHellçš„alfredworkflowï¼ŒåŒå‡»è‡ªåŠ¨æ·»åŠ åˆ°alfredçš„workflow&lt;/p&gt;
&lt;p&gt;æ·»åŠ åæ‰“å¼€alfredçš„åå¥½è®¾ç½®å¯ä»¥çœ‹åˆ°æ•ˆæœå¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 201; 
			flex-basis: 484px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/alfred_iterm/Untitled1.png&#34; data-size=&#34;581x288&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/alfred_iterm/Untitled1.png&#34;
			width=&#34;581&#34;
			height=&#34;288&#34;
			srcset=&#34;https://ccqstark.github.io/p/alfred_iterm/Untitled1_hu7b10a4a85fa346c253a20218a56677d9_75331_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/alfred_iterm/Untitled1_hu7b10a4a85fa346c253a20218a56677d9_75331_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
æµ‹è¯•ç”¨alfredè¾“å…¥ssh+ä¸»æœºåå°±å¯ä»¥è¿ä¸ŠæœåŠ¡å™¨äº†ï¼Œä½†æ˜¯é»˜è®¤æ˜¯ç”¨macè‡ªå¸¦ä½†ç»ˆç«¯ï¼Œæƒ³ç”¨å¥½çœ‹çš„iTrem2è¿˜éœ€è¦è¿›ä¸€æ­¥æ“ä½œ&lt;/p&gt;
&lt;h3 id=&#34;å®‰è£…alfredé›†æˆiterm2é…ç½®&#34;&gt;å®‰è£…alfredé›†æˆiTerm2é…ç½®&lt;/h3&gt;
&lt;p&gt;å¦‚ä¸‹å›¾ï¼Œæ‰“å¼€iTrem2çš„åå¥½è®¾ç½®ï¼Œå¦‚ä¸‹å›¾è®¾ç½®é»˜è®¤æ–¹å¼ä¸ºssh&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 128; 
			flex-basis: 308px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/alfred_iterm/Untitled2.png&#34; data-size=&#34;726x564&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/alfred_iterm/Untitled2.png&#34;
			width=&#34;726&#34;
			height=&#34;564&#34;
			srcset=&#34;https://ccqstark.github.io/p/alfred_iterm/Untitled2_hueff84ab2c9c90c2fd68c229b0e8be02f_196568_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/alfred_iterm/Untitled2_hueff84ab2c9c90c2fd68c229b0e8be02f_196568_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
è¿›å…¥ä¸‹é¢githubé“¾æ¥ï¼ŒæŒ‰è¯´æ˜æ“ä½œ&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/vitorgalvao/custom-alfred-iterm-scripts&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/vitorgalvao/custom-alfred-iterm-scripts&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 164; 
			flex-basis: 394px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/alfred_iterm/Untitled3.png&#34; data-size=&#34;900x548&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/alfred_iterm/Untitled3.png&#34;
			width=&#34;900&#34;
			height=&#34;548&#34;
			srcset=&#34;https://ccqstark.github.io/p/alfred_iterm/Untitled3_hu98f8ef0f01c74a051ac2d4aac612cb6d_57120_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/alfred_iterm/Untitled3_hu98f8ef0f01c74a051ac2d4aac612cb6d_57120_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
æŒ‰ä¸Šé¢è¦æ±‚è¿è¡Œå‘½ä»¤å¹¶ç²˜è´´åˆ°å¯¹åº”åœ°æ–¹å°±å®Œæˆäº†ï¼&lt;/p&gt;
&lt;p&gt;å‚è€ƒæ–‡ç« ï¼š
&lt;a class=&#34;link&#34; href=&#34;https://yaoyuanyy.github.io/2019/05/13/%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87%E7%A5%9E%E6%8F%90%E5%8D%87%E4%B9%8Balfred%E9%9B%86%E6%88%90ssh&amp;#43;iterm/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å¼€å‘æ•ˆç‡ç¥å™¨ä¹‹alfredé›†æˆssh+iTerm2å®ç°ä¸€æ­¥ç™»å½•æœåŠ¡å™¨&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Jenkins &#43; docker &#43; springboot å®Œç¾é…åˆå…¨æµç¨‹æ•™ç¨‹</title>
        <link>https://ccqstark.github.io/p/jenkins_docker_springboot/</link>
        <pubDate>Sat, 09 Jan 2021 23:01:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/jenkins_docker_springboot/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/jenkins_docker_springboot/jenkins-cicd.png" alt="Featured image of post Jenkins &#43; docker &#43; springboot å®Œç¾é…åˆå…¨æµç¨‹æ•™ç¨‹" /&gt;&lt;p&gt;DevOpsç°åœ¨éå¸¸æµè¡Œï¼ŒCI/CDæŒç»­é›†æˆã€æŒç»­éƒ¨ç½²ä¹Ÿå¤§ç«ï¼Œè€Œ&lt;code&gt;Jenkins&lt;/code&gt;å°±æ˜¯è‡ªåŠ¨åŒ–éƒ¨ç½²ä¸»è¦çš„å·¥å…·ä¹‹ä¸€ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç¯‡åšå®¢å°±æ¥è¯¦ç»†ä»‹ç»ç”¨jenkinsæ¥å®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²springbooté¡¹ç›®çš„dockerå®¹å™¨ï¼Œå ªç§°ä¿å§†çº§æ•™å­¦äº†ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç”¨dockeræ‹‰å–jenkinsé•œåƒå¯åŠ¨jenkinså®¹å™¨&#34;&gt;ç”¨dockeræ‹‰å–jenkinsé•œåƒï¼Œå¯åŠ¨Jenkinså®¹å™¨&lt;/h2&gt;
&lt;p&gt;è¿™é‡Œé‡‡ç”¨çš„jenkinsæœ¬èº«ä¹Ÿæ˜¯ç”¨dockerå®¹å™¨éƒ¨ç½²çš„ï¼Œä¸å¾—ä¸è¯´dockerç¡®å®å¥½ç”¨ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥è¿è¡Œåœ¨ä¸»æœºä¸Š&lt;/p&gt;
&lt;h3 id=&#34;é¦–å…ˆæ‹‰å–jenkinsé•œåƒ&#34;&gt;é¦–å…ˆæ‹‰å–Jenkinsé•œåƒ&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker pull jenkins/jenkins
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;âš ï¸æ³¨æ„ï¼šåˆ‡å‹¿docker pull jenkinsï¼Œå·²ç»åºŸå¼ƒ&lt;/p&gt;
&lt;h3 id=&#34;å¯åŠ¨jenkinså®¹å™¨&#34;&gt;å¯åŠ¨Jenkinså®¹å™¨&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker run -u root -itd --name jenkins &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-p 6001:8080 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-v &lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;which docker&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;:/usr/bin/docker &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-v /var/run/docker.sock:/var/run/docker.sock -e &lt;span class=&#34;nv&#34;&gt;TZ&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Asia/Shanghai&amp;#34;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-v /etc/localtime:/etc/localtime:ro &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-v /volume1/docker/jenkins:/var/jenkins_home &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;jenkins/jenkins
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;-p 6001:8080&lt;/code&gt;Jenkinsé»˜è®¤ç½‘é¡µè®¿é—®ç«¯å£ä¸º8080ï¼Œå°†ç«¯å£æ˜ å°„åˆ°å¤–éƒ¨ä¸»æœº6001ç«¯å£&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-v $(which docker):/usr/bin/docker -v /var/run/docker.sock:/var/run/docker.sock&lt;/code&gt;ä½¿Jenkinså†…éƒ¨å¯ä»¥ä½¿ç”¨dockerå‘½ä»¤&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-e TZ=&amp;quot;Asia/Shanghai&amp;quot; -v /etc/localtime:/etc/localtime:ro&lt;/code&gt;é…ç½®Jenkinså®¹å™¨çš„æ—¶åŒº&lt;/li&gt;
&lt;li&gt;&lt;code&gt;-v /volume1/docker/jenkins:/var/jenkins_home&lt;/code&gt; å°†Jenkinsçš„é…ç½®æ˜ å°„åˆ°å¤–éƒ¨ä¸»æœºå·ï¼Œå®¹å™¨åˆ é™¤ä»å¯ä¿ç•™é…ç½®&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;æµ‹è¯•jenkinså®¹å™¨å†…éƒ¨&#34;&gt;æµ‹è¯•Jenkinså®¹å™¨å†…éƒ¨&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# è¿›å…¥Jenkinsçš„å®¹å™¨å†…éƒ¨&lt;/span&gt;
docker &lt;span class=&#34;nb&#34;&gt;exec&lt;/span&gt; -it jenkins bash

&lt;span class=&#34;c1&#34;&gt;# åˆ¤æ–­dockerå‘½ä»¤æ˜¯å¦æ­£å¸¸æ‰§è¡Œ&lt;/span&gt;
docker info
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;è®¿é—®jenkinsç½‘é¡µç«¯&#34;&gt;è®¿é—®Jenkinsç½‘é¡µç«¯&lt;/h3&gt;
&lt;p&gt;ç”¨&lt;code&gt;http://ä¸»æœºIP:6001&lt;/code&gt; å°±å¯ä»¥è®¿é—®Jenkinsçš„ç½‘é¡µç«¯äº†&lt;/p&gt;
&lt;h2 id=&#34;jenkinsåˆå§‹åŒ–&#34;&gt;Jenkinsåˆå§‹åŒ–&lt;/h2&gt;
&lt;p&gt;è®¿é—®é¡µé¢åéœ€è¦è¾“å…¥åˆå§‹å¯†ç ï¼Œç”¨&lt;code&gt;cat&lt;/code&gt; å‘½ä»¤æŸ¥çœ‹ä¸€ä¸‹é¡µé¢ä¸Šç»™å‡ºçš„è·¯å¾„å°±å¯ä»¥è·å¾—åˆå§‹å¯†ç ï¼Œå¤åˆ¶è¿›å»åå°±å¯ä»¥æˆåŠŸè¿›å…¥&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 227; 
			flex-basis: 545px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled.png&#34; data-size=&#34;962x423&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled.png&#34;
			width=&#34;962&#34;
			height=&#34;423&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled_hu0a92d7f71f50d7ed9feb659374ca0abb_50178_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled_hu0a92d7f71f50d7ed9feb659374ca0abb_50178_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
åˆ°æ’ä»¶è¿™é‡Œå°±é€‰æ‹©å®‰è£…æ¨èæ’ä»¶å³å¯ï¼Œç­‰å¾…å®‰è£…å®Œæ¯•ï¼Œé€Ÿåº¦ç¨æ…¢ã€‚å¦‚æœå¾ˆå¤šæ’ä»¶ä¸€ç›´å®‰è£…å¤±è´¥å¯ä»¥ç­‰ä¸‹ä¸€æ­¥é…ç½®å›½å†…æºä¹‹åå†å®‰è£…&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 172; 
			flex-basis: 414px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled1.png&#34; data-size=&#34;864x500&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled1.png&#34;
			width=&#34;864&#34;
			height=&#34;500&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled1_huafac443a02e8f9a6833002595c731a17_77678_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled1_huafac443a02e8f9a6833002595c731a17_77678_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
ç„¶åæŒ‰æç¤ºåˆ›å»ºä¸€ä¸ªè‡ªå·±çš„ç®¡ç†å‘˜è´¦æˆ·&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å¦‚æœæƒ³é‡å¯Jenkinsï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åœ¨jenkinsä¸»é¡µç½‘å€ååŠ ä¸Š&lt;code&gt;/restart&lt;/code&gt; åå›è½¦ï¼Œç‚¹å‡»ç¡®å®šå³å¯&lt;/p&gt;
&lt;h2 id=&#34;å®‰è£…æ’ä»¶å’Œå¿…è¦é…ç½®&#34;&gt;å®‰è£…æ’ä»¶å’Œå¿…è¦é…ç½®&lt;/h2&gt;
&lt;h3 id=&#34;ä¿®æ”¹æ’ä»¶å›½å†…æºå¹¶å®‰è£…å…¶å®ƒæ’ä»¶&#34;&gt;ä¿®æ”¹æ’ä»¶å›½å†…æºå¹¶å®‰è£…å…¶å®ƒæ’ä»¶&lt;/h3&gt;
&lt;p&gt;ç‚¹å‡»ä¾§è¾¹æ &lt;code&gt;ç³»ç»Ÿç®¡ç†&lt;/code&gt;â†’&lt;code&gt;æ’ä»¶ç®¡ç†&lt;/code&gt;â†’&lt;code&gt;é«˜çº§&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/06e2f322cdd84009b2c0359631f7b899.jpg&#34; &gt;
		&lt;img src=&#34;https://ccqstark.github.io/06e2f322cdd84009b2c0359631f7b899.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
å°†å›¾ä¸­æ‰€ç¤ºURLçš„è¾“å…¥ä¸­çš„é“¾æ¥æ”¹ä¸ºé˜¿é‡Œçš„ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;https://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å®‰è£…ä¸€äº›æ’ä»¶&#34;&gt;å®‰è£…ä¸€äº›æ’ä»¶&lt;/h3&gt;
&lt;p&gt;åœ¨&lt;code&gt;æ’ä»¶ç®¡ç†&lt;/code&gt;ä¸­é€‰æ‹©&lt;code&gt;å¯é€‰æ’ä»¶&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å®‰è£…&lt;code&gt;Maven Integration&lt;/code&gt;å’Œ&lt;code&gt;Docker&lt;/code&gt;çš„æ’ä»¶ï¼Œå®‰è£…å®Œé‡å¯&lt;/p&gt;
&lt;h3 id=&#34;å…¨å±€å·¥å…·é…ç½®&#34;&gt;å…¨å±€å·¥å…·é…ç½®&lt;/h3&gt;
&lt;p&gt;ç‚¹å‡»&lt;code&gt;ç³»ç»Ÿç®¡ç†&lt;/code&gt;â†’&lt;code&gt;å…¨å±€å·¥å…·é…ç½®&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;JDK&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 258; 
			flex-basis: 620px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled2.png&#34; data-size=&#34;995x385&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled2.png&#34;
			width=&#34;995&#34;
			height=&#34;385&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled2_hu32a5b247825abd5ba4124dd776a451c2_20626_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled2_hu32a5b247825abd5ba4124dd776a451c2_20626_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
ç”¨&lt;code&gt;docker inspect jenkins&lt;/code&gt; æŸ¥çœ‹&lt;code&gt;JAVA_HOME&lt;/code&gt; è·¯å¾„åå¡«å…¥å³å¯ï¼Œè¿™æ˜¯ä¸ªopenjdk1.8ï¼Œåˆšå¥½ç”¨äºé¡¹ç›®ï¼Œå› ä¸ºjenkinså°±æ˜¯Javaå¼€å‘çš„&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Git&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 408; 
			flex-basis: 980px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled3.png&#34; data-size=&#34;1564x383&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled3.png&#34;
			width=&#34;1564&#34;
			height=&#34;383&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled3_hua015524d53fcca9f0644ce18467d8e1a_24927_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled3_hua015524d53fcca9f0644ce18467d8e1a_24927_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
ç”¨é»˜è®¤å³å¯&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Maven&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 348; 
			flex-basis: 836px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled4.png&#34; data-size=&#34;1558x447&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled4.png&#34;
			width=&#34;1558&#34;
			height=&#34;447&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled4_hu0cb1c24151919b445c1f229add0176ba_31527_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled4_hu0cb1c24151919b445c1f229add0176ba_31527_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
å¯ä»¥ç”¨å¤–éƒ¨å®‰è£…çš„ï¼Œè¿™é‡Œå› ä¸ºä¸‹äº†æ’ä»¶å°±ç”¨Jenkinsé‡Œçš„æ’ä»¶å°±è¡Œï¼Œç‚¹å‡»è‡ªåŠ¨å®‰è£…&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Docker&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 411; 
			flex-basis: 987px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled5.png&#34; data-size=&#34;1568x381&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled5.png&#34;
			width=&#34;1568&#34;
			height=&#34;381&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled5_hu5c5297cfe8d9e06e75558915e6ff0e8c_26226_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled5_hu5c5297cfe8d9e06e75558915e6ff0e8c_26226_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
éƒ½å¥½äº†ä¹‹åç‚¹&lt;code&gt;åº”ç”¨&lt;/code&gt;åœ¨ç‚¹&lt;code&gt;ä¿å­˜&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;jenkinså®¹å™¨å†…ä½¿ç”¨vim&#34;&gt;Jenkinså®¹å™¨å†…ä½¿ç”¨vim&lt;/h3&gt;
&lt;p&gt;è¿›å…¥Jenkinså®¹å™¨å†…éƒ¨åæƒ³ä½¿ç”¨vimçš„è¯è¿˜éœ€è¦é¢å¤–å®‰è£…ï¼Œåé¢éœ€è¦ç”¨åˆ°vim&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ›´æ–°ä¸€ä¸‹è½¯ä»¶æº&lt;/span&gt;
apt-get update

&lt;span class=&#34;c1&#34;&gt;# å®‰è£…vim&lt;/span&gt;
apt-get install vim
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œå¯èƒ½æ¯”è¾ƒæ…¢ï¼Œå°±ç­‰ä¸€ä¸‹ï¼Œä½†åªéœ€ç”¨ä¸€æ¬¡å°±ä¸é¢å¤–æ¢æºäº†&lt;/p&gt;
&lt;h3 id=&#34;ä¿®æ”¹mavenæ’ä»¶çš„é•œåƒæº&#34;&gt;ä¿®æ”¹mavenæ’ä»¶çš„é•œåƒæº&lt;/h3&gt;
&lt;p&gt;å› ä¸ºjenkinsåœ¨å®¹å™¨å†…ï¼Œæ‰€ä»¥è¦è¿›å…¥å®¹å™¨å†…&lt;/p&gt;
&lt;p&gt;&lt;code&gt;cd&lt;/code&gt;åˆ°ç›®å½•&lt;code&gt;~/.m2&lt;/code&gt; ä¸‹ï¼Œ&lt;code&gt;ls&lt;/code&gt; ä¸€ä¸‹å‘ç°åªæœ‰ä¸€ä¸ª&lt;code&gt;repository&lt;/code&gt; ç›®å½•ï¼Œè¿™ä¸ªå°±æ˜¯é»˜è®¤çš„mavenä»“åº“ç›®å½•ï¼Œç„¶åå°±&lt;code&gt;vim settings.xml&lt;/code&gt; æ–°å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;p&gt;åœ¨å‘½ä»¤æ¨¡å¼ä¸‹ç”¨&lt;code&gt;:set paste&lt;/code&gt; å¼€å¯ç²˜è´´æ¨¡å¼ï¼Œç„¶åæŠŠä¸‹é¢å†…å®¹ç²˜è´´è¿›å»ï¼Œè®°å¾—æ£€æŸ¥ä¸€ä¸‹å†…å®¹å’Œç¼–ç æ˜¯ä¸æ˜¯&lt;code&gt;utf-8&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34;?&amp;gt;&lt;/span&gt;

&lt;span class=&#34;nt&#34;&gt;&amp;lt;settings&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;xmlns=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;http://maven.apache.org/SETTINGS/1.0.0&amp;#34;&lt;/span&gt;
          &lt;span class=&#34;na&#34;&gt;xmlns:xsi=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;&lt;/span&gt;
          &lt;span class=&#34;na&#34;&gt;xsi:schemaLocation=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;gt;&lt;/span&gt;

  &lt;span class=&#34;nt&#34;&gt;&amp;lt;localRepository&amp;gt;&lt;/span&gt;~/.m2/repository&lt;span class=&#34;nt&#34;&gt;&amp;lt;/localRepository&amp;gt;&lt;/span&gt;
  
  &lt;span class=&#34;nt&#34;&gt;&amp;lt;pluginGroups&amp;gt;&lt;/span&gt;
    
  &lt;span class=&#34;nt&#34;&gt;&amp;lt;/pluginGroups&amp;gt;&lt;/span&gt;

  &lt;span class=&#34;nt&#34;&gt;&amp;lt;proxies&amp;gt;&lt;/span&gt;

  &lt;span class=&#34;nt&#34;&gt;&amp;lt;/proxies&amp;gt;&lt;/span&gt;

  &lt;span class=&#34;nt&#34;&gt;&amp;lt;servers&amp;gt;&lt;/span&gt;
    
  &lt;span class=&#34;nt&#34;&gt;&amp;lt;/servers&amp;gt;&lt;/span&gt;

  
  &lt;span class=&#34;nt&#34;&gt;&amp;lt;mirrors&amp;gt;&lt;/span&gt;
     &lt;span class=&#34;nt&#34;&gt;&amp;lt;mirror&amp;gt;&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;lt;id&amp;gt;&lt;/span&gt;nexus-aliyun&lt;span class=&#34;nt&#34;&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;lt;mirrorOf&amp;gt;&lt;/span&gt;*&lt;span class=&#34;nt&#34;&gt;&amp;lt;/mirrorOf&amp;gt;&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;Nexus aliyun&lt;span class=&#34;nt&#34;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
      &lt;span class=&#34;nt&#34;&gt;&amp;lt;url&amp;gt;&lt;/span&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;span class=&#34;nt&#34;&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;/mirror&amp;gt;&lt;/span&gt;
  &lt;span class=&#34;nt&#34;&gt;&amp;lt;/mirrors&amp;gt;&lt;/span&gt;

  &lt;span class=&#34;nt&#34;&gt;&amp;lt;profiles&amp;gt;&lt;/span&gt;
    
  &lt;span class=&#34;nt&#34;&gt;&amp;lt;/profiles&amp;gt;&lt;/span&gt;

&lt;span class=&#34;nt&#34;&gt;&amp;lt;/settings&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‡å¯jenkinsï¼Œä¹‹åä¸‹è½½åŒ…æ—¶å‘ç°å·²ç»æ›´æ”¹ä¸ºé˜¿é‡Œæºäº†&lt;/p&gt;
&lt;h2 id=&#34;åˆ›å»ºé¡¹ç›®å‡†å¤‡è‡ªåŠ¨åŒ–éƒ¨ç½²&#34;&gt;åˆ›å»ºé¡¹ç›®å‡†å¤‡è‡ªåŠ¨åŒ–éƒ¨ç½²&lt;/h2&gt;
&lt;p&gt;å·¦ä¾§è¾¹æ æ–°å»ºä¸€ä¸ªä»»åŠ¡ï¼Œé€‰æ‹©mavené¡¹ç›®&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 77; 
			flex-basis: 185px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/451610197149_.pic.jpg&#34; data-size=&#34;325x420&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/451610197149_.pic.jpg&#34;
			width=&#34;325&#34;
			height=&#34;420&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/451610197149_.pic_hu4b1c7002aa02b5068b94e8aad4fe1243_29850_480x0_resize_q75_box.jpg 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/451610197149_.pic_hu4b1c7002aa02b5068b94e8aad4fe1243_29850_1024x0_resize_q75_box.jpg 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 178; 
			flex-basis: 428px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/461610197185_.pic_hd.jpg&#34; data-size=&#34;1234x691&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/461610197185_.pic_hd.jpg&#34;
			width=&#34;1234&#34;
			height=&#34;691&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/461610197185_.pic_hd_hue342ea4f2daf9d6d9b605c56d9e25c32_134999_480x0_resize_q75_box.jpg 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/461610197185_.pic_hd_hue342ea4f2daf9d6d9b605c56d9e25c32_134999_1024x0_resize_q75_box.jpg 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;æ·»åŠ githubä»“åº“æºç &#34;&gt;æ·»åŠ GitHubä»“åº“æºç &lt;/h3&gt;
&lt;p&gt;è¿™é‡Œç”¨GitHubåšä»£ç ä»“åº“ï¼Œä¹Ÿå¯ä»¥gitlab&lt;/p&gt;
&lt;p&gt;æœ‰2ç§æ–¹å¼ï¼š&lt;code&gt;https&lt;/code&gt;å’Œ&lt;code&gt;ssh&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 216; 
			flex-basis: 520px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled6.png&#34; data-size=&#34;1430x660&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled6.png&#34;
			width=&#34;1430&#34;
			height=&#34;660&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled6_hud61acc42edc5d7e60aa7fd2326a98ff3_56760_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled6_hud61acc42edc5d7e60aa7fd2326a98ff3_56760_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
å¦‚æœæ˜¯httpsçš„è¯æ·»åŠ &lt;code&gt;Credentials&lt;/code&gt; çš„æ—¶å€™å°±ç›´æ¥é…ç½®è‡ªå·±çš„GitHubç”¨æˆ·åå’Œå¯†ç ï¼Œä»“åº“çš„URLå¡«å†™githubä»“åº“çš„urlå°±è¡Œ&lt;/p&gt;
&lt;p&gt;å¦‚æœæ˜¯sshçš„è¯è¦é…ç½®å¯†é’¥ï¼Œç‚¹å‡»&lt;code&gt;ç³»ç»Ÿç®¡ç†&lt;/code&gt;â†’&lt;code&gt;Manage Credentials&lt;/code&gt; â†’&lt;code&gt;å…¨å±€&lt;/code&gt; ,ç‚¹å‡»å·¦ä¾§è¾¹æ &lt;code&gt;æ·»åŠ å‡­æ®&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 242; 
			flex-basis: 581px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled7.png&#34; data-size=&#34;1906x787&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled7.png&#34;
			width=&#34;1906&#34;
			height=&#34;787&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled7_hu9e5231ed2900057343a4f77007ab3c80_76513_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled7_hu9e5231ed2900057343a4f77007ab3c80_76513_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
å¦‚æœä¹‹å‰ç”Ÿæˆè¿‡ï¼Œåœ¨è‡ªå·±æœºå™¨ä¸Šçš„&lt;code&gt;~/.ssh&lt;/code&gt; ä¸‹catä¸€ä¸‹å°±è¡Œï¼Œæ²¡æœ‰çš„è¯å°±&lt;code&gt;ssh-keygen&lt;/code&gt; ç”Ÿæˆ&lt;/p&gt;
&lt;p&gt;æ³¨æ„æ­¤æ—¶urlå°±è¦ç”¨&lt;code&gt;ssh://git@github.com/[ç”¨æˆ·å]/[é¡¹ç›®å].git&lt;/code&gt; çš„æ ¼å¼&lt;/p&gt;
&lt;h3 id=&#34;åŠ å¿«ä»£ç æ‹‰å–é€Ÿåº¦&#34;&gt;åŠ å¿«ä»£ç æ‹‰å–é€Ÿåº¦&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†åŠ å¿«æ„å»ºé€Ÿåº¦ï¼Œå‹¾é€‰æ­¤é€‰é¡¹å¯ä»¥ä½¿jenkinsä¸æ‹‰å–ä»£ç çš„å†å²ç‰ˆæœ¬ï¼Œä»è€ŒåŠ å¿«æ„å»ºé€Ÿåº¦&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 86; 
			flex-basis: 207px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled8.png&#34; data-size=&#34;637x737&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled8.png&#34;
			width=&#34;637&#34;
			height=&#34;737&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled8_hu801cb86627989de6bc28c47a0041296b_68721_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled8_hu801cb86627989de6bc28c47a0041296b_68721_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
å‹¾é€‰æµ…å…‹éš†&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 313; 
			flex-basis: 752px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled9.png&#34; data-size=&#34;1420x453&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled9.png&#34;
			width=&#34;1420&#34;
			height=&#34;453&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled9_hu313af194f105461f02d579954be5baaf_38741_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled9_hu313af194f105461f02d579954be5baaf_38741_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
åˆæ¬¡ä¹‹å¤–ï¼Œä¸è¦åœ¨æœ¬åœ°æ‰“å‡ºjaråŒ…ï¼Œä¸ç„¶è¿™ä¹ˆå¤§ä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ åˆ°ä»“åº“å†è¢«æ‹‰å–å¾ˆè´¹æ—¶é—´&lt;/p&gt;
&lt;h3 id=&#34;æ„å»ºè§¦å‘å™¨&#34;&gt;æ„å»ºè§¦å‘å™¨&lt;/h3&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 292; 
			flex-basis: 702px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled10.png&#34; data-size=&#34;761x260&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled10.png&#34;
			width=&#34;761&#34;
			height=&#34;260&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled10_hu9c396edf5424b600ae991cc99c9649fd_29438_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled10_hu9c396edf5424b600ae991cc99c9649fd_29438_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;æ·»åŠ mavenæ„å»ºæ­¥éª¤&#34;&gt;æ·»åŠ mavenæ„å»ºæ­¥éª¤&lt;/h3&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 538; 
			flex-basis: 1292px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/clean_package.png&#34; data-size=&#34;1433x266&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/clean_package.png&#34;
			width=&#34;1433&#34;
			height=&#34;266&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/clean_package_huce96ba1471d27e5fc0bfef41054b7b6d_20504_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/clean_package_huce96ba1471d27e5fc0bfef41054b7b6d_20504_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;### æ„å»ºè„šæœ¬&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæ˜¯è¿è¡Œä¸€äº›shellè„šæœ¬æ¥æ„å»ºdockeré•œåƒå’Œè¿è¡Œå®¹å™¨çš„&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 279; 
			flex-basis: 670px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled11.png&#34; data-size=&#34;1445x517&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled11.png&#34;
			width=&#34;1445&#34;
			height=&#34;517&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled11_hu3f19456d5f7ff419ec80e23b2e3e964e_77766_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled11_hu3f19456d5f7ff419ec80e23b2e3e964e_77766_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
è„šæœ¬å¦‚ä¸‹ï¼Œè®°å¾—åœ¨é¡¹ç›®ç›®å½•ä¸‹å†™å¥½ä¸€ä¸ªDockerfile&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# è¿›å…¥é¡¹ç›®ç›®å½•&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /var/jenkins_home/workspace/&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;é¡¹ç›®å&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# æ‰§è¡Œæ„å»ºDockerfileå‘½ä»¤&lt;/span&gt;
docker build -f Dockerfile -t &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;é•œåƒå&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;tag&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; .

&lt;span class=&#34;c1&#34;&gt;# åœæ­¢ä¹‹å‰çš„å®¹å™¨è¿è¡Œ&lt;/span&gt;
docker stop &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;å®¹å™¨å&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# åˆ é™¤ä¹‹å‰çš„å®¹å™¨&lt;/span&gt;
docker rm &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;å®¹å™¨å&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;#è¿è¡Œåˆšåˆšåˆ›å»ºçš„å®¹å™¨&lt;/span&gt;
docker run -d --name &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;å®¹å™¨å&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; -p &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;æ˜ å°„ç«¯å£&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:8080 &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;é•œåƒå&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;tag&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;

&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;æ„å»ºå®Œæˆ&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Dockerfileå‚è€ƒï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-docker&#34; data-lang=&#34;docker&#34;&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;s&#34;&gt; openjdk:8&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;MAINTAINER&lt;/span&gt;&lt;span class=&#34;s&#34;&gt; [ä½œè€…]&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ADD&lt;/span&gt; /target/&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;é¡¹ç›®å&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;-0.0.1-SNAPSHOT.jar &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;é¡¹ç›®å&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.jar&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;EXPOSE&lt;/span&gt;&lt;span class=&#34;s&#34;&gt; 8080&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ENTRYPOINT&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;java&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;-jar&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&amp;#34;/&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;é¡¹ç›®å&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;.jar&lt;span class=&#34;s2&#34;&gt;&amp;#34;]&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;pushè§¦å‘æ„å»º&#34;&gt;pushè§¦å‘æ„å»º&lt;/h3&gt;
&lt;p&gt;ä¸ºäº†å®ç°åªè¦æˆ‘ä»¬ä¸€å‘ä»£ç ä»“åº“pushå°±å¯ä»¥è‡ªåŠ¨è¿›è¡Œæ„å»ºï¼Œæˆ‘ä»¬éœ€è¦é…ç½®&lt;code&gt;webhook&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»&lt;code&gt;ç³»ç»Ÿç®¡ç†&lt;/code&gt;â†’&lt;code&gt;ç³»ç»Ÿé…ç½®&lt;/code&gt; ï¼Œæ‰¾åˆ°&lt;code&gt;GitHub&lt;/code&gt;é€‰é¡¹ï¼Œç‚¹å‡»&lt;code&gt;é«˜çº§&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;æŒ‰ä¸‹å›¾æ“ä½œï¼š&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 197; 
			flex-basis: 472px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled12.png&#34; data-size=&#34;1350x685&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled12.png&#34;
			width=&#34;1350&#34;
			height=&#34;685&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled12_hud0131ed01997f380618226b3a51cebfb_59567_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled12_hud0131ed01997f380618226b3a51cebfb_59567_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
æ‰“å¼€è‡ªå·±GitHubé¡¹ç›®é¡µé¢&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 198; 
			flex-basis: 475px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled13.png&#34; data-size=&#34;1359x686&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled13.png&#34;
			width=&#34;1359&#34;
			height=&#34;686&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled13_hu73ec61555a99a8fbe315e709d261addf_87170_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled13_hu73ec61555a99a8fbe315e709d261addf_87170_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
ç²˜è´´åˆšåˆšå¤åˆ¶çš„åœ°å€&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 213; 
			flex-basis: 511px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled14.png&#34; data-size=&#34;950x446&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled14.png&#34;
			width=&#34;950&#34;
			height=&#34;446&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled14_hu3d6d267476996c248db27bf5d44b0b88_120014_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled14_hu3d6d267476996c248db27bf5d44b0b88_120014_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
ä¸‹é¢å‹¾é€‰&lt;code&gt;Pushes&lt;/code&gt;å’Œ&lt;code&gt;Active&lt;/code&gt; ï¼Œæœ€åç‚¹å‡»æ·»åŠ å³å¯&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»é¡¹ç›®å†…å·¦ä¾§æ çš„&lt;code&gt;ç«‹å³æ„å»º&lt;/code&gt; å¯ä»¥æ‰‹åŠ¨å¼€å§‹æ„å»º&lt;/p&gt;
&lt;p&gt;åœ¨è¿›ç¨‹ä¸­ç‚¹å‡»&lt;code&gt;æ§åˆ¶å°è¾“å‡º&lt;/code&gt; çœ‹åˆ°æ„å»ºè¿‡ç¨‹ä¸­çš„æ—¥å¿—ä¿¡æ¯ï¼Œè¿™äº›ä¿¡æ¯å¾ˆé‡è¦æˆ‘ä»¬ç»å¸¸è¦çœ‹ï¼Œç”¨æ¥å‘ç°æ„å»ºè¿‡ç¨‹ä¸­çš„é”™è¯¯&lt;/p&gt;
&lt;h3 id=&#34;æ¸…é™¤æ— ç”¨çš„é•œåƒ&#34;&gt;æ¸…é™¤æ— ç”¨çš„é•œåƒ&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker image prune
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨å¤šæ¬¡æ„å»ºä¹‹åå¯èƒ½ä¼šå‘ç°ä¸€äº›ä¸ºnoneçš„é•œåƒï¼Œç”¨æ­¤å‘½ä»¤æ¸…é™¤&lt;/p&gt;
&lt;h2 id=&#34;é…ç½®é‚®ç®±é€šçŸ¥&#34;&gt;é…ç½®é‚®ç®±é€šçŸ¥&lt;/h2&gt;
&lt;p&gt;åœ¨è¿™ä¹‹å‰ä¿è¯å®‰è£…äº†ç›¸å…³æ’ä»¶ï¼Œå¦‚æœä¸€å¼€å§‹æ˜¯é€‰å®‰è£…æ¨èæ’ä»¶é‚£åº”è¯¥éƒ½å®‰è£…äº†&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»&lt;code&gt;ç³»ç»Ÿç®¡ç†&lt;/code&gt;â†’&lt;code&gt;ç³»ç»Ÿé…ç½®&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å…ˆé…ä¸€ä¸‹ç®¡ç†å‘˜é‚®ç®±&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 740; 
			flex-basis: 1778px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled15.png&#34; data-size=&#34;1556x210&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled15.png&#34;
			width=&#34;1556&#34;
			height=&#34;210&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled15_hu2c33936f58344a7ed0c7c8d82da4f54e_18753_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled15_hu2c33936f58344a7ed0c7c8d82da4f54e_18753_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
ç„¶åæ‹‰åˆ°ä¸‹é¢ï¼ŒæŒ‰å›¾ä¸­é…ç½®ï¼Œè¿™ä¸ªé‚®ç®±è¦å¡«åˆšåˆšä¸Šé¢çš„ç®¡ç†å‘˜é‚®ç®±&lt;/p&gt;
&lt;p&gt;æ³¨æ„é‡Œé¢çš„å¯†ç æ˜¯å¼€å¯SMTPçš„å¯†ç ï¼Œä¸æ˜¯é‚®ç®±çš„å¯†ç &lt;/p&gt;
&lt;p&gt;ç„¶åå¯ä»¥ç‚¹å‡»å‘é€æµ‹è¯•é‚®ä»¶è¯•è¯•&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 212; 
			flex-basis: 510px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled16.png&#34; data-size=&#34;1568x737&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled16.png&#34;
			width=&#34;1568&#34;
			height=&#34;737&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled16_hu2723206f2f9d0984475a38ec20458584_57348_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled16_hu2723206f2f9d0984475a38ec20458584_57348_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
ä¸Šé¢è¿˜æœ‰ä¸€ä¸ª&lt;code&gt;Extended E-mail Notification&lt;/code&gt; ä¹Ÿé…ä¸€ä¸‹ï¼Œä¹ŸæŒ‰è¿™äº›ä¿¡æ¯å¡«å†™&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Default Recipients&lt;/code&gt; æ˜¯é»˜è®¤æ¥æ”¶é€šçŸ¥çš„é‚®ç®±ï¼Œå¯ä»¥å¡«å†™å¤šä¸ªï¼Œç”¨è‹±æ–‡åŠè§’é€—å·éš”å¼€&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Default Triggers&lt;/code&gt; ä¹Ÿå¯ä»¥é…ç½®ä¸€ä¸‹ï¼Œæ˜¯è§¦å‘é‚®ä»¶çš„äº‹ä»¶&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 78; 
			flex-basis: 187px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled17.png&#34; data-size=&#34;396x506&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled17.png&#34;
			width=&#34;396&#34;
			height=&#34;506&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled17_hubeb9b94dd795c174dc1ed2dfd29bca6a_37403_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled17_hubeb9b94dd795c174dc1ed2dfd29bca6a_37403_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
è¿™é‡Œæœ‰ä¸ªå‘ï¼Œåœ¨ç³»ç»Ÿè®¾ç½®é…ç½®å®Œä¹‹åï¼Œåœ¨é¡¹ç›®é‡Œé¢çš„è®¾ç½®è®°å¾—ä¹Ÿè¦é…ç½®å®Œæ•´&lt;/p&gt;
&lt;p&gt;è¿›å…¥è¦å‘é€é‚®ç®±åŠŸèƒ½çš„é¡¹ç›®çš„&lt;code&gt;é…ç½®&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 477; 
			flex-basis: 1145px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled18.png&#34; data-size=&#34;1432x300&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled18.png&#34;
			width=&#34;1432&#34;
			height=&#34;300&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled18_hu14b9e0f11a9349776105a89307ac1a86_33116_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled18_hu14b9e0f11a9349776105a89307ac1a86_33116_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
å†ç‚¹å‡»&lt;code&gt;å¢åŠ æ„å»ºåæ“ä½œæ­¥éª¤&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 117; 
			flex-basis: 281px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled19.png&#34; data-size=&#34;439x374&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled19.png&#34;
			width=&#34;439&#34;
			height=&#34;374&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled19_hue93c06a2167b50c71a4e2b3307f5a666_37243_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled19_hue93c06a2167b50c71a4e2b3307f5a666_37243_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 197; 
			flex-basis: 473px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled20.png&#34; data-size=&#34;1221x619&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled20.png&#34;
			width=&#34;1221&#34;
			height=&#34;619&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled20_hu884b8228a884892c43de604f5ed400a6_100993_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled20_hu884b8228a884892c43de604f5ed400a6_100993_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
ç‚¹å‡»&lt;code&gt;é«˜çº§è®¾ç½®&lt;/code&gt;åè®¾ç½®è§¦å‘æ¡ä»¶&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 267; 
			flex-basis: 641px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled21.png&#34; data-size=&#34;1274x477&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled21.png&#34;
			width=&#34;1274&#34;
			height=&#34;477&#34;
			srcset=&#34;https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled21_huba1efe8e8fea35b00899c19f5b9545c3_49809_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/jenkins_docker_springboot/Untitled21_huba1efe8e8fea35b00899c19f5b9545c3_49809_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
å…¶ä»–çš„è¯¸å¦‚&lt;code&gt;Content Type&lt;/code&gt;å’Œ&lt;code&gt;Default Content&lt;/code&gt; ä¹‹ç±»çš„å°±æŒ‰éœ€æ±‚é…å°±è¡Œ&lt;/p&gt;
&lt;p&gt;ä¹‹ååœ¨æ§åˆ¶å°è¾“å‡ºå°±å¯ä»¥çœ‹åˆ°æ„å»ºé¡¹ç›®åˆ°æœ€åæœ‰å‘é‚®ä»¶çš„æ­¥éª¤æ—¥å¿—&lt;/p&gt;
&lt;h3 id=&#34;ä¸»é¢˜ç¾åŒ–&#34;&gt;ä¸»é¢˜ç¾åŒ–&lt;/h3&gt;
&lt;p&gt;å¯ä»¥å‚è€ƒä¸‹é¢è¿™ç¯‡æ–‡ç« ï¼Œä¸ªäººè§‰å¾—è¿˜æ˜¯ä¹ æƒ¯äºåŸç‰ˆ&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.csdn.net/wf19930209/article/details/80386902&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Jenkinsè‡ªå®šä¹‰ä¸»é¢˜æ•™ç¨‹_FlyWineçš„åšå®¢-CSDNåšå®¢_jenkinsè‡ªå®šä¹‰ç•Œé¢&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å‚è€ƒæ–‡ç« ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://juejin.cn/post/6844903955600769031#heading-0&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;æœ€ä¼˜é›…çš„Docker+Jenkins pipelineéƒ¨ç½²Spring booté¡¹ç›®&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.csdn.net/linfen1520/article/details/109045063&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Jenkins+Docker+github+Spring Bootè‡ªåŠ¨åŒ–éƒ¨ç½²_linfen1520çš„åšå®¢-CSDNåšå®¢&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.qedev.com/auto/170005.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;jenkins+git+maven+dockeræŒç»­é›†æˆéƒ¨ç½²_è‡ªåŠ¨åŒ–_è¿ç»´å¼€å‘ç½‘_è¿ç»´å¼€å‘æŠ€æœ¯ç»éªŒåˆ†äº«&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.cnblogs.com/xiaoxi-3-/p/9680205.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Jenkins - SSHè®¤è¯æ–¹å¼æ‹‰å–Gitä»£ç &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://codejam.blog.csdn.net/article/details/106043546?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-3.control&amp;amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromBaidu-3.control&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;centos7çš„Jenkinsçš„mavenæ’ä»¶çš„settings.xmlé…ç½®æ–‡ä»¶è·¯å¾„åœ¨å“ªé‡Œ_festone000çš„ä¸“æ -CSDNåšå®¢&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[docker]ç”¨dockeréƒ¨ç½²nginx</title>
        <link>https://ccqstark.github.io/p/docker_nginx/</link>
        <pubDate>Fri, 08 Jan 2021 15:46:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/docker_nginx/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/docker_nginx/nginx-docker.png" alt="Featured image of post [docker]ç”¨dockeréƒ¨ç½²nginx" /&gt;&lt;p&gt;å¦‚æœæ˜¯å•ä½“åº”ç”¨çš„è¯nginxç”¨dockeréƒ¨ç½²å…¶å®æ˜¯æ›´éº»çƒ¦çš„ï¼Œä¸è¿‡æ—¢ç„¶æ“ä½œè¿‡å°±è®°å½•ä¸€ä¸‹ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ‹‰å–nginxé•œåƒ&#34;&gt;æ‹‰å–nginxé•œåƒ&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker pull nginx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿˜æ˜¯ä¸€æ ·ï¼Œé»˜è®¤æ˜¯æ‹‰å–latestç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©æƒ³è¦çš„ç‰¹å®šç‰ˆæœ¬&lt;/p&gt;
&lt;h3 id=&#34;å¯åŠ¨å¹¶æŒ‚è½½htmlç›®å½•&#34;&gt;å¯åŠ¨å¹¶æŒ‚è½½htmlç›®å½•&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker container run &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -d &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -p 80:80 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --name mynginx &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --v &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;æœ¬æœºæŒ‚è½½ç›®å½•&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:/usr/share/nginx/html &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  nginx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å¤åˆ¶å‡ºé…ç½®æ–‡ä»¶&#34;&gt;å¤åˆ¶å‡ºé…ç½®æ–‡ä»¶&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker container cp mynginx:/etc/nginx .
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å°†å¤åˆ¶å‡ºæ¥çš„æ–‡ä»¶å¤¹æ”¹åå¹¶ç§»åŠ¨åˆ°ä½ æƒ³è¦çš„ç›®å½•ä¸‹ï¼Œç„¶åæŠŠå®¹å™¨åœæ­¢å¹¶åˆ é™¤&lt;/p&gt;
&lt;h3 id=&#34;æŒ‚è½½é…ç½®æ–‡ä»¶ç›®å½•&#34;&gt;æŒ‚è½½é…ç½®æ–‡ä»¶ç›®å½•&lt;/h3&gt;
&lt;p&gt;æœ€åä¸€æ­¥å°±æ˜¯é‡æ–°å¯åŠ¨ä¸€ä¸ªå®¹å™¨å¹¶æŠŠhtmlå’Œé…ç½®æ–‡ä»¶ç›®å½•éƒ½æŒ‚è½½äº†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker run &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  --name test-nginx &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -v &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;æœ¬æœºæŒ‚è½½htmlç›®å½•&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:/usr/share/nginx/html &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -v &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;æœ¬æœºæŒ‚è½½nginxç›®å½•&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:/etc/nginx &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -p 80:80 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  -d &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;  nginx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è®¿é—®ä¸€ä¸‹è¯•è¯•å°±å¯ä»¥äº†ï¼&lt;/p&gt;
&lt;p&gt;å‚è€ƒï¼š&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://www.ruanyifeng.com/blog/2018/02/nginx-docker.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;Nginx å®¹å™¨æ•™ç¨‹&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[docker]ç”¨dockeréƒ¨ç½²SpringBooté¡¹ç›®</title>
        <link>https://ccqstark.github.io/p/docker_springboot/</link>
        <pubDate>Thu, 07 Jan 2021 21:39:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/docker_springboot/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/docker_springboot/docker-springboot.jpg" alt="Featured image of post [docker]ç”¨dockeréƒ¨ç½²SpringBooté¡¹ç›®" /&gt;&lt;p&gt;è¿™ç¯‡æ–‡ç« ä»‹ç»çš„æ˜¯æŠŠæ•´ä¸ªSpringbootåç«¯é¡¹ç›®éƒ¨ç½²åˆ°dockerå®¹å™¨ä¸­ï¼Œå½“ç„¶åŒ…æ‹¬mysqlå’Œredis&lt;/p&gt;
&lt;p&gt;æŒ‰ä¸‹é¢æ­¥éª¤ä¸€æ­¥æ­¥æ¥&lt;/p&gt;
&lt;h3 id=&#34;æœ¬åœ°æ‰“å‡ºjaråŒ…&#34;&gt;æœ¬åœ°æ‰“å‡ºjaråŒ…&lt;/h3&gt;
&lt;p&gt;ä»¥Mavençš„è¯ç›´æ¥å°±IDEAé‡Œæ‰“å‡ºjaråŒ…åˆ°targetç›®å½•ä¸‹ï¼Œè¿™ä¸€æ­¥å’Œä»¥å‰ä¸€æ ·&lt;/p&gt;
&lt;h3 id=&#34;ç¼–å†™dockerfile&#34;&gt;ç¼–å†™Dockerfile&lt;/h3&gt;
&lt;p&gt;å¯ä»¥ç”¨IDEAé‡Œçš„æ’ä»¶æ¥å†™ï¼Œä¹Ÿå¯ä»¥è‡ªå·±å†™dockerfile&lt;/p&gt;
&lt;p&gt;åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶Dockerfile&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-docker&#34; data-lang=&#34;docker&#34;&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;s&#34;&gt; openjdk:8&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;MAINTAINER&lt;/span&gt;&lt;span class=&#34;s&#34;&gt; ccqstark&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ADD&lt;/span&gt; /target/&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;é¡¹ç›®jaråŒ…å&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.jar app.jar&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;EXPOSE&lt;/span&gt;&lt;span class=&#34;s&#34;&gt; 8080&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ENTRYPOINT&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;java&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;-jar&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;/app.jar&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;âš ï¸æ³¨æ„ï¼šADDåä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯é¡¹ç›®jaråŒ…çš„ç›¸å¯¹è·¯å¾„ï¼Œç¬¬äºŒæ˜¯æŠŠjaråŒ…åœ¨å®¹å™¨å†…é‡æ–°å‘½çš„å&lt;/p&gt;
&lt;h3 id=&#34;æ„å»ºé•œåƒ&#34;&gt;æ„å»ºé•œåƒ&lt;/h3&gt;
&lt;p&gt;åœ¨Dockerfileæ‰€åœ¨æ–‡ä»¶å¤¹ä¸‹è¿è¡Œ&lt;code&gt;build&lt;/code&gt; å‘½ä»¤ï¼Œæ³¨æ„æœ€åæœ‰ä¸€ä¸ª&lt;code&gt;.&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-docker&#34; data-lang=&#34;docker&#34;&gt;docker build -f Dockerfile -t &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;é•œåƒå&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;ç‰ˆæœ¬tag&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; .&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ„å»ºä¹‹åç”¨&lt;code&gt;docker images&lt;/code&gt; æŸ¥çœ‹ä¸€ä¸‹è‡ªå·±æ„æ¶çš„é•œåƒ&lt;/p&gt;
&lt;p&gt;æ„å»ºå®Œä¹‹åæœ¬åœ°runä¸€ä¸‹å®¹å™¨æµ‹è¯•ä¸‹&lt;/p&gt;
&lt;h3 id=&#34;pushä¸Šä¼ åˆ°é•œåƒä»“åº“&#34;&gt;pushä¸Šä¼ åˆ°é•œåƒä»“åº“&lt;/h3&gt;
&lt;p&gt;å…¶å®ä¹Ÿå¯ä»¥æŠŠjaråŒ…ä¸Šä¼ æœåŠ¡å™¨åç”¨æœåŠ¡å™¨çš„dockeræ¥æ„å»ºå’Œè¿è¡Œ&lt;/p&gt;
&lt;p&gt;ä½†è¿™é‡Œé‡‡ç”¨çš„æ˜¯æŠŠæœ¬åœ°æ„å»ºçš„é•œåƒä¸Šä¼ åˆ°repositoryï¼Œç›¸å½“äºé•œåƒä»“åº“ï¼Œå…¶ä»–äººæƒ³ç”¨è¿™ä¸ªé•œåƒå°±å¯ä»¥ä»é‚£æ‹‰å–ä¸‹æ¥ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;repositoryå¯ä»¥æ˜¯å®˜æ–¹çš„&lt;code&gt;Docker Hub&lt;/code&gt;ï¼Œä½†æ˜¯æ¯”è¾ƒæ…¢ï¼Œä¹Ÿå¯ä»¥èŠ±é’±ä¸Šä¼ åˆ°é˜¿é‡Œäº‘çš„å®¹å™¨é•œåƒæœåŠ¡å°±ä¼šå¿«å¾ˆå¤š&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæ˜¯ä¸Šä¼ åˆ°docker hubï¼Œé¦–å…ˆè¦ç™»é™†è‡ªå·±åˆ°dockerè´¦å·ï¼Œæ²¡æœ‰çš„è¯å¯ä»¥å»å®˜ç½‘æ³¨å†Œä¸€ä¸ª&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker login -u &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;è´¦æˆ·å&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¾“å…¥å¯†ç æˆåŠŸåç™»é™†&lt;/p&gt;
&lt;p&gt;åœ¨pushä¹‹å‰è¦ç»™é•œåƒæ‰“ä¸ªtagï¼Œè¿™æ ·æ‰èƒ½ä¸Šä¼ åˆ°è‡ªå·±è´¦å·å¯¹åº”çš„ä»“åº“ä¸‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker tag &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;é•œåƒå&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;è´¦æˆ·å&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;/&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;é•œåƒä»“åº“å&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:latest
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹‹åå°±å¯ä»¥ä¸Šä¼ äº†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker push &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;è´¦æˆ·å&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;/&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;é•œåƒä»“åº“å&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:latest
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;pullæ‹‰å–é•œåƒ&#34;&gt;pullæ‹‰å–é•œåƒ&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker pull &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;è´¦æˆ·å&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;/&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;é•œåƒä»“åº“å&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;tag&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨æœåŠ¡å™¨ä¸Šæ‹‰å–åˆ°é•œåƒåå°±å¯ä»¥å¯åŠ¨å®¹å™¨äº†&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker run -it -d -p &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;å¯¹å¤–æš´éœ²ç«¯å£&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:8080 app:&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;tag&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;éƒ¨ç½²mysqlå®¹å™¨&#34;&gt;éƒ¨ç½²MySQLå®¹å™¨&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ‹‰å–mysqlé•œåƒ&lt;/span&gt;
docker pull mysql:5.7

&lt;span class=&#34;c1&#34;&gt;# è·‘èµ·æ¥&lt;/span&gt;
docker run &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-d &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-p 3306:3306 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-v /home/mysql/conf:/etc/mysql/conf.d &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-v /home/mysql/data:/var/lib/mysql &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-e &lt;span class=&#34;nv&#34;&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=[&lt;/span&gt;è®¾ç½®mysqlåˆ°rootå¯†ç &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;
--name &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;å®¹å™¨å&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;mysql:5.7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;mysqlå®¹å™¨åˆ°æš´éœ²ç«¯å£è¦å’Œä»£ç ä¸­é…åˆ°ä¸€æ ·å°±è¡Œ&lt;/p&gt;
&lt;p&gt;è¿™é‡Œè¿˜æŠŠé…ç½®ç›®å½•å’Œæ•°æ®ç›®å½•æŒ‚è½½äº†å‡ºæ¥ï¼Œé¿å…å®¹å™¨åœæ­¢åæ•°æ®ä¸¢å¤±&lt;/p&gt;
&lt;h2 id=&#34;éƒ¨ç½²rediså®¹å™¨&#34;&gt;éƒ¨ç½²rediså®¹å™¨&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æ‹‰å–redisé•œåƒ&lt;/span&gt;
docker pull redis

&lt;span class=&#34;c1&#34;&gt;# è¿è¡Œï¼Œè¿™ä¸ªæ—¶å€™æŒ‡å®šå¯†ç ï¼Œä¸æŒ‡å®šé»˜è®¤ä¸ºç©º&lt;/span&gt;
docker run -d --name myredis -p 6379:6379 redis --requirepass &lt;span class=&#34;s2&#34;&gt;&amp;#34;mypassword&amp;#34;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;âš ï¸æ³¨æ„ï¼šå»ºè®®å…ˆæŠŠmysqlå’Œrediséƒ½éƒ¨ç½²å¥½åå†å»å¯åŠ¨jaråŒ…éƒ½é•œåƒï¼Œé˜²æ­¢åº”ç”¨å¯åŠ¨æ—¶è¿ä¸åˆ°å®ƒä»¬è€ŒæŠ¥é”™&lt;/p&gt;
&lt;p&gt;æ‰€æœ‰å®¹å™¨éƒ½æˆåŠŸå¯åŠ¨èµ·æ¥ä¹‹åå°±æŠŠæ•´ä¸ªåç«¯éƒ¨ç½²åˆ°dockerå®Œæ¯•äº†&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[docker]åˆè¯†Dockerfile</title>
        <link>https://ccqstark.github.io/p/dockerfile/</link>
        <pubDate>Wed, 06 Jan 2021 21:13:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/dockerfile/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/dockerfile/dockerfile.png" alt="Featured image of post [docker]åˆè¯†Dockerfile" /&gt;&lt;h2 id=&#34;dockerfileä»‹ç»&#34;&gt;Dockerfileä»‹ç»&lt;/h2&gt;
&lt;p&gt;dockfileæ˜¯ç”¨æ¥æ„å»ºdockeré•œåƒçš„æ–‡ä»¶ï¼Œå‘½ä»¤å‚æ•°è„šæœ¬&lt;/p&gt;
&lt;p&gt;ğŸ’¡æ„å»ºæ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;ç¼–å†™&lt;code&gt;dockerfile&lt;/code&gt;è„šæœ¬&lt;/li&gt;
&lt;li&gt;ç”¨&lt;code&gt;docker build&lt;/code&gt;å‘½ä»¤æ„å»ºä¸€ä¸ªé•œåƒ&lt;/li&gt;
&lt;li&gt;ç”¨&lt;code&gt;docker run&lt;/code&gt;è¿è¡Œé•œåƒ&lt;/li&gt;
&lt;li&gt;ç”¨&lt;code&gt;docker push&lt;/code&gt;å‘å¸ƒé•œåƒï¼ˆDockerHubã€é˜¿é‡Œäº‘ä»“åº“ï¼‰&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;åœ¨å®˜ç½‘ç‚¹å‡»é•œåƒä¼šè·³è½¬åˆ°githubå¯¹åº”çš„dockerfile&lt;/p&gt;
&lt;p&gt;å¯ä»¥å‘ç°è¿™äº›é•œåƒä¹Ÿæ˜¯é€šè¿‡dockerfileæ¥æ„å»ºçš„&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 189; 
			flex-basis: 453px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/dockerfile/Untitled.png&#34; data-size=&#34;911x482&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/dockerfile/Untitled.png&#34;
			width=&#34;911&#34;
			height=&#34;482&#34;
			srcset=&#34;https://ccqstark.github.io/p/dockerfile/Untitled_hu9fff8600ee255a49e225277cb53f18a9_146838_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/dockerfile/Untitled_hu9fff8600ee255a49e225277cb53f18a9_146838_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
ä¸Šå›¾æ˜¯centosçš„dockerfileï¼Œå…¶ä¸­&lt;code&gt;scratch&lt;/code&gt;æ˜¯æœ€åŸºæœ¬çš„ï¼Œ90%éƒ½æ˜¯åŸºäºè¿™ä¸ªé•œåƒã€‚&lt;/p&gt;
&lt;p&gt;ç„¶å&lt;code&gt;ADD&lt;/code&gt; å°±æ˜¯æ·»åŠ æ¥ä¸€å±‚centosç›¸å…³çš„é•œåƒæ–‡ä»¶&lt;/p&gt;
&lt;p&gt;å®˜æ–¹å¾ˆå¤šé•œåƒéƒ½æ˜¯åŸºç¡€åŒ…ï¼ŒåŠŸèƒ½å¾ˆå°‘ï¼Œå¾ˆå¤šæˆ‘ä»¬éœ€è¦çš„éƒ½æ²¡æœ‰ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šå¸¸éƒ½ä¼šæ„å»ºè‡ªå·±çš„é•œåƒã€‚&lt;/p&gt;
&lt;p&gt;æ¯”å¦‚æˆ‘ä»¬å¯ä»¥ç›´æ¥æ„å»ºä¸€ä¸ª&lt;code&gt;centos+jdk+tomcat+mysql&lt;/code&gt;çš„é•œåƒï¼Œä¸å°±ç›´æ¥æœ‰æ¥ä¸€ä¸ªå¯ä»¥è¿è¡Œjavawebé¡¹ç›®çš„ç¯å¢ƒé•œåƒäº†å—ï¼Ÿ&lt;/p&gt;
&lt;h2 id=&#34;dockerfileæ„å»ºè¿‡ç¨‹&#34;&gt;Dockerfileæ„å»ºè¿‡ç¨‹&lt;/h2&gt;
&lt;h3 id=&#34;åŸºæœ¬è§„åˆ™&#34;&gt;åŸºæœ¬è§„åˆ™&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;æ¯ä¸ªå…³é”®å­—ï¼ˆä¿ç•™å­—ï¼‰éƒ½æ˜¯å¤§å†™çš„&lt;/li&gt;
&lt;li&gt;æ‰§è¡Œé¡ºåºæ˜¯ä»ä¸Šåˆ°ä¸‹çš„&lt;/li&gt;
&lt;li&gt;&amp;ldquo;#&amp;rdquo; è¡¨ç¤ºæ³¨é‡Š&lt;/li&gt;
&lt;li&gt;æ¯ä¸€ä¸ªæŒ‡ä»¤éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒå±‚ï¼Œå¹¶æäº¤&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 143; 
			flex-basis: 345px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/dockerfile/Untitled1.png&#34; data-size=&#34;635x441&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/dockerfile/Untitled1.png&#34;
			width=&#34;635&#34;
			height=&#34;441&#34;
			srcset=&#34;https://ccqstark.github.io/p/dockerfile/Untitled1_hu94d67dd6e863ba2d67091f0dc6d10468_192369_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/dockerfile/Untitled1_hu94d67dd6e863ba2d67091f0dc6d10468_192369_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
ä»¥å‰å¼€å‘äº¤ä»˜éƒ½æ˜¯ç”¨jaråŒ…æˆ–waråŒ…ï¼Œç°åœ¨&lt;strong&gt;äº‘åŸç”Ÿ&lt;/strong&gt;æ—¶ä»£äº¤ä»˜çš„å°±æ˜¯dockeré•œåƒï¼Œdockeré•œåƒä¹Ÿé€æ¸æˆä¸ºä¼ä¸šäº¤ä»˜æ ‡å‡†ï¼Œè€Œæ„å»ºdockeré•œåƒå°±éœ€è¦å­¦ä¼šç¼–å†™dockerfile&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.csdn.net/alitech2017/article/details/104606956&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ä»€ä¹ˆæ˜¯äº‘åŸç”Ÿï¼ŸèŠèŠäº‘åŸç”Ÿçš„ä»Šç”Ÿ_é˜¿é‡Œäº‘å¼€å‘è€…-CSDNåšå®¢&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;dockerfileå¸¸ç”¨æŒ‡ä»¤&#34;&gt;Dockerfileå¸¸ç”¨æŒ‡ä»¤&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;æŒ‡ä»¤å…³é”®å­—&lt;/th&gt;
&lt;th&gt;ä½œç”¨&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;FROM&lt;/td&gt;
&lt;td&gt;æ„å»ºé•œåƒæ‰€ç”¨çš„åŸºç¡€é•œåƒ&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;MAINTAINER&lt;/td&gt;
&lt;td&gt;é•œåƒä½œè€…ï¼Œä¸€èˆ¬æ˜¯å§“å+é‚®ç®±&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;RUN&lt;/td&gt;
&lt;td&gt;é•œåƒæ„å»ºæ—¶è¿è¡Œçš„å‘½ä»¤&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ADD&lt;/td&gt;
&lt;td&gt;ä¸ºé•œåƒæ·»åŠ å†…å®¹&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;WORKDIR&lt;/td&gt;
&lt;td&gt;é•œåƒçš„å·¥ä½œç›®å½•&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;VOLUME&lt;/td&gt;
&lt;td&gt;æŒ‚è½½ç›®å½•&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;EXPOSE&lt;/td&gt;
&lt;td&gt;æš´éœ²çš„ç«¯å£&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;CMD&lt;/td&gt;
&lt;td&gt;å®¹å™¨å¯åŠ¨æ—¶éœ€è¦è¿è¡Œçš„å‘½ä»¤ï¼Œåªæœ‰æœ€åä¸€ä¸ªä¼šç”Ÿæ•ˆï¼Œå¯è¢«æ›¿ä»£&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ENTRYPOINT&lt;/td&gt;
&lt;td&gt;ä¹Ÿæ˜¯æŒ‡å®šå¯åŠ¨æ—¶éœ€è¦è¿è¡Œçš„å‘½ä»¤ï¼Œä½†æ˜¯å¯ä»¥è¿½åŠ &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ONBUILD&lt;/td&gt;
&lt;td&gt;æ„å»ºä¸€ä¸ªè¢«ç»§æ‰¿çš„dockerfileæ—¶ä¼šè¿è¡ŒONBUILDçš„æŒ‡ä»¤ã€‚è§¦å‘æŒ‡ä»¤&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;COPY&lt;/td&gt;
&lt;td&gt;ç±»ä¼¼ADDï¼Œå°†æ–‡ä»¶æ‹·è´åˆ°é•œåƒä¸­&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;ENV&lt;/td&gt;
&lt;td&gt;æ„å»ºæ—¶è®¾ç½®çš„ç¯å¢ƒå˜é‡&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;å®è·µæ„å»ºè‡ªå·±çš„centos&#34;&gt;å®è·µï¼šæ„å»ºè‡ªå·±çš„centos&lt;/h2&gt;
&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-docker&#34; data-lang=&#34;docker&#34;&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;s&#34;&gt; centos  # centosä¸ºåŸºç¡€é•œåƒ&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;MAINTAINER&lt;/span&gt;&lt;span class=&#34;s&#34;&gt; ccqstark&amp;lt;xxxxxx@qq.com&amp;gt;  # ä½œè€…åå’Œé‚®ç®±&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ENV&lt;/span&gt; MYPATH /usr/local  &lt;span class=&#34;c1&#34;&gt;# ç¯å¢ƒå˜é‡&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;WORKDIR&lt;/span&gt;&lt;span class=&#34;s&#34;&gt; $MYPATH  # å·¥ä½œç›®å½•&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# å®‰è£…vimå’Œifconfigå‘½ä»¤&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;RUN&lt;/span&gt; yum -y install vim      &lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;RUN&lt;/span&gt; yum -y install net-tools&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;EXPOSE&lt;/span&gt;&lt;span class=&#34;s&#34;&gt; 80&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;CMD&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$MYPATH&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;CMD&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;---end---&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;CMD&lt;/span&gt; /bin/bash&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;docker build&lt;/code&gt; ä¹‹å &lt;code&gt;run&lt;/code&gt; èµ·æ¥å°±å¯ä»¥ä½¿ç”¨äº†ï¼&lt;/p&gt;
&lt;p&gt;è¿˜å¯ä»¥ä½¿ç”¨ä¸‹é¢å‘½ä»¤æŸ¥çœ‹é•œåƒæ„å»ºçš„è¿‡ç¨‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker &lt;span class=&#34;nb&#34;&gt;history&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;é•œåƒid&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‚è€ƒè‡ª&lt;a class=&#34;link&#34; href=&#34;https://www.bilibili.com/video/BV1og4y1q7M4?p=29&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ç‹‚ç¥çš„dockeræ•™ç¨‹&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[docker]å®¹å™¨æ•°æ®å·</title>
        <link>https://ccqstark.github.io/p/docker_volumes/</link>
        <pubDate>Wed, 06 Jan 2021 16:51:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/docker_volumes/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/docker_volumes/docker.png" alt="Featured image of post [docker]å®¹å™¨æ•°æ®å·" /&gt;&lt;p&gt;æŠŠå®¹å™¨å†…çš„ç›®å½•æŒ‚è½½åˆ°å®¿ä¸»æœºçš„æŸä¸€ä¸ªç›®å½•ä¸‹ï¼Œå®ç°åŒå‘åŒæ­¥ã€‚&lt;/p&gt;
&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ä¸¤è€…éƒ½æŒ‡å‘äº†åŒä¸€æ–‡ä»¶ç›®å½•ä¸‹ï¼Œåœ¨å…¶ä¸­ä¸€ç«¯æ‰€åšçš„ä¿®æ”¹éƒ½ä¼šåŒæ­¥ã€‚&lt;/p&gt;
&lt;p&gt;å¥½å¤„ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;MySQLæ•°æ®æŒä¹…åŒ–ï¼Œä¸ä¼šå› ä¸ºåˆ äº†å®¹å™¨å°±æ²¡äº†&lt;/li&gt;
&lt;li&gt;æ–¹ä¾¿ä¿®æ”¹æ–‡ä»¶ï¼Œæ¯”å¦‚nginxçš„é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;åŸºæœ¬ä½¿ç”¨-bind-mounts&#34;&gt;åŸºæœ¬ä½¿ç”¨ bind mounts&lt;/h2&gt;
&lt;p&gt;ä»¥å¯åŠ¨ä¸€ä¸ªcentoså®¹å™¨ä¸ºä¾‹&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker run -it -v &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;å®¿ä¸»æœºç›®å½•&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;å®¹å™¨å†…ç›®å½•&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; centos /bin/bash
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;-it&lt;/code&gt; ï¼š&lt;code&gt;-t&lt;/code&gt;é€‰é¡¹è®©Dockeråˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯ï¼ˆpseudo-ttyï¼‰å¹¶ç»‘å®šåˆ°å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¸Šï¼Œ &lt;code&gt;-i&lt;/code&gt; åˆ™è®©å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¿æŒæ‰“å¼€ï¼Œé€šå¸¸å†™æˆ&lt;code&gt;-it&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-v&lt;/code&gt; ï¼šæŒ‚è½½å·æ‰€éœ€å‚æ•°ï¼Œåé¢çš„æ˜ å°„æ˜¯&lt;code&gt;[å®¿ä¸»æœºç›®å½•]:[å®¹å™¨å†…ç›®å½•]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç”¨æ­¤å‘½ä»¤æŸ¥çœ‹å®¹å™¨å‚æ•°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker inspect &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;å®¹å™¨id&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 234; 
			flex-basis: 562px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/docker_volumes/Untitled.png&#34; data-size=&#34;539x230&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/docker_volumes/Untitled.png&#34;
			width=&#34;539&#34;
			height=&#34;230&#34;
			srcset=&#34;https://ccqstark.github.io/p/docker_volumes/Untitled_hu83e3fd0f5540a047118f5b9cd0086659_57376_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/docker_volumes/Untitled_hu83e3fd0f5540a047118f5b9cd0086659_57376_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
å¦‚ä¸Šå›¾ï¼Œåœ¨&lt;code&gt;Mounts&lt;/code&gt; å­—æ®µä¸­å¯ä»¥çœ‹åˆ°ï¼š&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Source&lt;/code&gt; è¡¨ç¤ºå®¿ä¸»æœºä¸­è¢«æ˜ å°„çš„ç›®å½•&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Destination&lt;/code&gt; è¡¨ç¤ºå®¹å™¨å†…è¦æ˜ å°„çš„ç›®å½•&lt;/p&gt;
&lt;p&gt;è¿™ç§æŒ‚è½½æ–¹å¼ç§°ä¸º&lt;code&gt;bind mounts&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;å®è·µmysqlæŒ‚è½½&#34;&gt;&lt;strong&gt;å®è·µï¼šMySQLæŒ‚è½½&lt;/strong&gt;&lt;/h2&gt;
&lt;h3 id=&#34;æ‹‰å–mysqlé•œåƒ&#34;&gt;&lt;strong&gt;æ‹‰å–mysqlé•œåƒ&lt;/strong&gt;&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker search mysql
docker pull mysql:5.7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å¯åŠ¨å®¹å™¨&#34;&gt;&lt;strong&gt;å¯åŠ¨å®¹å™¨&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;-d&lt;/code&gt; åå°è¿è¡Œ&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-p&lt;/code&gt; ç«¯å£æ˜ å°„&lt;/p&gt;
&lt;p&gt;&lt;code&gt;-v&lt;/code&gt; æ•°æ®å·æŒ‚è½½&lt;/p&gt;
&lt;p&gt;&lt;code&gt;â€”name&lt;/code&gt; å®¹å™¨åå­—&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker run &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-d &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-p 3310:3306 &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-v /home/mysql/conf:/etc/mysql/conf.d &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-v /home/mysql/data:/var/lib/mysql &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;-e &lt;span class=&#34;nv&#34;&gt;MYSQL_ROOT_PASSWORD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=[&lt;/span&gt;ä½ é…ç½®çš„mysqlå¯†ç &lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--name &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;å®¹å™¨å&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;mysql:5.7
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;-v&lt;/code&gt;å¯ä»¥ä¸€æ¬¡å†™å¤šä¸ªæ¥å¤šæ¬¡æŒ‚è½½&lt;/p&gt;
&lt;h3 id=&#34;è¿æ¥æµ‹è¯•&#34;&gt;&lt;strong&gt;è¿æ¥æµ‹è¯•&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;è¿è¡ŒæˆåŠŸåç”¨navicatè¿æ¥ä¸‹è¯•è¯•&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸»æœºåœ°å€è¿˜æ˜¯æœåŠ¡å™¨å…¬ç½‘ip&lt;/li&gt;
&lt;li&gt;ç«¯å£æ˜¯æ˜ å°„å‡ºæ¥çš„æš´éœ²ç«¯å£ï¼Œæ¯”å¦‚ä¸Šé¢å‘½ä»¤ä¸­çš„&lt;code&gt;3310&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;å¯†ç å°±æ˜¯&lt;code&gt;-e MYSQL_ROOT_PASSWORD&lt;/code&gt;è®¾ç½®çš„å¯†ç &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¯ä»¥åˆ›å»ºæ–°çš„æ•°æ®åº“çœ‹çœ‹å®¿ä¸»æœºå¯¹åº”æ˜ å°„ç›®å½•ä¸‹æœ‰æ²¡æœ‰åŒæ­¥å‡ºç°æ–°æ•°æ®åº“çš„æ–‡ä»¶&lt;/p&gt;
&lt;h3 id=&#34;åˆ é™¤æµ‹è¯•&#34;&gt;&lt;strong&gt;åˆ é™¤æµ‹è¯•&lt;/strong&gt;&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker rm -f &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;mysqlå®¹å™¨å&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿è¡Œä¸Šé¢çš„æŒ‡ä»¤åˆ é™¤æ‰å®¹å™¨ï¼Œå†åœ¨ä¸»æœºä¸‹æŸ¥çœ‹&lt;code&gt;/home/mysql/data&lt;/code&gt; ç›®å½•å‘ç°æ•°æ®ä¾æ—§éƒ½è¿˜åœ¨&lt;/p&gt;
&lt;p&gt;å¦‚æœå†æ¬¡å¯åŠ¨ä¸€ä¸ªå®¹å™¨æ•°æ®å°±è¿˜æ˜¯å’Œåˆ é™¤å‰ä¸€æ ·ï¼Œä»è€Œä¿è¯äº†æ•°æ®å®‰å…¨ï¼Œè¿™å°±æ˜¯MySQLæ•°æ®å·æŒ‚è½½&lt;/p&gt;
&lt;h2 id=&#34;åŒ¿åæŒ‚è½½å’Œå…·åæŒ‚è½½-volumes&#34;&gt;åŒ¿åæŒ‚è½½å’Œå…·åæŒ‚è½½ volumes&lt;/h2&gt;
&lt;h3 id=&#34;åŒ¿åæŒ‚è½½&#34;&gt;&lt;strong&gt;åŒ¿åæŒ‚è½½&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;-P&lt;/code&gt; éšæœºæ˜ å°„ç«¯å£&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker run -d -P --name nginx01 -v /etc/nginx nginx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚ä¸Šå›¾çš„å‘½ä»¤ï¼Œ&lt;code&gt;-v&lt;/code&gt; æ˜¯æ²¡æœ‰æŒ‡å®šå¤–éƒ¨ç›®å½•çš„ï¼Œåªå†™äº†å†…éƒ¨ç›®å½•ï¼Œæ‰€ä»¥æ˜¯åŒ¿åæŒ‚è½½ï¼Œä½¿ç”¨ä¸‹é¢å‘½ä»¤æŸ¥çœ‹æŒ‚è½½çš„å·&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker volume ls
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å‘ç°å·åæ˜¯éšæœºç”Ÿæˆçš„å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥æ˜¯åŒ¿åçš„&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 1272; 
			flex-basis: 3053px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/docker_volumes/Untitled1.png&#34; data-size=&#34;598x47&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/docker_volumes/Untitled1.png&#34;
			width=&#34;598&#34;
			height=&#34;47&#34;
			srcset=&#34;https://ccqstark.github.io/p/docker_volumes/Untitled1_hu27ca281934b1ddafe693481e38a6d968_37945_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/docker_volumes/Untitled1_hu27ca281934b1ddafe693481e38a6d968_37945_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;å…·åæŒ‚è½½&#34;&gt;&lt;strong&gt;å…·åæŒ‚è½½&lt;/strong&gt;&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker run -d -P --name nginx01 -v &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;è‡ªå·±èµ·çš„å·å&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:/etc/nginx nginx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;[å·å]:[ç›®å½•å]&lt;/code&gt; è¿™æ ·æŒ‡å®šäº†å·åçš„å½¢å¼å°±æ˜¯å…·åæŒ‚è½½&lt;/p&gt;
&lt;p&gt;è¿™æ ·å†ç”¨&lt;code&gt;docker volume ls&lt;/code&gt; çœ‹åˆ°çš„å·åå°±æ˜¯è‡ªå·±æŒ‡å®šçš„äº†&lt;/p&gt;
&lt;h3 id=&#34;æŸ¥çœ‹æŒ‚è½½çš„ç›®å½•&#34;&gt;&lt;strong&gt;æŸ¥çœ‹æŒ‚è½½çš„ç›®å½•&lt;/strong&gt;&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker volume inspect &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;å·å&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç”¨è¿™æ¡å‘½ä»¤å°±å¯ä»¥æŸ¥çœ‹å·çš„ä¸€äº›ä¿¡æ¯ï¼Œå…¶ä¸­&lt;code&gt;Mountpoint&lt;/code&gt; å°±æ˜¯æ‰€æŒ‚è½½çš„å¤–éƒ¨ç›®å½•&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 286; 
			flex-basis: 687px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/docker_volumes/Untitled2.png&#34; data-size=&#34;544x190&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/docker_volumes/Untitled2.png&#34;
			width=&#34;544&#34;
			height=&#34;190&#34;
			srcset=&#34;https://ccqstark.github.io/p/docker_volumes/Untitled2_hua21c259d6eddd26da4787fab97eeef2a_72748_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/docker_volumes/Untitled2_hua21c259d6eddd26da4787fab97eeef2a_72748_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
æ‰€ä»¥è¿™ç§åœ¨æ²¡æœ‰æŒ‡å®šç›®å½•çš„æƒ…å†µä¸‹ï¼ˆå…·åæˆ–åŒ¿åï¼‰éƒ½æ˜¯æŒ‚è½½åœ¨&lt;code&gt;/var/lib/docker/volumes/[å·å]/_data&lt;/code&gt;è¿™ä¸ªç›®å½•çš„&lt;/p&gt;
&lt;p&gt;å¤§å¤šæ•°æƒ…å†µä¸‹éƒ½æ˜¯ç”¨&lt;code&gt;å…·åæŒ‚è½½&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;è¿™ä¸¤ç§æŒ‚è½½æ–¹å¼ç»Ÿç§°&lt;code&gt;volumes&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ€»ç»“&#34;&gt;æ€»ç»“&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;-v [å†…è·¯å¾„]&lt;/code&gt;        åŒ¿åæŒ‚è½½                                                                                                                            &lt;code&gt;-v å·å:å†…è·¯å¾„&lt;/code&gt;   å…·åæŒ‚è½½                                                                                                                   &lt;code&gt;-v å®¿ä¸»æœºè·¯å¾„:å®¹å™¨å†…è·¯å¾„&lt;/code&gt;  æŒ‡å®šè·¯å¾„æŒ‚è½½&lt;/p&gt;
&lt;h2 id=&#34;æ‰©å±•&#34;&gt;æ‰©å±•&lt;/h2&gt;
&lt;p&gt;å¯ä»¥ç”¨å‚æ•°æ”¹å˜è¯»å†™æƒé™&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ro&lt;/code&gt; åªè¯»ï¼Œå®¹å™¨å†…ä¸å¯ä¿®æ”¹ï¼Œå®¹å™¨å¤–å¯ä»¥&lt;/p&gt;
&lt;p&gt;&lt;code&gt;re&lt;/code&gt; å¯è¯»å¯å†™&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker run -d -P --name nginx02 -v ccq-nginx:/etc/nginx:ro nginx
docker run -d -P --name nginx02 -v ccq-nginx:/etc/nginx:rw nginx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ä½¿ç”¨dockerfileæ¥æ„å»ºå’ŒæŒ‚è½½&#34;&gt;ä½¿ç”¨Dockerfileæ¥æ„å»ºå’ŒæŒ‚è½½&lt;/h2&gt;
&lt;p&gt;Dockerfileæ˜¯ç”¨æ¥æ„å»ºdockeré•œåƒçš„æ„å»ºæ–‡ä»¶ï¼Œé‡Œé¢å°±æ˜¯æ„å»ºçš„è„šæœ¬&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªæ–‡ä»¶å¯ä»¥ç”¨æ¥ç”Ÿæˆé•œåƒï¼Œç”±äºé•œåƒæ˜¯ä¸€å±‚ä¸€å±‚çš„ï¼Œæ‰€ä»¥è„šæœ¬å‘½ä»¤ä¹Ÿæ˜¯ä¸€å¥å¥å¯¹åº”ä¸€å±‚å±‚çš„&lt;/p&gt;
&lt;p&gt;ä»¥centosæ¥ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨dockerfileé‡Œå†™ä¸‹ä¸‹é¢è¿™äº›å†…å®¹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-docker&#34; data-lang=&#34;docker&#34;&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;s&#34;&gt; centos  # ç”±å“ªä¸ªåŸå§‹é•œåƒæ„å»º&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;VOLUME&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;volume01&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;volume02&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# æŒ‚è½½ï¼Œæ­¤å¤„åŒ¿å&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;CMD&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;---end---&amp;#34;&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;CMD&lt;/span&gt; /bin/bash&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿è¡Œæ„å»ºå‘½ä»¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker build -f &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;dockerfileè·¯å¾„&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; -t &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;é•œåƒå&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;ç‰ˆæœ¬tag&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;ç”Ÿæˆç›®å½•&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åç”¨å‘½ä»¤&lt;code&gt;docker images&lt;/code&gt; å°±å¯ä»¥çœ‹åˆ°è‡ªå·±åˆšåˆšæ„å»ºçš„é•œåƒäº†ï¼Œ&lt;code&gt;docker run&lt;/code&gt; å°±å¯ä»¥è·‘èµ·æ¥&lt;/p&gt;
&lt;p&gt;ä¹‹åä¹Ÿå¯ä»¥&lt;code&gt;docker inspect&lt;/code&gt; æŸ¥çœ‹æŒ‚è½½æƒ…å†µï¼ŒæŒ‚è½½åŒæ ·æ˜¯æ•°æ®å†…å¤–ç›®å½•åŒæ­¥çš„&lt;/p&gt;
&lt;h2 id=&#34;æ•°æ®å·å®¹å™¨&#34;&gt;æ•°æ®å·å®¹å™¨&lt;/h2&gt;
&lt;p&gt;ä¹‹å‰æ˜¯å®¹å™¨å†…çš„ç›®å½•æŒ‚è½½åˆ°å®¹å™¨å¤–åˆ°åˆ°ç›®å½•ï¼Œç°åœ¨æ˜¯ä¸€ä¸ªå®¹å™¨æŒ‚è½½åˆ°å¦ä¸€ä¸ªå®¹å™¨&lt;/p&gt;
&lt;p&gt;è¿™æ ·å°±å®ç°äº†å®¹å™¨ä¹‹é—´åˆ°æ•°æ®åŒæ­¥&lt;/p&gt;
&lt;p&gt;&lt;code&gt;â€”-volumes-from&lt;/code&gt; ä½¿ç”¨æ­¤å‚æ•°å¼€å¯ä¸€ä¸ªå®¹å™¨æŒ‚è½½åˆ°å¦ä¸€ä¸ªå®¹å™¨&lt;/p&gt;
&lt;p&gt;è¢«æŒ‚è½½çš„ç§°ä¸º&lt;code&gt;çˆ¶å®¹å™¨&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;docker run -it --name &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;åå­—&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; --volumes-from &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;çˆ¶å®¹å™¨å&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;é•œåƒå&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;:&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;ç‰ˆæœ¬tag&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æµ‹è¯•ä¸€ä¸‹ï¼Œå¼€ä¸¤ä¸ªå®¹å™¨ï¼Œè¿›å…¥æŒ‚è½½åˆ°ä¸€èµ·çš„ç›®å½•åˆ›å»ºæ–‡ä»¶è¯•è¯•ï¼Œå‘ç°æ•°æ®æ˜¯åŒæ­¥çš„&lt;/p&gt;
&lt;h3 id=&#34;å¤šé‡æŒ‚è½½&#34;&gt;å¤šé‡æŒ‚è½½&lt;/h3&gt;
&lt;p&gt;å¯ä»¥å¼€å¯ç¬¬ä¸‰ä¸ªå®¹å™¨æŒ‚è½½åˆ°ç¬¬ä¸€æˆ–ç¬¬äºŒä¸ªå®¹å™¨ï¼Œå‘ç°ç°åœ¨è¿™3ä¸ªå®¹å™¨å¯¹åº”åˆ°ç›®å½•çš„æ•°æ®éƒ½æ˜¯åŒæ­¥çš„&lt;/p&gt;
&lt;p&gt;æ‰€ä»¥æŒ‚è½½å…¶å®æ˜¯å¯ä»¥&lt;code&gt;å¥—å¨ƒ&lt;/code&gt;çš„&lt;/p&gt;
&lt;h3 id=&#34;å·çš„æŒ‚è½½æœºåˆ¶&#34;&gt;å·çš„æŒ‚è½½æœºåˆ¶&lt;/h3&gt;
&lt;p&gt;ä¸åŒå®¹å™¨çš„æŒ‚è½½æœºåˆ¶å¹¶ä¸æ˜¯æ˜ å°„åˆ°å•ä¸€åˆ°æ–‡ä»¶å¤¹ä¸‹çš„ï¼Œå¦‚æœè¿™æ ·çš„è¯å…¶ä¸­ä¸€ä¸ªå®¹å™¨è¢«åˆ é™¤çš„è¯ï¼Œå…¶å®ƒæ‰€æœ‰å®¹å™¨å¯¹åº”éƒ½æ•°æ®éƒ½ä¼šæ¶ˆå¤±ã€‚&lt;/p&gt;
&lt;p&gt;å®é™…ä¸ŠæŒ‚è½½æ˜¯ä¸€ç§&lt;code&gt;æ‹·è´&lt;/code&gt;çš„æœºåˆ¶ï¼Œæ•°æ®æ˜¯æœ‰å¤šä»½ç›¸åŒçš„å¤‡ä»½çš„ï¼Œåˆ é™¤ä¸€ç§ä¸€ä»½å…¶å®ƒçš„éƒ½è¿˜åœ¨ï¼Œä¸ä¼šæ¶ˆå¤±çš„ï¼Œåªæ˜¯ä¼šå ç”¨æ›´å¤šçš„å­˜å‚¨ç©ºé—´&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 292; 
			flex-basis: 702px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/docker_volumes/Untitled3.png&#34; data-size=&#34;863x295&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/docker_volumes/Untitled3.png&#34;
			width=&#34;863&#34;
			height=&#34;295&#34;
			srcset=&#34;https://ccqstark.github.io/p/docker_volumes/Untitled3_hu767952861a42967afdd07ee76103d212_96645_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/docker_volumes/Untitled3_hu767952861a42967afdd07ee76103d212_96645_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;
åªæœ‰æŠŠæŒ‚è½½è¿™ä¸€å·çš„æ‰€æœ‰çš„å®¹å™¨éƒ½åˆ é™¤ï¼Œè¿™ä¸ªå·æ‰ä¼šæ¶ˆå¤±&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œå¦‚æœæ˜¯bindåˆ°æœ¬åœ°çš„ç›®å½•é‚£å°±åˆ é™¤å…¨éƒ¨å®¹å™¨æ•°æ®ä¹Ÿä»ç„¶åœ¨æœ¬åœ°&lt;/p&gt;
&lt;p&gt;å‚è€ƒè‡ª&lt;a class=&#34;link&#34; href=&#34;https://www.bilibili.com/video/BV1og4y1q7M4?p=21&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ç‹‚ç¥çš„dockeræ•™ç¨‹&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>macOSç»ˆç«¯ç¾åŒ–æŒ‡åŒ—</title>
        <link>https://ccqstark.github.io/p/mac_terminal/</link>
        <pubDate>Wed, 06 Jan 2021 02:07:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/mac_terminal/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/mac_terminal/Mojave-desktop.jpg" alt="Featured image of post macOSç»ˆç«¯ç¾åŒ–æŒ‡åŒ—" /&gt;&lt;p&gt;ç»ˆäºä»Windowsè½¬åˆ°å¿ƒå¿ƒå¿µå¿µçš„macOSä¸Šè¿›è¡Œå¼€å‘ï¼Œè™½ç„¶æ˜¯é»‘è‹¹æœä½†æ˜¯è½¯ä»¶å±‚é¢ä¸Šæ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ï¼Œç¨‹åºå‘˜è¿˜æ˜¯å¾—ç”¨macå•Šè¿™ç»ˆç«¯ä¸ŠçœŸçš„æ¯”windowså¥½ç”¨æ— æ•°å€ï¼Œé‚£ç»ˆç«¯åˆ°æ‰‹åè¿˜æ˜¯è¦æŠ˜è…¾ç¾åŒ–çš„ï¼Œé‚£å°±å¼€å§‹å§ã€‚
å…ˆçœ‹ä¸‹æˆ‘ï¼Œè¿˜å¯ä»¥å§ï¼Ÿ
&lt;figure 
	&gt;
	&lt;a href=&#34;https://static01.imgkr.com/temp/c0757b90608b4f89ac43921f28ecedd5.jpg&#34; &gt;
		&lt;img src=&#34;https://static01.imgkr.com/temp/c0757b90608b4f89ac43921f28ecedd5.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;1&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;1&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;å‡†å¤‡å·¥ä½œ&#34;&gt;å‡†å¤‡å·¥ä½œ&lt;/h2&gt;
&lt;p&gt;å…ˆä¿è¯è‡ªå·±ä¸‹è½½&lt;code&gt;homebrew&lt;/code&gt;å’Œ&lt;code&gt;wget&lt;/code&gt;ï¼Œå®‰è£…è½¯ä»¶æˆ–ä¸‹è½½åŒ…å¾ˆå¤šæƒ…å†µä¸‹è¦ç”¨åˆ°å®ƒä»¬ï¼Œç‰¹åˆ«homebrewæ˜¯macä¸‹æœ€å¥½ç”¨çš„åŒ…ç®¡ç†å™¨ä¸€å®šè¦æœ‰ã€‚&lt;a class=&#34;link&#34; href=&#34;https://zhuanlan.zhihu.com/p/90508170&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ä¸‹è½½æ–¹æ³•&lt;/a&gt;ç½‘ä¸Šä¹Ÿå¾ˆå¤šçš„ï¼Œå»ºè®®å…ˆä¸‹homebrewå†ç”¨å®ƒä¸‹wgetã€‚&lt;/p&gt;
&lt;h2 id=&#34;iterm2&#34;&gt;iTerm2&lt;/h2&gt;
&lt;p&gt;é¦–å…ˆæ˜¯ä¸‹è½½ç¬¬ä¸‰æ–¹ç»ˆç«¯&lt;code&gt;iTerm2&lt;/code&gt;ï¼Œmacè‡ªå¸¦çš„ç»ˆç«¯ç”¨çš„æ¯”è¾ƒå°‘ï¼Œå¤§å®¶ç”¨çš„æœ€å¤šè¿˜æ˜¯è¿™ä¸ªã€‚
&lt;a class=&#34;link&#34; href=&#34;https://iterm2.com/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å®˜ç½‘ä¸‹è½½&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;zsh&#34;&gt;zsh&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;zsh&lt;/code&gt;æ˜¯shellçš„ä¸€ç§ï¼Œmacé»˜è®¤çš„shellæ˜¯&lt;code&gt;bash&lt;/code&gt;ï¼Œä¸€èˆ¬æ¥è¯´æˆ‘ä»¬ä¹Ÿæ˜¯ç”¨zshæ¯”è¾ƒå¤šï¼Œå› ä¸ºå‘½ä»¤æ›´å¤šæ›´å¥½ç”¨ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸‹è½½zsh&#34;&gt;ä¸‹è½½zsh&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;brew install zsh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;åˆ‡æ¢shellä¸ºzsh&#34;&gt;åˆ‡æ¢shellä¸ºzsh&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„shell&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$SHELL&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;# åˆ‡æ¢ä¸ºzsh&lt;/span&gt;
chsh -s /bin/zsh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿è¡Œå®Œä¸Šé¢å‘½ä»¤åé‡å¯ä¸€ä¸‹å³å¯&lt;/p&gt;
&lt;h2 id=&#34;oh-my-zsh&#34;&gt;oh-my-zsh&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;oh-my-zsh&lt;/code&gt;ç”¨äºç¾åŒ–ç»ˆç«¯ï¼Œå¯ä»¥è®©ä½ æ‹¥æœ‰å¾ˆå¤šå¥½çœ‹çš„ä¸»é¢˜ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å®‰è£…&#34;&gt;å®‰è£…&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sh install.sh
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿è¡Œä¸Šé¢çš„å‘½ä»¤æ¥ä¸‹è½½å®‰è£…è„šæœ¬å¹¶è¿è¡Œè„šæœ¬ï¼ŒæˆåŠŸåä¼šæœ‰å¦‚ä¸‹ç”»é¢&lt;br&gt;
&lt;figure 
	&gt;
	&lt;a href=&#34;https://static01.imgkr.com/temp/f72289ad7de9432aa9e9a583ac9fe56c.jpg&#34; &gt;
		&lt;img src=&#34;https://static01.imgkr.com/temp/f72289ad7de9432aa9e9a583ac9fe56c.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;2&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;2&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ›´æ¢ä¸»é¢˜&#34;&gt;æ›´æ¢ä¸»é¢˜&lt;/h2&gt;
&lt;p&gt;oh-my-zshæœ‰å¾ˆå¤šé»˜è®¤çš„ä¸»é¢˜ï¼Œå¯ä»¥åœ¨&lt;code&gt;~/.zshrc&lt;/code&gt;ä¸­ä¿®æ”¹&lt;code&gt;ZSH_THEME&lt;/code&gt;æ¥åˆ‡æ¢ä¸åŒä¸»é¢˜ã€‚
è¿™é‡Œæˆ‘æ¨è&lt;code&gt;powerlever10k&lt;/code&gt;ï¼Œå®ƒé›†åˆäº†å¾ˆå¤šä¸åŒä¸»é¢˜é£æ ¼çš„æ ·å¼ï¼Œæ”¯æŒè‡ªå®šä¹‰ï¼Œå¦‚æœé»˜è®¤ä¸»é¢˜ä¸­æ²¡æœ‰ä½ æ»¡æ„çš„é‚£æ¨èå°±ç”¨å®ƒã€‚ä¸‹é¢å°±è®²&lt;code&gt;powerlevel10k&lt;/code&gt;çš„å®‰è£…æ–¹æ³•ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä¸‹è½½&#34;&gt;ä¸‹è½½&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;git clone --depth=1 https://gitee.com/romkatv/powerlevel10k.git ${ZSH_CUSTOM:-$HOME/.oh-my-zsh/custom}/themes/powerlevel10k
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;å®‰è£…æ‰€éœ€å­—ä½“&#34;&gt;å®‰è£…æ‰€éœ€å­—ä½“&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# å®‰è£… nerd-font å­—ä½“&lt;/span&gt;
brew tap homebrew/cask-fonts

&lt;span class=&#34;c1&#34;&gt;# å…¶ä»–æ‰€éœ€å­—ä½“&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; ~
git clone https://github.com/powerline/fonts.git --depth&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;# åˆ°ç›®å½•ä¸‹æ‰§è¡Œå®‰è£…è„šæœ¬&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; fonts
./install.sh

&lt;span class=&#34;c1&#34;&gt;# åˆ é™¤åˆšåˆšä¸‹è½½çš„&lt;/span&gt;
&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; ..
rm -rf fonts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;é…ç½®&#34;&gt;é…ç½®&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;vim ~/.zshrc
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿›å…¥zshé…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹å¹¶å¢åŠ &lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;nv&#34;&gt;ZSH_THEME&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;powerlevel10k/powerlevel10k&amp;#34;&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; ! -f ~/.p10k.zsh &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;source&lt;/span&gt; ~/.p10k.zsh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¹‹åå¯åŠ¨å‘å¯¼&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;p10k configure
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯ä»¥ç”¨ä¸‹é¢å‘½ä»¤æŸ¥çœ‹é¢œè‰²ä»£å·&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; i in &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;0..255&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;do&lt;/span&gt; print -Pn &lt;span class=&#34;s2&#34;&gt;&amp;#34;%K{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$i&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;}  %k%F{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$i&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;${&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(l:&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:)i&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;%f &amp;#34;&lt;/span&gt; &lt;span class=&#34;si&#34;&gt;${${&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(M)&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$((&lt;/span&gt;i%6&lt;span class=&#34;k&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:#3&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:+&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;$&amp;#39;\n&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¥ä¸‹æ¥éœ€è¦ä¸‹è½½ä¸€äº›å¿…è¦çš„å­—ä½“æˆ–æ ·å¼ï¼Œåœ¨æ­¤ä¹‹å‰éœ€è¦å…ˆæ”¹hostä»¥æ­£å¸¸ä¸‹è½½
ä¸‹è½½è½¯ä»¶&lt;a class=&#34;link&#34; href=&#34;https://oldj.github.io/SwitchHosts/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;SwitchHosts!&lt;/a&gt;
ä¹‹åå¦‚å›¾åŠ ä¸Š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;199.232.68.133 raw.githubusercontent.com
199.232.68.133 user-images.githubusercontent.com
199.232.68.133 avatars2.githubusercontent.com
199.232.68.133 avatars1.githubusercontent.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://static01.imgkr.com/temp/6e6268a51173424385b94999d2ce0d89.jpg&#34; &gt;
		&lt;img src=&#34;https://static01.imgkr.com/temp/6e6268a51173424385b94999d2ce0d89.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;3&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;3&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;br&gt;
å¼€å¯&lt;code&gt;My hosts&lt;/code&gt;åé‡å¯ç»ˆç«¯ï¼Œå°±ä¼šè‡ªåŠ¨æç¤ºä¸‹è½½æ‰€éœ€å­—ä½“ï¼Œè€å¿ƒç­‰å¾…å®ƒä¸‹è½½å®Œï¼ˆæœ‰ç‚¹æ…¢ï¼‰åï¼Œå°±å¯ä»¥æ ¹æ®å¼•å¯¼ä¸€æ­¥æ­¥è‡ªå®šä¹‰å±äºè‡ªå·±çš„ä¸»é¢˜äº†ï¼ä»å›¾æ ‡åˆ°å­—ä½“é¢œè‰²é£æ ¼åˆ°æ˜¾ç¤ºä¿¡æ¯éƒ½å¯ä»¥è‡ªå®šä¹‰ï¼&lt;/p&gt;
&lt;h2 id=&#34;èƒŒæ™¯é€æ˜æ¯›ç»ç’ƒ&#34;&gt;èƒŒæ™¯é€æ˜+æ¯›ç»ç’ƒ&lt;/h2&gt;
&lt;p&gt;æ‰“å¼€iTerm2çš„åå¥½è®¾ç½®æŒ‰ä¸‹å›¾å³å¯è°ƒèŠ‚èƒŒæ™¯é€æ˜å’Œæ¯›ç»ç’ƒï¼Œä¸‹é¢è¿˜å¯ä»¥è®¾ç½®é»˜è®¤çª—å£å¤§å°ã€‚&lt;br&gt;
&lt;figure 
	&gt;
	&lt;a href=&#34;https://static01.imgkr.com/temp/4499e7e7658a44b1bbe30990cd612e5b.jpg&#34; &gt;
		&lt;img src=&#34;https://static01.imgkr.com/temp/4499e7e7658a44b1bbe30990cd612e5b.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;4&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;4&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;å¿«æ·é”®å”¤é†’&#34;&gt;å¿«æ·é”®å”¤é†’&lt;/h2&gt;
&lt;p&gt;å¦‚ä½•è®©åˆ‡å‡ºç»ˆç«¯æ›´å¿«æ·ï¼Ÿå¯ä»¥è®¾ç½®&lt;code&gt;Hotkey&lt;/code&gt;
æŒ‰ä¸‹å›¾æ“ä½œ&lt;br&gt;
&lt;figure 
	&gt;
	&lt;a href=&#34;https://static01.imgkr.com/temp/25d34480ffb441d68d227195a335d59f.jpg&#34; &gt;
		&lt;img src=&#34;https://static01.imgkr.com/temp/25d34480ffb441d68d227195a335d59f.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;5&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;5&lt;/figcaption&gt;
	
&lt;/figure&gt;
&lt;figure 
	&gt;
	&lt;a href=&#34;https://static01.imgkr.com/temp/ce75a9da5d4a4c369990af537139598e.jpg&#34; &gt;
		&lt;img src=&#34;https://static01.imgkr.com/temp/ce75a9da5d4a4c369990af537139598e.jpg&#34;
			
			
			
			loading=&#34;lazy&#34;
			alt=&#34;6&#34;&gt;
	&lt;/a&gt;
	
	&lt;figcaption&gt;6&lt;/figcaption&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;å°¾å£°&#34;&gt;å°¾å£°&lt;/h2&gt;
&lt;p&gt;è‡³æ­¤ï¼Œä¸€ä¸ªå¥½ç”¨åˆå¥½çœ‹çš„macç»ˆç«¯åŸºæœ¬é…ç½®å®Œæ¯•å•¦&lt;br&gt;
å…¶ä»–æœ‰è¶£çš„å¯ä»¥çœ‹ä¸‹&lt;a class=&#34;link&#34; href=&#34;https://sspai.com/post/59666&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;è¿™ç¯‡åšå®¢&lt;/a&gt;è®²çš„&lt;/p&gt;
</description>
        </item>
        <item>
        <title>è®°ä¸€æ¬¡æœåŠ¡å™¨è¢«æ”»å‡»</title>
        <link>https://ccqstark.github.io/p/first_attack/</link>
        <pubDate>Sun, 22 Nov 2020 22:10:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/first_attack/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/first_attack/cover.png" alt="Featured image of post è®°ä¸€æ¬¡æœåŠ¡å™¨è¢«æ”»å‡»" /&gt;&lt;h3 id=&#34;äº‹æƒ…ç»è¿‡&#34;&gt;äº‹æƒ…ç»è¿‡&lt;/h3&gt;
&lt;p&gt;11æœˆ17å·è¿™å¤©æ—©ä¸Šä¸Šç€è¯¾ï¼Œçªç„¶æœ‰ç”¨æˆ·åé¦ˆåº”ç”¨å¡é¡¿ï¼Œä½¿ç”¨ä¸äº†ã€‚æˆ‘æ„Ÿè§‰ä¸Šå»çœ‹äº†æœç„¶æ˜¯è¿™æ ·ï¼Œæœ‰æ—¶æ•°æ®åŠ è½½å¾ˆæ…¢ç”šè‡³åŠ è½½ä¸å‡ºæ¥ï¼Œæˆ‘æ„Ÿåˆ°ç„¦è™‘ä¸å®³æ€•ï¼Œå®³æ€•æ•°æ®åº“å’Œåˆ«äººä¸€æ ·è¢«é»‘äº†ç„¶ååˆ å…‰è¦é’±ï¼Œè¯¾éƒ½æ²¡å¿ƒæƒ…å¬äº†ã€‚ç„¶åæ‰‹æœºä¸‹äº†ä¸ªTermiusï¼Œå…ˆæŠŠæœåŠ¡å…³äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸­åˆå›åˆ°å®¿èˆåçœ‹äº†æ•°æ®åº“å‘ç°æ•°æ®å®Œå¥½æ— æŸï¼Œèµ¶ç´§å¤‡ä»½äº†ä¸€æ³¢ï¼Œç„¶åå¯»æ‰¾é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å†…å­˜å’ŒCPUå’Œç£ç›˜éƒ½æŒºæ­£å¸¸ï¼Œçœ‹äº†æœåŠ¡å™¨çš„å®‰å…¨æ—¥å¿—ï¼Œé‚£ç™»å½•è®°å½•åˆ·åˆ·çš„ï¼Œæœ‰äººåœ¨æš´åŠ›ç ´è§£æˆ‘çš„&lt;strong&gt;rootå¯†ç &lt;/strong&gt;ï¼&lt;/p&gt;
&lt;p&gt;ç”±äºä¸‹åˆè¿˜æœ‰ä½“è‚²è¯¾ï¼Œå°±å…ˆç›´æ¥å…³äº†æœåŠ¡å™¨ï¼Œç„¶åä¸Šè¯¾å»äº†ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‹åˆæ¥åˆ°å®éªŒå®¤ï¼Œé‡æ–°æ‰“å¼€æœåŠ¡å™¨ï¼Œåˆå¼€å§‹æ”»å‡»äº†ï¼Œæ°”æ­»äº†ã€‚ç”¨è„šæœ¬å°äº†æ”»å‡»è€…ä¸€ç™¾å¤šä¸ªè‚‰é¸¡ipï¼Œä»¥ä¸ºå¯ä»¥äº†ä¹‹åï¼ŒæŠŠæœåŠ¡å¼€å¯ï¼Œé€šçŸ¥ç”¨æˆ·å¯ä»¥ç”¨äº†ã€‚&lt;/p&gt;
&lt;p&gt;ç»“æœç”¨æˆ·åˆè¯´å¤ªå¡äº†ï¼Œæˆ‘åˆæ£€æŸ¥äº†ä¸€æ³¢ï¼ŒCPUã€å†…å­˜ã€ç£ç›˜æ­£å¸¸ï¼Œç„¶åè¿™ä¸ªå¸¦å®½å°±ä¸å¤ªæ­£å¸¸äº†ï¼Œæˆ‘å­¦ç”Ÿæœºçš„1M/séƒ½è¶…äº†ï¼Œåº”è¯¥æ˜¯è¿™ä¸ªåŸå› å¯¼è‡´å¡çš„ã€‚&lt;/p&gt;
&lt;p&gt;ç”¨å‘½ä»¤æ‰¾äº†è¿›ç¨‹å‘ç°å¥½åƒä¹Ÿæ²¡å“ªä¸ªå ç”¨å¾ˆå¤šå‘€ï¼Œå¼„äº†å¾ˆä¹…è¿˜æ˜¯å¾ˆè¿·æƒ‘ï¼Œæ”»å‡»è€…çš„ipä¹Ÿæ˜æ˜è¢«æˆ‘åŠ å…¥é»‘åå•äº†å‘€ï¼Œä¹‹åè¿˜å¼€äº†è…¾è®¯äº‘çš„ä¸“ä¸šæœºé˜»æ–­ï¼Œè¿˜æ˜¯å¾ˆå¡ï¼Œå¡åˆ°æˆ‘sshéƒ½è¿ä¸å¤ªä¸Šã€‚ç„¶åæœ‰ä¸ªåŠæ³•å«æˆ‘æ”¹sshçš„22ç«¯å£ï¼Œæˆ‘æ€•æ“ä½œå¤±è¯¯è¿è‡ªå·±éƒ½ç›´æ¥è¿ä¸ä¸Šå°±GGäº†ï¼Œç„¶åå°±ç®—äº†ä¸è¿™æ ·æäº†ã€‚&lt;/p&gt;
&lt;p&gt;æœ€ååªèƒ½å±é¢ å±é¢ å»æ‰¾å®¢æœï¼Œä»–è·Ÿæˆ‘è¯´ä¹Ÿæ˜¯å…¶ä»–æ­£å¸¸å¸¦å®½è·‘æ»¡ï¼Œå«æˆ‘çœ‹æœ‰æ²¡æœ‰ä»€ä¹ˆè¿›ç¨‹å ç”¨å¾ˆå¤šï¼Œä¸»è¦æ˜¯å»ºè®®æˆ‘ä¸´æ—¶å‡çº§å¸¦å®½ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘æƒ³ç€ï¼šå•Šå¥½å®¶ä¼™ï¼Œå¼€å§‹äº†ã€‚ä½†æ˜¯ä¹Ÿæ²¡å•¥å…¶ä»–åŠæ³•ï¼Œå°±å»ä¹°äº†3å¤©å‡çº§åˆ°3M/sçš„å¸¦å®½ï¼Œä¸è´µï¼Œç»“æœä¹Ÿæ˜¯çœŸé¦™ã€‚&lt;/p&gt;
&lt;p&gt;åæ¥æœ€å¤šæ‰‹åŠ¨åœ¨å®‰å…¨ç»„åŠ äº†å‡ ä¸ªå¥‡æ€ªipå°æ‰ï¼ŒæœåŠ¡å°±å®Œæˆç¨³å®šä¸‹æ¥äº†ï¼Œçœ‹æ¥æ²¡æœ‰ä»€ä¹ˆæ˜¯åŠ é’±ä¸èƒ½è§£å†³çš„ã€‚&lt;/p&gt;
&lt;p&gt;åæ¥è¿‡äº†ä¸¤å¤©æ”»å‡»è€…è¿˜åœ¨ç»§ç»­å†²ï¼Œé™¤äº†å½±å“æˆ‘å¸¦å®½ä¹‹å¤–å…¶å®ä¹Ÿæ²¡å¤ªå¤§é—®é¢˜åæ­£ä»–è¿›ä¸æ¥çš„ï¼Œé—®äº†å¸ˆå…„å»ºè®®è¯´æ”¹22ç«¯å£ï¼Œåæ­£é‡è¦ä½¿ç”¨æœŸä¹Ÿè¿‡äº†ï¼Œæˆ‘å°±è¯•è¯•æ”¹ä¸‹ï¼Œè¿˜çœŸæœ‰ç”¨ï¼Œå®‰å…¨æ—¥å¿—ä¹Ÿæ²¡æ”»å‡»è€…é‚£äº›ç ´è§£è®°å½•äº†ï¼Œå¸¦å®½ä¹Ÿå ç”¨ä¹Ÿå†é™äº†ï¼Œè¯´æ˜æ”»å‡»è€…ä¹Ÿæ˜¯å†²22ï¼Œè¿™ä¸‹ç›´æ¥å®Œå…¨è¢«æŒ¡ä½ï¼Œå¸¦å®½ä¹Ÿä¸å äº†ã€‚&lt;/p&gt;
&lt;p&gt;ç¬¬ä¸€æ¬¡ä¸é»‘å®¢å¯¹çº¿è¿˜æ˜¯å­¦åˆ°äº†å¾ˆå¤šçš„ï¼Œä¹ŸåŠ å¼ºäº†æˆ‘çš„å®‰å…¨é˜²èŒƒæ„è¯†&lt;/p&gt;
&lt;h3 id=&#34;æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€å‘½ä»¤&#34;&gt;æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€å‘½ä»¤&lt;/h3&gt;
&lt;p&gt;ä¸‹é¢æœ‰äº›å‘½ä»¤å·¥å…·éœ€è¦é¢å¤–å®‰è£…çš„ï¼Œç›´æ¥&lt;code&gt;yum install xxx&lt;/code&gt;å®‰è£…å°±è¡Œ&lt;/p&gt;
&lt;h4 id=&#34;æŸ¥çœ‹æœåŠ¡å™¨å®‰å…¨æ—¥å¿—åŠ¨æ€å®æ—¶centos&#34;&gt;æŸ¥çœ‹æœåŠ¡å™¨å®‰å…¨æ—¥å¿—(åŠ¨æ€å®æ—¶)(CentOS)&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;tail -f /var/log/secure
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;æŸ¥çœ‹cpuç­‰çš„ä½¿ç”¨æƒ…å†µæŒ‰è¿›ç¨‹&#34;&gt;æŸ¥çœ‹CPUç­‰çš„ä½¿ç”¨æƒ…å†µ(æŒ‰è¿›ç¨‹)&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;top
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ&#34;&gt;æŸ¥çœ‹å†…å­˜ä½¿ç”¨æƒ…å†µ&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;free -h
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ&#34;&gt;æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;df -hl
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;æŸ¥çœ‹ç½‘ç»œå¸¦å®½å ç”¨æŒ‰ip&#34;&gt;æŸ¥çœ‹ç½‘ç»œå¸¦å®½å ç”¨(æŒ‰ip)&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;iftop -i eth0
jnettop
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æŒ‰Qé€€å‡º&lt;/p&gt;
&lt;h4 id=&#34;æŸ¥çœ‹ç½‘ç»œå¸¦å®½å ç”¨æŒ‰è¿›ç¨‹&#34;&gt;æŸ¥çœ‹ç½‘ç»œå¸¦å®½å ç”¨(æŒ‰è¿›ç¨‹)&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;nethogs
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿˜æœ‰é˜²ç«å¢™å·¥å…·&lt;strong&gt;iptables&lt;/strong&gt;å’Œ&lt;strong&gt;firewall-cmd&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://wangchujiang.com/linux-command/c/iptables.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://wangchujiang.com/linux-command/c/iptables.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://wangchujiang.com/linux-command/c/firewall-cmd.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://wangchujiang.com/linux-command/c/firewall-cmd.html&lt;/a&gt;&lt;/p&gt;
&lt;h3 id=&#34;ç¼–å†™è‡ªåŠ¨åŒ–è„šæœ¬å°ç¦æš´åŠ›ç ´è§£ç™»å½•çš„ip&#34;&gt;ç¼–å†™è‡ªåŠ¨åŒ–è„šæœ¬å°ç¦æš´åŠ›ç ´è§£ç™»å½•çš„ip&lt;/h3&gt;
&lt;p&gt;ä»å®‰å…¨æ—¥å¿—ä¸­è¯»å–è®°å½•ï¼ŒæŠŠé‚£äº›å¤šæ¬¡ç™»å½•å¤±è´¥çš„ipå†™è¿›è¯·æ±‚é»‘åå•ä¸­ï¼ˆhosts.denyï¼‰ï¼Œä½†æ˜¯è¿™ç§åŠæ³•åªæ˜¯æ‹’ç»è¿æ¥ï¼Œå¦‚æœé»‘å®¢ç»§ç»­æ”»å‡»è¿˜æ˜¯ä¼šå ç”¨å¸¦å®½&lt;/p&gt;
&lt;p&gt;å…ˆæ‰¾ä¸ªç›®å½•ï¼Œvimå»ºç«‹ä¸€ä¸ªè„šæœ¬æ–‡ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;vim /usr/local/secure_ssh.sh
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åç¼–å†™è„šæœ¬&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#! /bin/bash
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;cat /var/log/secure&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;/Failed/{print $(NF-3)}&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;sort&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;uniq -c&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{print $2&amp;#34;=&amp;#34;$1;}&amp;#39;&lt;/span&gt; &amp;gt; /usr/local/bin/black.txt
&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; i in &lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;cat  /usr/local/bin/black.txt&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;do&lt;/span&gt;
        &lt;span class=&#34;nv&#34;&gt;IP&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$i&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;awk -F&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;{print $1}&amp;#39;&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
        &lt;span class=&#34;nv&#34;&gt;NUM&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;awk -F&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;{print $2}&amp;#39;&lt;/span&gt;&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
        &lt;span class=&#34;nv&#34;&gt;result&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;cat /etc/hosts.deny &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep &lt;span class=&#34;nv&#34;&gt;$IP&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$NUM&lt;/span&gt; -gt &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[[&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;]]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;then&lt;/span&gt;
                        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;sshd: &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$IP&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt; &amp;gt;&amp;gt; /etc/hosts.deny
                &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;fi&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è®¾ç½®å®šæ—¶ä»»åŠ¡&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#é¦–å…ˆæ‰“å¼€å®šæ—¶ä»»åŠ¡åˆ—è¡¨&lt;/span&gt;
crontab -e

&lt;span class=&#34;c1&#34;&gt;#æ·»åŠ ä¸‹é¢è¿™è¡Œï¼Œè¡¨ç¤ºæ¯ååˆ†é’Ÿ&lt;/span&gt;
*/10 * * * * bash /usr/local/secure_ssh.sh

&lt;span class=&#34;c1&#34;&gt;#ä¿å­˜é€€å‡ºåé‡å¯ä¸‹&lt;/span&gt;
service crond restart 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;ä¿®æ”¹sshdçš„22ç«¯å£&#34;&gt;ä¿®æ”¹sshdçš„22ç«¯å£&lt;/h3&gt;
&lt;p&gt;è¿™ä¸ªæ–¹æ³•å¯ä»¥å®Œå…¨æŠŠå¯¹22ç«¯å£çš„æ”»å‡»ç›´æ¥æ‹’ä¹‹é—¨å¤–ï¼Œå®‰å…¨æ—¥å¿—éƒ½æ²¡è®°å½•ç ´è§£ç™»å½•äº‹ä»¶ï¼Œå¸¦å®½ä¹Ÿä¸ä¼šå½±å“ï¼Œä½†æ“ä½œè¿‡ç¨‹è¦å°å¿ƒä¸€ç‚¹ç‚¹&lt;/p&gt;
&lt;p&gt;ä¿®æ”¹sshdé…ç½®æ–‡ä»¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;vim /etc/ssh/sshd_config

&lt;span class=&#34;c1&#34;&gt;#Port 22     //è¿™è¡Œå»æ‰#å·ï¼Œç„¶ååœ¨ä¸‹é¢å¢åŠ è‡ªå·±è¦æ–°å¼€çš„ç«¯å£ï¼Œä¿è¯æ–°ç«¯å£èƒ½ç”¨å†å»æ‰è¿™è¡Œ&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸‹é¢æ–°å¢ç«¯å£&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;Port xxxxx
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é˜²ç«å¢™å¼€å¯å¯¹åº”ç«¯å£ï¼Œå®‰å…¨ç»„ä¹Ÿè®°å¾—å¼€ï¼Œæˆ–è€…å…ˆæŠŠé˜²ç«å¢™å…³äº†ï¼Œä¹‹åè¯•äº†æ–°ç«¯å£èƒ½ç”¨å†å¼€&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;firewall-cmd --zone=public --add-port=xxxxx/tcp --permanent
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;é‡å¯sshd&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;/etc/init.d/sshd restart
&lt;span class=&#34;c1&#34;&gt;#æˆ–è€…&lt;/span&gt;
service sshd restart 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åé‡æ–°è¿æœåŠ¡å™¨ç»ˆç«¯è¯•è¯•ï¼Œæ²¡é—®é¢˜ä¹‹åå¯ä»¥æŠŠ22ç›´æ¥ç¦æ‰ï¼Œé˜²ç«å¢™å’Œå®‰å…¨ç»„ä¹Ÿå°äº†22ï¼Œå¯¹æ–°ç«¯å£æ”¾è¡Œå°±è¡Œ&lt;/p&gt;
&lt;h3 id=&#34;å…¶ä»–&#34;&gt;å…¶ä»–&lt;/h3&gt;
&lt;p&gt;ä½¿ç”¨å¼ºå¯†ç æˆ–è€…åªç”¨å¯†é’¥ç™»å½•&lt;/p&gt;
&lt;p&gt;æ•°æ®åº“å¤šåšå¤‡ä»½&lt;/p&gt;
&lt;p&gt;å»ºç«‹å¿«ç…§&lt;/p&gt;
&lt;p&gt;å…³é”®æ•°æ®åŠ å¯†&lt;/p&gt;
&lt;p&gt;è¦å¢å¼ºå®‰å…¨æ„è¯†å‘€ï¼&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[æœºå™¨å­¦ä¹ è®ºæ–‡]Domain Adaptive Faster R-CNN for Object Detection in the Wild</title>
        <link>https://ccqstark.github.io/p/ml_domain_adaptation/</link>
        <pubDate>Sun, 22 Nov 2020 22:07:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/ml_domain_adaptation/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/ml_domain_adaptation/cover.png" alt="Featured image of post [æœºå™¨å­¦ä¹ è®ºæ–‡]Domain Adaptive Faster R-CNN for Object Detection in the Wild" /&gt;&lt;h2 id=&#34;é—®é¢˜å¼•å…¥ä¸ç ”ç©¶ç›®æ ‡&#34;&gt;é—®é¢˜å¼•å…¥ä¸ç ”ç©¶ç›®æ ‡&lt;/h2&gt;
&lt;p&gt;ç›®æ ‡æ£€æµ‹çš„æ•°æ®é›†çš„æ”¶é›†å¾€å¾€æ˜¯åœ¨ç°å®åœºæ™¯ä¸­è¿›è¡Œçš„ï¼Œå› æ­¤æ•°æ®ä¸­ç›®æ ‡çš„å¤–è§‚ã€èƒŒæ™¯ã€å…‰ç…§ã€å›¾åƒè´¨é‡ç­‰æ–¹é¢çš„å·¨å¤§å·®å¼‚ä¼šå¯¼è‡´è®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®ä¹‹é—´å‡ºç°å·¨å¤§çš„é¢†åŸŸåç§»ã€‚æ¯”å¦‚æ±½è½¦åœ¨ä¸åŒå¤©æ°”æ¡ä»¶ä¸‹é©¾é©¶æ”¶é›†åˆ°çš„æ•°æ®ï¼Œæˆ–è€…æ˜¯ç›¸æœºçš„ç±»å‹å’Œè®¾ç½®çš„ä¸åŒä¹Ÿä¼šå¯¼è‡´æ•°æ®çš„é¢†åŸŸåç§»ã€‚è¿™æ ·çš„åç§»ä¼šå¯¼è‡´æ€§èƒ½æ˜¾è‘—ä¸‹é™ï¼Œå°½ç®¡æ”¶é›†å°½å¯èƒ½å¤šçš„æ•°æ®é›†å¯ä»¥é™ä½è¿™ç§å½±å“ï¼Œä½†æ˜¯æ³¨é‡Šè¾¹ç•Œæ¡†ä¹Ÿæ˜¯ä¸€ä¸ªè´¹æ—¶è´¹åŠ›çš„è¿‡ç¨‹ï¼Œå› æ­¤å¼€å‘ä¸€ä¸ªæ–°çš„ç®—æ³•æ¥åº”å¯¹è·¨é¢†åŸŸç›®æ ‡æ£€æµ‹é—®é¢˜å°±å°¤ä¸ºé‡è¦ã€‚&lt;/p&gt;
&lt;p&gt;è®ºæ–‡ä¸­æ–¹æ³•é€‚ç”¨äºæ— ç›‘ç£åœºæ™¯ï¼Œåœ¨æºåŸŸæœ‰å®Œæ•´çš„ç›‘ç£ï¼Œè€Œåœ¨ç›®æ ‡åŸŸæ²¡æœ‰ç›‘ç£ã€‚è¿™æ ·å°±å¯ä»¥ä¸å¢åŠ äººå·¥æ ‡æ³¨æˆæœ¬çš„å‰æä¸‹å‡å°‘è·¨åŸŸå¯¹ç›®æ ‡æ£€æµ‹æ•ˆç‡çš„å½±å“ã€‚&lt;/p&gt;
&lt;h2 id=&#34;å…³é”®æœ¯è¯­ä»‹ç»&#34;&gt;å…³é”®æœ¯è¯­ä»‹ç»&lt;/h2&gt;
&lt;h3 id=&#34;ç›®æ ‡æ£€æµ‹--object-detection&#34;&gt;ç›®æ ‡æ£€æµ‹  Object Detection&lt;/h3&gt;
&lt;p&gt;ç›®æ ‡æ£€æµ‹ï¼Œä¹Ÿå«ç›®æ ‡æå–ï¼Œæ˜¯ä¸€ç§åŸºäºç›®æ ‡å‡ ä½•å’Œç»Ÿè®¡ç‰¹å¾çš„å›¾åƒåˆ†å‰²ï¼Œå®ƒå°†ç›®æ ‡çš„åˆ†å‰²å’Œè¯†åˆ«åˆäºŒä¸ºä¸€ï¼Œå…¶å‡†ç¡®æ€§å’Œå®æ—¶æ€§æ˜¯æ•´ä¸ªç³»ç»Ÿçš„ä¸€é¡¹é‡è¦èƒ½åŠ›ã€‚å°¤å…¶æ˜¯åœ¨å¤æ‚åœºæ™¯ä¸­ï¼Œéœ€è¦å¯¹å¤šä¸ªç›®æ ‡è¿›è¡Œå®æ—¶å¤„ç†æ—¶ï¼Œç›®æ ‡è‡ªåŠ¨æå–å’Œè¯†åˆ«å°±æ˜¾å¾—ç‰¹åˆ«é‡è¦ã€‚ç›®æ ‡æ£€æµ‹ä¸»è¦æœ‰ä¸‰ä¸ªå±‚æ¬¡ï¼š&lt;/p&gt;
&lt;p&gt;ä¸€æ˜¯&lt;strong&gt;åˆ†ç±»&lt;/strong&gt;ï¼ˆ&lt;strong&gt;Classification&lt;/strong&gt;ï¼‰ï¼Œå³æ˜¯å°†å›¾åƒç»“æ„åŒ–ä¸ºæŸä¸€ç±»åˆ«çš„ä¿¡æ¯ï¼Œç”¨äº‹å…ˆç¡®å®šå¥½çš„ç±»åˆ«(string)æˆ–å®ä¾‹IDæ¥æè¿°å›¾ç‰‡ã€‚è¿™ä¸€ä»»åŠ¡æ˜¯æœ€ç®€å•ã€æœ€åŸºç¡€çš„å›¾åƒç†è§£ä»»åŠ¡ï¼Œä¹Ÿæ˜¯æ·±åº¦å­¦ä¹ æ¨¡å‹æœ€å…ˆå–å¾—çªç ´å’Œå®ç°å¤§è§„æ¨¡åº”ç”¨çš„ä»»åŠ¡ã€‚å…¶ä¸­ï¼ŒImageNetæ˜¯æœ€æƒå¨çš„è¯„æµ‹é›†ï¼Œæ¯å¹´çš„ILSVRCå‚¬ç”Ÿäº†å¤§é‡çš„ä¼˜ç§€æ·±åº¦ç½‘ç»œç»“æ„ï¼Œä¸ºå…¶ä»–ä»»åŠ¡æä¾›äº†åŸºç¡€ã€‚åœ¨åº”ç”¨é¢†åŸŸï¼Œäººè„¸ã€åœºæ™¯çš„è¯†åˆ«ç­‰éƒ½å¯ä»¥å½’ä¸ºåˆ†ç±»ä»»åŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;äºŒæ˜¯&lt;strong&gt;æ£€æµ‹&lt;/strong&gt;ï¼ˆ&lt;strong&gt;Detection&lt;/strong&gt;ï¼‰ã€‚åˆ†ç±»ä»»åŠ¡å…³å¿ƒæ•´ä½“ï¼Œç»™å‡ºçš„æ˜¯æ•´å¼ å›¾ç‰‡çš„å†…å®¹æè¿°ï¼Œè€Œæ£€æµ‹åˆ™å…³æ³¨ç‰¹å®šçš„ç‰©ä½“ç›®æ ‡ï¼Œè¦æ±‚åŒæ—¶è·å¾—è¿™ä¸€ç›®æ ‡çš„ç±»åˆ«ä¿¡æ¯å’Œä½ç½®ä¿¡æ¯ã€‚ç›¸æ¯”åˆ†ç±»ï¼Œæ£€æµ‹ç»™å‡ºçš„æ˜¯å¯¹å›¾ç‰‡å‰æ™¯å’ŒèƒŒæ™¯çš„ç†è§£ï¼Œæˆ‘ä»¬éœ€è¦ä»èƒŒæ™¯ä¸­åˆ†ç¦»å‡ºæ„Ÿå…´è¶£çš„ç›®æ ‡ï¼Œå¹¶ç¡®å®šè¿™ä¸€ç›®æ ‡çš„æè¿°ï¼ˆç±»åˆ«å’Œä½ç½®ï¼‰ï¼Œå› è€Œï¼Œæ£€æµ‹æ¨¡å‹çš„è¾“å‡ºæ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œåˆ—è¡¨çš„æ¯ä¸€é¡¹ä½¿ç”¨ä¸€ä¸ªæ•°æ®ç»„ç»™å‡ºæ£€å‡ºç›®æ ‡çš„ç±»åˆ«å’Œä½ç½®ï¼ˆå¸¸ç”¨çŸ©å½¢æ£€æµ‹æ¡†çš„åæ ‡è¡¨ç¤ºï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;ä¸‰æ˜¯&lt;strong&gt;åˆ†å‰²&lt;/strong&gt;ï¼ˆ&lt;strong&gt;Segmentation&lt;/strong&gt;ï¼‰ã€‚åˆ†å‰²åŒ…æ‹¬è¯­ä¹‰åˆ†å‰²ï¼ˆsemantic segmentationï¼‰å’Œå®ä¾‹åˆ†å‰²ï¼ˆinstance segmentationï¼‰ï¼Œå‰è€…æ˜¯å¯¹å‰èƒŒæ™¯åˆ†ç¦»çš„æ‹“å±•ï¼Œè¦æ±‚åˆ†ç¦»å¼€å…·æœ‰ä¸åŒè¯­ä¹‰çš„å›¾åƒéƒ¨åˆ†ï¼Œè€Œåè€…æ˜¯æ£€æµ‹ä»»åŠ¡çš„æ‹“å±•ï¼Œè¦æ±‚æè¿°å‡ºç›®æ ‡çš„è½®å»“ï¼ˆç›¸æ¯”æ£€æµ‹æ¡†æ›´ä¸ºç²¾ç»†ï¼‰ã€‚åˆ†å‰²æ˜¯å¯¹å›¾åƒçš„åƒç´ çº§æè¿°ï¼Œå®ƒèµ‹äºˆæ¯ä¸ªåƒç´ ç±»åˆ«ï¼ˆå®ä¾‹ï¼‰æ„ä¹‰ï¼Œé€‚ç”¨äºç†è§£è¦æ±‚è¾ƒé«˜çš„åœºæ™¯ï¼Œå¦‚æ— äººé©¾é©¶ä¸­å¯¹é“è·¯å’Œéé“è·¯çš„åˆ†å‰²ã€‚&lt;/p&gt;
&lt;h3 id=&#34;é¢†åŸŸè‡ªé€‚åº”--domain-adaptation&#34;&gt;&lt;strong&gt;é¢†åŸŸè‡ªé€‚åº”&lt;/strong&gt;  Domain Adaptation&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;é¢†åŸŸè‡ªé€‚åº”&lt;/strong&gt;ï¼ˆDomain Adaptationï¼‰æ˜¯è¿ç§»å­¦ä¹ ä¸­çš„ä¸€ç§ä»£è¡¨æ€§æ–¹æ³•ï¼ŒæŒ‡çš„æ˜¯åˆ©ç”¨ä¿¡æ¯ä¸°å¯Œçš„æºåŸŸæ ·æœ¬æ¥æå‡ç›®æ ‡åŸŸæ¨¡å‹çš„æ€§èƒ½ã€‚
é¢†åŸŸè‡ªé€‚åº”é—®é¢˜ä¸­ä¸¤ä¸ªè‡³å…³é‡è¦çš„æ¦‚å¿µï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æºåŸŸ&lt;/strong&gt;ï¼ˆsource domainï¼‰è¡¨ç¤ºä¸æµ‹è¯•æ ·æœ¬ä¸åŒçš„é¢†åŸŸï¼Œä½†æ˜¯æœ‰ä¸°å¯Œçš„ç›‘ç£ä¿¡æ¯&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç›®æ ‡åŸŸ&lt;/strong&gt;ï¼ˆtarget domainï¼‰è¡¨ç¤ºæµ‹è¯•æ ·æœ¬æ‰€åœ¨çš„é¢†åŸŸï¼Œæ— æ ‡ç­¾æˆ–è€…åªæœ‰å°‘é‡æ ‡ç­¾ã€‚&lt;strong&gt;æºåŸŸå’Œç›®æ ‡åŸŸå¾€å¾€å±äºåŒä¸€ç±»ä»»åŠ¡ï¼Œä½†æ˜¯åˆ†å¸ƒä¸åŒ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;æ ¹æ®ç›®æ ‡åŸŸå’ŒæºåŸŸçš„ä¸åŒç±»å‹ï¼Œé¢†åŸŸè‡ªé€‚åº”é—®é¢˜æœ‰å››ç±»ä¸åŒçš„åœºæ™¯ï¼šæ— ç›‘ç£çš„ï¼Œæœ‰ç›‘ç£çš„ï¼Œå¼‚æ„åˆ†å¸ƒå’Œå¤šä¸ªæºåŸŸé—®é¢˜ã€‚
é€šè¿‡åœ¨ä¸åŒé˜¶æ®µè¿›è¡Œé¢†åŸŸè‡ªé€‚åº”ï¼Œç ”ç©¶è€…æå‡ºäº†ä¸‰ç§ä¸åŒçš„é¢†åŸŸè‡ªé€‚åº”æ–¹æ³•ï¼š&lt;/p&gt;
&lt;p&gt;1ï¼‰&lt;strong&gt;æ ·æœ¬è‡ªé€‚åº”&lt;/strong&gt;ï¼Œå¯¹æºåŸŸæ ·æœ¬è¿›è¡ŒåŠ æƒé‡é‡‡æ ·ï¼Œä»è€Œé€¼è¿‘ç›®æ ‡åŸŸçš„åˆ†å¸ƒã€‚&lt;/p&gt;
&lt;p&gt;2ï¼‰&lt;strong&gt;ç‰¹å¾å±‚é¢è‡ªé€‚åº”&lt;/strong&gt;ï¼Œå°†æºåŸŸå’Œç›®æ ‡åŸŸæŠ•å½±åˆ°å…¬å…±ç‰¹å¾å­ç©ºé—´ã€‚&lt;/p&gt;
&lt;p&gt;3ï¼‰&lt;strong&gt;æ¨¡å‹å±‚é¢è‡ªé€‚åº”&lt;/strong&gt;ï¼Œå¯¹æºåŸŸè¯¯å·®å‡½æ•°è¿›è¡Œä¿®æ”¹ï¼Œè€ƒè™‘ç›®æ ‡åŸŸçš„è¯¯å·®ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ•£åº¦--divergence&#34;&gt;æ•£åº¦  Divergence&lt;/h3&gt;
&lt;p&gt;åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸éœ€è¦ç”¨ä¸€ä¸ªåˆ†å¸ƒQå»é€¼è¿‘ä¸€ä¸ªç›®æ ‡åˆ†å¸ƒPï¼Œæˆ‘ä»¬å¸Œæœ›èƒ½å¤Ÿæ‰¾åˆ°ä¸€ä¸ªç›®æ ‡å‡½æ•°D ( Q , P ) D( Q,P)&lt;em&gt;D&lt;/em&gt;(&lt;em&gt;Q&lt;/em&gt;,&lt;em&gt;P&lt;/em&gt;)ï¼Œè®¡ç®—Qåˆ°Pçš„è·ç¦»ã€‚è€Œè¿™ä¸€ä¸ªç›®æ ‡å‡½æ•°ï¼Œæ­£æ˜¯Divergence(æ•£åº¦)ï¼Œæ¯”å¦‚å¸¸è§çš„KL-Divergenceï¼ŒJS-Divergenceç­‰ç­‰ã€‚é€šè¿‡è¿™ä¸ªæ•£åº¦çš„è®¡ç®—æˆ‘ä»¬å°±èƒ½ä¸æ–­åœ°å»ä¼˜åŒ–æˆ‘ä»¬çš„Qï¼Œå¯»æ‰¾ä¸€ä¸ªæœ€ä¼˜çš„å‚æ•°å»é€¼è¿‘çœŸå®çš„åˆ†å¸ƒPã€‚&lt;/p&gt;
&lt;h3 id=&#34;faster-r-cnn&#34;&gt;Faster R-CNN&lt;/h3&gt;
&lt;p&gt;Faster R-CNNæ˜¯ä½•å‡¯æ˜ç­‰å¤§ç¥åœ¨2015å¹´æå‡ºç›®æ ‡æ£€æµ‹ç®—æ³•ï¼Œè¯¥ç®—æ³•åœ¨2015å¹´çš„ILSVRVå’ŒCOCOç«èµ›ä¸­è·å¾—å¤šé¡¹ç¬¬ä¸€ã€‚è¯¥ç®—æ³•åœ¨Fast R-CNNåŸºç¡€ä¸Šæå‡ºäº†RPNå€™é€‰æ¡†ç”Ÿæˆç®—æ³•ï¼Œä½¿å¾—ç›®æ ‡æ£€æµ‹é€Ÿåº¦å¤§å¤§æé«˜ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 105; 
			flex-basis: 252px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/1.png&#34; data-size=&#34;487x462&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/1.png&#34;
			width=&#34;487&#34;
			height=&#34;462&#34;
			srcset=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/1_hu33a443bcffd997b11ce9d834be4f9687_44898_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/ml_domain_adaptation/1_hu33a443bcffd997b11ce9d834be4f9687_44898_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 204; 
			flex-basis: 491px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/2.png&#34; data-size=&#34;971x474&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/2.png&#34;
			width=&#34;971&#34;
			height=&#34;474&#34;
			srcset=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/2_hu1a52a0641a479d2424bf5b4475087417_257767_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/ml_domain_adaptation/2_hu1a52a0641a479d2424bf5b4475087417_257767_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Faster-RCNNç”±ä¸‹é¢å‡ éƒ¨åˆ†ç»„æˆï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;æ•°æ®é›†ï¼Œimage input&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å·ç§¯å±‚CNNç­‰åŸºç¡€ç½‘ç»œï¼Œæå–ç‰¹å¾å¾—åˆ°feature map&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;RPNå±‚ï¼Œå†åœ¨ç»è¿‡å·ç§¯å±‚æå–åˆ°çš„feature mapä¸Šç”¨ä¸€ä¸ª3x3çš„slide windowï¼Œå»éå†æ•´ä¸ªfeature map,åœ¨éå†è¿‡ç¨‹ä¸­æ¯ä¸ªwindowä¸­å¿ƒæŒ‰rateï¼Œscaleï¼ˆ1:2,1:1,2:1ï¼‰ç”Ÿæˆ9ä¸ªanchorsï¼Œç„¶åå†åˆ©ç”¨å…¨è¿æ¥å¯¹æ¯ä¸ªanchorsåšäºŒåˆ†ç±»ï¼ˆæ˜¯å‰æ™¯è¿˜æ˜¯èƒŒæ™¯ï¼‰å’Œåˆæ­¥bbox regressionï¼Œæœ€åè¾“å‡ºæ¯”è¾ƒç²¾ç¡®çš„300ä¸ªROIsã€‚ æŠŠç»è¿‡å·ç§¯å±‚feature mapç”¨ROI poolingå›ºå®šå…¨è¿æ¥å±‚çš„è¾“å…¥ç»´åº¦ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç„¶åæŠŠç»è¿‡RPNè¾“å‡ºçš„roisæ˜ å°„åˆ°ROIpoolingçš„feature mapä¸Šè¿›è¡Œbboxå›å½’å’Œåˆ†ç±»ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;äº¤å‰ç†µ--cross-entropy&#34;&gt;äº¤å‰ç†µ  cross entropy&lt;/h3&gt;
&lt;p&gt;äº¤å‰ç†µæè¿°äº†ä¸¤ä¸ªæ¦‚ç‡åˆ†å¸ƒä¹‹é—´çš„è·ç¦»ï¼Œå½“äº¤å‰ç†µè¶Šå°è¯´æ˜äºŒè€…ä¹‹é—´è¶Šæ¥è¿‘ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨ä¿¡æ¯è®ºä¸­ï¼ŒåŸºäºç›¸åŒäº‹ä»¶æµ‹åº¦çš„ä¸¤ä¸ªæ¦‚ç‡åˆ†å¸ƒçš„äº¤å‰ç†µæ˜¯æŒ‡ï¼Œå½“åŸºäºä¸€ä¸ªâ€œéè‡ªç„¶â€ï¼ˆç›¸å¯¹äºâ€œçœŸå®â€åˆ†å¸ƒè€Œè¨€ï¼‰çš„æ¦‚ç‡åˆ†å¸ƒè¿›è¡Œç¼–ç æ—¶ï¼Œåœ¨äº‹ä»¶é›†åˆä¸­å”¯ä¸€æ ‡è¯†ä¸€ä¸ªäº‹ä»¶æ‰€éœ€è¦çš„å¹³å‡æ¯”ç‰¹æ•°ã€‚&lt;/p&gt;
&lt;h3 id=&#34;æ¢¯åº¦ä¸‹é™--gradient-descent&#34;&gt;æ¢¯åº¦ä¸‹é™  gradient descent&lt;/h3&gt;
&lt;p&gt;åœ¨æœºå™¨å­¦ä¹ ç®—æ³•ä¸­ï¼Œåœ¨æœ€å°åŒ–æŸå¤±å‡½æ•°æ—¶ï¼Œå¯ä»¥é€šè¿‡æ¢¯åº¦ä¸‹é™æ³•æ¥ä¸€æ­¥æ­¥çš„è¿­ä»£æ±‚è§£ï¼Œå¾—åˆ°æœ€å°åŒ–çš„æŸå¤±å‡½æ•°ï¼Œå’Œæ¨¡å‹å‚æ•°å€¼ã€‚&lt;/p&gt;
&lt;p&gt;æ¢¯åº¦ä¸‹é™åœ¨æœºå™¨å­¦ä¹ ä¸­åº”ç”¨ååˆ†çš„å¹¿æ³›ï¼Œä¸è®ºæ˜¯åœ¨çº¿æ€§å›å½’è¿˜æ˜¯Logisticå›å½’ä¸­ï¼Œå®ƒçš„ä¸»è¦ç›®çš„æ˜¯é€šè¿‡è¿­ä»£æ‰¾åˆ°ç›®æ ‡å‡½æ•°çš„æœ€å°å€¼ï¼Œæˆ–è€…æ”¶æ•›åˆ°æœ€å°å€¼ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 200; 
			flex-basis: 480px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/3.png&#34; data-size=&#34;709x354&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/3.png&#34;
			width=&#34;709&#34;
			height=&#34;354&#34;
			srcset=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/3_hu081a3a22a727a44532d2575115c871b3_94091_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/ml_domain_adaptation/3_hu081a3a22a727a44532d2575115c871b3_94091_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;åŸºæœ¬æ€è·¯&#34;&gt;åŸºæœ¬æ€è·¯&lt;/h2&gt;
&lt;p&gt;è®ºæ–‡ä¸­ä¸ºäº†è§£å†³åŸŸåç§»é—®é¢˜ï¼Œåœ¨Faster R-CNNæ¨¡å‹ä¸­åŠ å…¥äº†å›¾åƒçº§å’Œå®ä¾‹çº§çš„ä¸¤ä¸ªåŸŸé€‚åº”ç»„ä»¶ï¼Œä»è€Œæ¥æœ€å°åŒ–ä¸¤ä¸ªåŸŸä¹‹é—´çš„hæ•£åº¦ã€‚åœ¨æ¯ä¸ªç»„ä»¶ä¸­ï¼Œè®­ç»ƒä¸€ä¸ªé¢†åŸŸåˆ†ç±»å™¨ï¼Œå¹¶ä½¿ç”¨å¯¹æŠ—æ€§è®­ç»ƒç­–ç•¥æ¥å­¦ä¹ é¢†åŸŸä¸å˜é‡çš„é²æ£’ç‰¹å¾ã€‚å¹¶ä¸”è¿›ä¸€æ­¥æ•´åˆä¸åŒå±‚æ¬¡çš„åŸŸåˆ†ç±»å™¨ä¹‹é—´çš„ä¸€è‡´æ€§è§„åˆ™ï¼Œåœ¨Faster R-CNNæ¨¡å‹ä¸­å­¦ä¹ ä¸€ä¸ªåŸŸä¸å˜åŒºåŸŸå»ºè®®ç½‘ç»œ(RPN)ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç ”ç©¶æˆæœ&#34;&gt;ç ”ç©¶æˆæœ&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;ä»æ¦‚ç‡çš„è§’åº¦å¯¹è·¨åŸŸç›®æ ‡æ£€æµ‹çš„åŸŸç§»é—®é¢˜è¿›è¡Œäº†ç†è®ºåˆ†æã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è®¾è®¡äº†ä¸¤ä¸ªåŸŸè‡ªé€‚åº”ç»„ä»¶ï¼Œä»¥ç¼“è§£å›¾åƒçº§å’Œå®ä¾‹çº§çš„åŸŸå·®å¼‚ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;è¿›ä¸€æ­¥æå‡ºäº†ä¸€è‡´æ€§æ­£åˆ™åŒ–ï¼Œä»¥ä¿ƒè¿›RPNå˜æˆé¢†åŸŸä¸å˜çš„ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å°†æå‡ºçš„ç»„ä»¶é›†æˆåˆ°Faster R-CNNæ¨¡å‹ä¸­ï¼Œå¾—åˆ°çš„ç³»ç»Ÿå¯ä»¥ä»¥ç«¯åˆ°ç«¯çš„æ–¹å¼è¿›è¡Œè®­ç»ƒã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¸ç”¨äºåˆ†ç±»çš„é¢†åŸŸé€‚åº”ç ”ç©¶ç›¸æ¯”ï¼Œå…¶ä»–è®¡ç®—æœºè§†è§‰ä»»åŠ¡çš„é¢†åŸŸé€‚åº”ç ”ç©¶è¾ƒå°‘ã€‚è¿‘å¹´æ¥åœ¨è¯­ä¹‰åˆ†å‰²ã€ç²¾ç»†è¯†åˆ«ç­‰æ–¹é¢è¿›è¡Œäº†ç ”ç©¶ã€‚å¯¹äºæ£€æµ‹ä»»åŠ¡ï¼Œæå‡ºé€šè¿‡å¼•å…¥è‡ªé€‚åº”æ”¯æŒå‘é‡æœºæ¥ç¼“è§£å¯å˜å½¢é›¶ä»¶æ¨¡å‹(DPM)çš„åŸŸæ¼‚ç§»é—®é¢˜ã€‚åœ¨è¿‘æœŸçš„ç ”ç©¶ä¸­ï¼Œå…¶ä»–ç ”ç©¶è€…ä½¿ç”¨R-CNNæ¨¡å‹ä½œä¸ºç‰¹å¾æå–å™¨ï¼Œç„¶åç”¨å­ç©ºé—´å¯¹é½æ–¹æ³•å¯¹ç‰¹å¾è¿›è¡Œå¯¹é½ã€‚ä¹Ÿæœ‰ä»å…¶ä»–æ¥æºå­¦ä¹ æ¢æµ‹å™¨çš„å·¥ä½œï¼Œä¾‹å¦‚ä»å›¾åƒåˆ°è§†é¢‘ï¼Œä»3Dæ¨¡å‹ï¼Œæˆ–è€…ä»åˆæˆæ¨¡å‹ã€‚ä»¥å‰çš„å·¥ä½œè¦ä¹ˆä¸èƒ½ä»¥ç«¯åˆ°ç«¯çš„æ–¹å¼è¿›è¡ŒåŸ¹è®­ï¼Œè¦ä¹ˆä¾§é‡äºç‰¹å®šçš„æ¡ˆä¾‹ã€‚åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œè®ºæ–‡ä½œè€…å»ºç«‹äº†ä¸€ä¸ªç”¨äºç›®æ ‡æ£€æµ‹çš„ç«¯åˆ°ç«¯çš„å¯è®­ç»ƒæ¨¡å‹ï¼Œä¹Ÿæ˜¯ä¸–ç•Œä¸Šç¬¬ä¸€ä¸ªã€‚&lt;/p&gt;
&lt;h2 id=&#34;é¢†åŸŸé€‚åº”ç»„ä»¶--domain-adaptation-components&#34;&gt;é¢†åŸŸé€‚åº”ç»„ä»¶  Domain Adaptation Components&lt;/h2&gt;
&lt;h3 id=&#34;æ˜ åƒçº§åˆ«é€‚åº”--image-level-adaptation&#34;&gt;æ˜ åƒçº§åˆ«é€‚åº”  Image-Level Adaptation&lt;/h3&gt;
&lt;p&gt;åœ¨Faster R-CNNæ¨¡å‹ä¸­ï¼ŒæŒ‡çš„åŠŸèƒ½æ˜ å°„è¾“å‡ºæ˜ åƒçº§åˆ«è¡¨ç¤ºåŸºæœ¬å·ç§¯çš„å±‚ã€‚æ¶ˆé™¤åŸŸåˆ†å¸ƒä¸åŒ¹é…åœ¨å›¾åƒå±‚æ¬¡,é‡‡ç”¨patch-basedåŸŸåˆ†ç±»å™¨ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ç§é€‰æ‹©çš„å¥½å¤„:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å¯¹é½å›¾åƒçº§è¡¨ç¤ºé€šå¸¸æœ‰åŠ©äºå‡å°‘ç”±å…¨å±€å›¾åƒå·®å¼‚å¼•èµ·çš„ä½ç§»ï¼Œå¦‚å›¾åƒé£æ ¼ã€å›¾åƒå°ºåº¦ã€å…‰ç…§ç­‰ã€‚ç±»ä¼¼çš„åŸºäºå—çš„æŸå¤±åœ¨æœ€è¿‘çš„å…³äºstyle  transferçš„å·¥ä½œä¸­ä¹Ÿè¢«è¯æ˜æ˜¯æœ‰æ•ˆçš„ï¼Œå®ƒä¹Ÿå¤„ç†å…¨å±€å˜æ¢&lt;/li&gt;
&lt;li&gt;ç”±äºä½¿ç”¨äº†é«˜åˆ†è¾¨ç‡çš„è¾“å…¥ï¼Œå¯¹äºè®­ç»ƒä¸€ä¸ªç›®æ ‡æ£€æµ‹ç½‘ç»œæ¥è¯´ï¼Œæ‰¹å¤„ç†çš„å¤§å°é€šå¸¸éå¸¸å°ã€‚è¿™ç§åŸºäºå—çš„è®¾è®¡æœ‰åŠ©äºå¢åŠ è®­ç»ƒé¢†åŸŸåˆ†ç±»å™¨çš„è®­ç»ƒæ ·æœ¬çš„æ•°é‡ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ç”¨Diè¡¨ç¤ºç¬¬iä¸ªè®­ç»ƒå›¾åƒçš„å®šä¹‰åŸŸæ ‡ç­¾ï¼ŒæºåŸŸçš„Di= 0ï¼Œç›®æ ‡åŸŸçš„Di= 1ã€‚å°†ç»è¿‡åŸºå·ç§¯å±‚åçš„ç¬¬iå¹…å›¾åƒçš„feature mapä½äº(u,  v)å¤„çš„æ¿€æ´»è¡¨ç¤ºä¸ºÏ†u,v(Ii)ã€‚å°†åŸŸåˆ†ç±»å™¨çš„è¾“å‡ºè¡¨ç¤ºä¸ºpi(u,v)ï¼Œåˆ©ç”¨äº¤å‰ç†µæŸå¤±ï¼Œå›¾åƒçº§è‡ªé€‚åº”æŸå¤±å¯è¡¨ç¤ºä¸º:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 714; 
			flex-basis: 1714px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/4.png&#34; data-size=&#34;543x76&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/4.png&#34;
			width=&#34;543&#34;
			height=&#34;76&#34;
			srcset=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/4_hu4613d02ef3c66758f779ea2f362b3860_6628_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/ml_domain_adaptation/4_hu4613d02ef3c66758f779ea2f362b3860_6628_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;å®ä¾‹çº§é€‚åº”--instance-level-adaptation&#34;&gt;å®ä¾‹çº§é€‚åº”  Instance-Level Adaptation&lt;/h3&gt;
&lt;p&gt;å®ä¾‹çº§è¡¨ç¤ºæ˜¯æŒ‡åœ¨è¾“å…¥åˆ°æœ€ç»ˆçš„ç±»åˆ«åˆ†ç±»å™¨ä¹‹å‰åŸºäºROIçš„ç‰¹å¾å‘é‡&lt;/p&gt;
&lt;p&gt;å¯¹é½å®ä¾‹çº§è¡¨ç¤ºæœ‰åŠ©äºå‡å°‘æœ¬åœ°å®ä¾‹å·®å¼‚ï¼Œå¦‚å¯¹è±¡å¤–è§‚ã€å¤§å°ã€è§†ç‚¹ç­‰ã€‚ä¸å›¾åƒçº§è‡ªé€‚åº”ç›¸ä¼¼ï¼Œç ”ç©¶è€…è®­ç»ƒäº†ä¸€ä¸ªé’ˆå¯¹ç‰¹å¾å‘é‡çš„é¢†åŸŸåˆ†ç±»å™¨æ¥å¯¹é½å®ä¾‹çº§åˆ†å¸ƒã€‚&lt;/p&gt;
&lt;p&gt;å°†ç¬¬iå¹…å›¾åƒä¸­ç¬¬jä¸ªåŒºåŸŸå»ºè®®çš„å®ä¾‹çº§åŸŸåˆ†ç±»å™¨çš„è¾“å‡ºè¡¨ç¤ºä¸ºpi,jã€‚å®ä¾‹çº§é€‚åº”æŸå¤±ç°åœ¨å¯ä»¥å†™æˆ:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 649; 
			flex-basis: 1558px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/5.png&#34; data-size=&#34;500x77&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/5.png&#34;
			width=&#34;500&#34;
			height=&#34;77&#34;
			srcset=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/5_hud7a7df2f1f78306e9a2374a6a4afcd3f_5841_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/ml_domain_adaptation/5_hud7a7df2f1f78306e9a2374a6a4afcd3f_5841_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä¸€è‡´æ€§æ­£è§„åŒ–--consistency-regularization&#34;&gt;ä¸€è‡´æ€§æ­£è§„åŒ–  Consistency Regularization&lt;/h3&gt;
&lt;p&gt;åŠ å¼ºä¸åŒå±‚æ¬¡çš„åŸŸåˆ†ç±»å™¨ä¹‹é—´çš„ä¸€è‡´æ€§æœ‰åŠ©äºå­¦ä¹ è¾¹ç•Œç›’é¢„æµ‹å™¨(å³Faster R-CNNæ¨¡å‹ä¸­çš„RPN)çš„è·¨åŸŸé²æ£’æ€§ã€‚å› æ­¤ï¼Œç ”ç©¶è€…è¿›ä¸€æ­¥è®¾ç½®äº†ä¸€ä¸ªä¸€è‡´æ€§è§„åˆ™ã€‚ç”±äºå›¾åƒçº§åŸŸåˆ†ç±»å™¨ä¼šä¸ºå›¾åƒçº§è¡¨ç¤ºçš„æ¯æ¬¡æ¿€æ´»ç”Ÿæˆä¸€ä¸ªè¾“å‡ºï¼Œå› æ­¤å–å›¾åƒä¸­æ‰€æœ‰æ¿€æ´»çš„å¹³å‡å€¼ä½œä¸ºå…¶å›¾åƒçº§æ¦‚ç‡ã€‚ä¸€è‡´æ€§è°ƒèŠ‚å™¨å¯ä»¥å†™æˆ:&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 436; 
			flex-basis: 1047px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/7.png&#34; data-size=&#34;349x80&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/7.png&#34;
			width=&#34;349&#34;
			height=&#34;80&#34;
			srcset=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/7_hu1b1d63d3bd8eaa863a9f8f314ffb8b72_4910_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/ml_domain_adaptation/7_hu1b1d63d3bd8eaa863a9f8f314ffb8b72_4910_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;ç½‘ç»œæ¦‚è¿°&#34;&gt;ç½‘ç»œæ¦‚è¿°&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Faster R-CNNä¸2ä¸ªç»„ä»¶ä¹‹é—´çš„æ•´åˆå…³ç³»å¦‚ä¸‹å›¾ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 314; 
			flex-basis: 754px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/6.png&#34; data-size=&#34;1091x347&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/6.png&#34;
			width=&#34;1091&#34;
			height=&#34;347&#34;
			srcset=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/6_hubebef51bf1a27fa9831be48f477f416e_89742_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/ml_domain_adaptation/6_hubebef51bf1a27fa9831be48f477f416e_89742_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;åœ¨æ¯ä¸€å±‚ä¸Šæ„å»ºä¸€ä¸ªé¢†åŸŸåˆ†ç±»å™¨ï¼Œä»¥ä¸€ç§å¯¹æŠ—æ€§çš„è®­ç»ƒæ–¹å¼è¿›è¡Œè®­ç»ƒã€‚åœ¨è¿™ä¸¤ä¸ªåˆ†ç±»å™¨ä¸­åŠ å…¥äº†ä¸€è‡´æ€§è§„åˆ™å™¨ï¼Œä»¥å­¦ä¹ ç”¨äºFaster R-CNNæ¨¡å‹çš„é¢†åŸŸä¸å˜RPNã€‚&lt;/p&gt;
&lt;p&gt;å·¦è¾¹éƒ¨åˆ†æ˜¯åŸå§‹çš„Faster R-CNNæ¨¡å‹ã€‚åº•å±‚çš„å·ç§¯å±‚åœ¨æ‰€æœ‰ç»„ä»¶ä¹‹é—´å…±äº«ã€‚ç„¶ååœ¨å…¶ä¸Šæ„å»ºRPNå’ŒROIæ± åŒ–å±‚ï¼Œç„¶åæ„å»ºä¸¤ä¸ªå®Œå…¨è¿æ¥çš„å±‚æ¥æå–å®ä¾‹çº§ç‰¹å¾ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ä»åˆæˆæ•°æ®ä¸­å­¦ä¹ &#34;&gt;ä»åˆæˆæ•°æ®ä¸­å­¦ä¹ &lt;/h2&gt;
&lt;p&gt;éšç€è®¡ç®—æœºå›¾å½¢æŠ€æœ¯çš„å‘å±•ï¼Œåˆ©ç”¨åˆæˆæ•°æ®è®­ç»ƒCNNå˜å¾—è¶Šæ¥è¶Šæµè¡Œã€‚å°½ç®¡å¦‚æ­¤ï¼Œåˆæˆçš„æ•°æ®ä¸çœŸå®ä¸–ç•Œçš„å›¾åƒä»ç„¶æœ‰æ˜æ˜¾çš„è§†è§‰å·®å¼‚ï¼Œå¹¶ä¸”é€šå¸¸ä¸åœ¨çœŸå®æ•°æ®ä¸Šè®­ç»ƒçš„æ¨¡å‹å­˜åœ¨æ€§èƒ½å·®è·ã€‚ç ”ç©¶è€…ç”¨ä¸åŒäºçœŸå®ä¸–ç•Œçš„åˆæˆæ•°æ®è¿›è¡Œè¯•éªŒã€‚&lt;/p&gt;
&lt;p&gt;æ•°æ®é›†:æ˜¯SIM 10kç”±10000å¼ ç”±ä¾ ç›—çŒè½¦æ‰‹(GTA5)æ¸²æŸ“çš„å›¾åƒç»„æˆï¼Œåœ¨SIM 10kä¸­ï¼Œ10000å¼ è®­ç»ƒå›¾åƒä¸­æä¾›äº†58,701è¾†è½¦çš„åŒ…å›´æ¡†ã€‚æ‰€æœ‰çš„å›¾åƒéƒ½åœ¨è®­ç»ƒä¸­ä½¿ç”¨ã€‚Cityscapesæ•°æ®é›†æ˜¯ä¸€ä¸ªåŸå¸‚åœºæ™¯æ•°æ®é›†ä¸ºé©¾é©¶åœºæ™¯ã€‚è¿™äº›å›¾åƒæ˜¯ç”±è½¦è½½æ‘„åƒæœºæ‹æ‘„çš„ã€‚2975å›¾åƒè®­ç»ƒé›†,500å›¾åƒéªŒè¯é›†ã€‚ä½¿ç”¨çš„æ ‡è®°å›¾åƒè®­ç»ƒé›†ä½œä¸ºç›®æ ‡åŸŸé€‚åº”æˆ‘ä»¬çš„æ£€æµ‹å™¨, å¹¶æŠ¥å‘Šç»“æœéªŒè¯é›†ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ç»“æœ&lt;/strong&gt;ï¼šä¸åŒæ–¹æ³•çš„ç»“æœå¦‚ä¸‹è¡¨æ‰€ç¤ºã€‚å…·ä½“æ¥è¯´ï¼Œä¸Faster R-CNNç›¸æ¯”ï¼Œä»…ä½¿ç”¨å›¾åƒçº§è‡ªé€‚åº”ç»„ä»¶è·å¾—+2.9%çš„æ€§èƒ½æå‡ï¼Œè€Œä»…ä½¿ç”¨å®ä¾‹çº§å¯¹é½ç»„ä»¶è·å¾—+5.6%çš„æ€§èƒ½æå‡ã€‚è¿™è¡¨æ˜ï¼Œå›¾åƒçº§é€‚åº”å’Œå®ä¾‹çº§é€‚åº”ç»„ä»¶å¯ä»¥æœ‰æ•ˆåœ°å‡å°‘å„å±‚æ¬¡ä¸Šçš„åŸŸæ¼‚ç§»ã€‚å°†è¿™ä¸¤ä¸ªéƒ¨åˆ†ç»“åˆåœ¨ä¸€èµ·å¯ä»¥å¾—åˆ°7.7%çš„æ”¹è¿›ï¼Œè¿™éªŒè¯äº†å…³äºå‡å°‘ä¸¤å±‚åŸŸç§»ä½çš„å¿…è¦æ€§çš„çŒœæƒ³ã€‚é€šè¿‡è¿›ä¸€æ­¥åº”ç”¨ä¸€è‡´æ€§æ­£åˆ™åŒ–ï¼ŒåŸŸè‡ªé€‚åº”Faster R-CNNæ¨¡å‹å°†æ›´å¿«çš„R-CNNæ¨¡å‹æé«˜äº†+8.8%ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 231; 
			flex-basis: 556px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/8.png&#34; data-size=&#34;450x194&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/8.png&#34;
			width=&#34;450&#34;
			height=&#34;194&#34;
			srcset=&#34;https://ccqstark.github.io/p/ml_domain_adaptation/8_hufda95fe315aa74ef2284fe5c58365f7e_14131_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/ml_domain_adaptation/8_hufda95fe315aa74ef2284fe5c58365f7e_14131_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h2 id=&#34;å…¶å®ƒ&#34;&gt;å…¶å®ƒ&lt;/h2&gt;
&lt;p&gt;ä¸ºäº†éªŒè¯æ¨¡å‹çš„æ•ˆæœï¼Œç ”ç©¶è€…è¿˜é€šè¿‡æ¶åŠ£å¤©æ°”ä¸­æ”¶é›†çš„å›¾åƒæ•°æ®ã€ä¸åŒæ‘„åƒæœºæ‹æ‘„å‡ºæ¥çš„å›¾åƒæ•°æ®å¯¹ç®—æ³•è¿›è¡Œæµ‹è¯•ï¼Œç»“æœéƒ½æ˜¾ç¤ºå‡ºä¸é”™çš„ç»“æœ&lt;/p&gt;
&lt;p&gt;è¿˜è¿›ä¸€æ­¥åˆ†æäº†å›¾åƒçº§å’Œå®ä¾‹çº§é€‚åº”çš„å½±å“ï¼Œåšäº†æœ‰å…³äºå›¾åƒçº§å’Œå®ä¾‹çº§å¯¹é½çš„å®éªŒï¼ŒéªŒè¯äº†æ¨¡å‹å¯ä»¥ä»æ›´é«˜åˆ†è¾¨ç‡çš„å›¾åƒè¾“å…¥ä¸­è·å¾—æ›´å¥½çš„æ€§èƒ½ç»“æœã€‚å®éªŒç»“è®ºæ˜¯ä»200åƒç´ å¢åŠ åˆ°1000åƒç´ ã€‚&lt;/p&gt;
&lt;p&gt;è¿˜åšäº†å®éªŒç ”ç©¶äº†ä½¿ç”¨ä¸€è‡´æ€§æ­£åˆ™åŒ–å‰åRPNçš„æ€§èƒ½ï¼Œå‘ç°RPNçš„æ€§èƒ½å¯ä»¥è¿›ä¸€æ­¥æé«˜åˆ°30.3%ï¼Œè¯´æ˜ä¸€è‡´æ€§è°ƒèŠ‚å™¨æé«˜äº†RPNçš„é²æ£’æ€§ã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>DPåŠ¨æ€è§„åˆ’â€”â€”ç¼–è¾‘è·ç¦»é—®é¢˜</title>
        <link>https://ccqstark.github.io/p/dp_edit_distance/</link>
        <pubDate>Sat, 31 Oct 2020 17:03:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/dp_edit_distance/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/dp_edit_distance/cover.png" alt="Featured image of post DPåŠ¨æ€è§„åˆ’â€”â€”ç¼–è¾‘è·ç¦»é—®é¢˜" /&gt;&lt;h3 id=&#34;é—®é¢˜&#34;&gt;é—®é¢˜&lt;/h3&gt;
&lt;p&gt;è®¾Aå’ŒBæ˜¯2ä¸ªå­—ç¬¦ä¸²ã€‚è¦ç”¨æœ€å°‘çš„å­—ç¬¦æ“ä½œå°†å­—ç¬¦ä¸²Aè½¬æ¢ä¸ºå­—ç¬¦ä¸²Bã€‚è¿™é‡Œæ‰€è¯´çš„å­—ç¬¦æ“ä½œåŒ…æ‹¬ (1)åˆ é™¤ä¸€ä¸ªå­—ç¬¦ï¼› (2)æ’å…¥ä¸€ä¸ªå­—ç¬¦ï¼› (3)å°†ä¸€ä¸ªå­—ç¬¦æ”¹ä¸ºå¦ä¸€ä¸ªå­—ç¬¦ã€‚ å°†å­—ç¬¦ä¸²Aå˜æ¢ä¸ºå­—ç¬¦ä¸²Bæ‰€ç”¨çš„æœ€å°‘å­—ç¬¦æ“ä½œæ•°ç§°ä¸ºå­—ç¬¦ä¸²Aåˆ° Bçš„ç¼–è¾‘è·ç¦»ï¼Œè®°ä¸ºd(A,B)ã€‚ å¯¹äºç»™å®šçš„å­—ç¬¦ä¸²Aå’Œå­—ç¬¦ä¸²Bï¼Œè®¡ç®—å…¶ç¼–è¾‘è·ç¦» d(A,B)ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è¾“å…¥æ ¼å¼&#34;&gt;è¾“å…¥æ ¼å¼:&lt;/h3&gt;
&lt;p&gt;ç¬¬ä¸€è¡Œæ˜¯å­—ç¬¦ä¸²Aï¼Œæ–‡ä»¶çš„ç¬¬äºŒè¡Œæ˜¯å­—ç¬¦ä¸²Bã€‚&lt;/p&gt;
&lt;p&gt;æç¤ºï¼šå­—ç¬¦ä¸²é•¿åº¦ä¸è¶…è¿‡2000ä¸ªå­—ç¬¦ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è¾“å‡ºæ ¼å¼&#34;&gt;è¾“å‡ºæ ¼å¼:&lt;/h3&gt;
&lt;p&gt;è¾“å‡ºç¼–è¾‘è·ç¦»d(A,B)&lt;/p&gt;
&lt;h3 id=&#34;è¾“å…¥æ ·ä¾‹&#34;&gt;è¾“å…¥æ ·ä¾‹:&lt;/h3&gt;
&lt;p&gt;åœ¨è¿™é‡Œç»™å‡ºä¸€ç»„è¾“å…¥ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-in&#34; data-lang=&#34;in&#34;&gt;fxpimu
xwrs 
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;è¾“å‡ºæ ·ä¾‹&#34;&gt;è¾“å‡ºæ ·ä¾‹:&lt;/h3&gt;
&lt;p&gt;åœ¨è¿™é‡Œç»™å‡ºç›¸åº”çš„è¾“å‡ºã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-out&#34; data-lang=&#34;out&#34;&gt;5
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;æ€è·¯&#34;&gt;æ€è·¯&lt;/h3&gt;
&lt;p&gt;ç”¨åŠ¨æ€è§„åˆ’ç®—æ³•å¯ä»¥å°†é—®é¢˜åˆ†è§£å‡ºæœ€ä¼˜å­ç»“æ„ã€‚&lt;/p&gt;
&lt;p&gt;è®¾&lt;code&gt;dp[i][j]&lt;/code&gt;è¡¨ç¤ºæŠŠAå­—ç¬¦ä¸²å‰iä¸ªå­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²è½¬å˜ä¸ºBå­—ç¬¦ä¸²å‰jä¸ªå­—ç¬¦ç»„æˆçš„å­—ç¬¦ä¸²æ‰€éœ€çš„æœ€å°‘çš„å­—ç¬¦æ“ä½œæ•°&lt;/p&gt;
&lt;p&gt;å¦‚æœAå­—ç¬¦ä¸²çš„ç¬¬iä¸ªå­—ç¬¦ä¸Bå­—ç¬¦ä¸²çš„ç¬¬jä¸ªå­—ç¬¦ä¸²ç›¸åŒï¼Œåˆ™è¿™ä¸ªä½ç½®ä¸éœ€è¦æ“ä½œï¼Œæ‰€éœ€çš„æ“ä½œç­‰äº&lt;code&gt;dp[i-1][j-1]&lt;/code&gt;ï¼Œå¦åˆ™éœ€è¦è¿›è¡Œä¿®æ”¹ï¼Œæ“ä½œæ•°å°±è¦+1&lt;/p&gt;
&lt;p&gt;ç”±äºæ¯ä¸ªä½ç½®éƒ½å¯ä»¥è¿›è¡Œä¿®æ”¹ã€åˆ é™¤ã€æ’å…¥ä¸‰ç§æ“ä½œï¼Œå› æ­¤éœ€è¦æŠŠè¿™ä¸‰ç§æ“ä½œä¸­ç¼–è¾‘è·ç¦»æœ€å°çš„ä½œä¸º&lt;code&gt;dp[i][j]&lt;/code&gt;çš„å€¼&lt;/p&gt;
&lt;p&gt;é€’æ¨å…¬å¼(ä»£ç è¡¨ç¤º)ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// dpçŸ©é˜µä»¥1å¼€å§‹ï¼Œå­—ç¬¦æ•°ç»„æ˜¯0å¼€å§‹ï¼Œå› æ­¤å¯¹åº”çš„è¯è¦-1
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;	&lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// å¦‚æœå¯¹åº”çš„ä½ç½®ç›¸åŒå°±ä¸ç”¨æ“ä½œï¼Œå¦åˆ™è¦ä¿®æ”¹æ‰€ä»¥è¦+1
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
	&lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;//              ä¿®æ”¹              åˆ é™¤              æ’å…¥
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;min&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;min&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¡¨çš„ç»´åº¦ï¼šäºŒç»´&lt;/p&gt;
&lt;p&gt;å¡«è¡¨çš„èŒƒå›´ï¼šï¼ˆlen_Aå’Œlen_Båˆ†åˆ«ä¸ºå­—ç¬¦ä¸²Aã€Bçš„é•¿åº¦ï¼‰&lt;/p&gt;
&lt;p&gt;iï¼š1 ~ len_A&lt;/p&gt;
&lt;p&gt;jï¼š1 ~ len_B&lt;/p&gt;
&lt;p&gt;å¡«è¡¨é¡ºåºï¼šä»å·¦è‡³å³ï¼Œè‡ªé¡¶å‘ä¸‹ï¼ˆiä¸jçš„é€’å¢æ–¹å‘ï¼‰&lt;/p&gt;
&lt;p&gt;æ—¶é—´å¤æ‚åº¦ï¼šç”±äºå¡«å†™çš„æ˜¯äºŒç»´è¡¨ï¼Œéœ€è¦äºŒé‡å¾ªç¯ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦æ˜¯O(n^2)&lt;/p&gt;
&lt;p&gt;ç©ºé—´å¤æ‚åº¦ï¼šéœ€è¦ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œå› è€Œæ˜¯O(n^2)&lt;/p&gt;
&lt;h3 id=&#34;ä»£ç &#34;&gt;ä»£ç &lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// ç¼–è¾‘è·ç¦»é—®é¢˜
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;cstring&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;algorithm&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;using&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;namespace&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;std&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;cp&#34;&gt;#define MAX 2002
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MAX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;span class=&#34;kt&#34;&gt;char&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MAX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MAX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MAX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;

&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;calculate_distance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// aã€bå­—ç¬¦ä¸²çš„é•¿åº¦
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;len_a&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;strlen&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;len_b&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;strlen&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// è¾¹ç•Œåˆå§‹åŒ–
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;len_a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;len_b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;len_a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;len_b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;// dpçŸ©é˜µä»¥1å¼€å§‹ï¼Œå­—ç¬¦æ•°ç»„æ˜¯0å¼€å§‹ï¼Œå› æ­¤å¯¹åº”çš„è¯è¦-1
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;// å¦‚æœå¯¹åº”çš„ä½ç½®ç›¸åŒå°±ä¸ç”¨æ“ä½œï¼Œå¦åˆ™è¦ä¿®æ”¹æ‰€ä»¥è¦+1
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

            &lt;span class=&#34;c1&#34;&gt;//              ä¿®æ”¹              åˆ é™¤              æ’å…¥
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;min&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;min&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;len_a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;len_b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;cin&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;A&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;cout&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;calculate_distance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>è´ªå¿ƒç®—æ³•â€”â€”ä¼šåœºå®‰æ’é—®é¢˜</title>
        <link>https://ccqstark.github.io/p/greedy_activity/</link>
        <pubDate>Sat, 31 Oct 2020 09:45:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/greedy_activity/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/greedy_activity/cover.png" alt="Featured image of post è´ªå¿ƒç®—æ³•â€”â€”ä¼šåœºå®‰æ’é—®é¢˜" /&gt;&lt;h3 id=&#34;é¢˜ç›®&#34;&gt;é¢˜ç›®&lt;/h3&gt;
&lt;p&gt;å‡è®¾è¦åœ¨è¶³å¤Ÿå¤šçš„ä¼šåœºé‡Œå®‰æ’ä¸€æ‰¹æ´»åŠ¨ï¼Œå¹¶å¸Œæœ›ä½¿ç”¨å°½å¯èƒ½å°‘çš„ä¼šåœºã€‚è®¾è®¡ä¸€ä¸ªæœ‰æ•ˆçš„ è´ªå¿ƒç®—æ³•è¿›è¡Œå®‰æ’ã€‚ï¼ˆè¿™ä¸ªé—®é¢˜å®é™…ä¸Šæ˜¯è‘—åçš„å›¾ç€è‰²é—®é¢˜ã€‚è‹¥å°†æ¯ä¸€ä¸ªæ´»åŠ¨ä½œä¸ºå›¾çš„ä¸€ä¸ª é¡¶ç‚¹ï¼Œä¸ç›¸å®¹æ´»åŠ¨é—´ç”¨è¾¹ç›¸è¿ã€‚ä½¿ç›¸é‚»é¡¶ç‚¹ç€æœ‰ä¸åŒé¢œè‰²çš„æœ€å°ç€è‰²æ•°ï¼Œç›¸åº”äºè¦æ‰¾çš„æœ€å° ä¼šåœºæ•°ã€‚ï¼‰&lt;/p&gt;
&lt;h3 id=&#34;è¾“å…¥æ ¼å¼&#34;&gt;è¾“å…¥æ ¼å¼:&lt;/h3&gt;
&lt;p&gt;ç¬¬ä¸€è¡Œæœ‰ 1 ä¸ªæ­£æ•´æ•°kï¼Œè¡¨ç¤ºæœ‰ kä¸ªå¾…å®‰æ’çš„æ´»åŠ¨ã€‚ æ¥ä¸‹æ¥çš„ kè¡Œä¸­ï¼Œæ¯è¡Œæœ‰ 2ä¸ªæ­£æ•´æ•°ï¼Œåˆ†åˆ«è¡¨ç¤º kä¸ªå¾…å®‰æ’çš„æ´»åŠ¨å¼€å§‹æ—¶é—´å’Œç»“æŸæ—¶é—´ã€‚æ—¶é—´ ä»¥ 0 ç‚¹å¼€å§‹çš„åˆ†é’Ÿè®¡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è¾“å‡ºæ ¼å¼&#34;&gt;è¾“å‡ºæ ¼å¼:&lt;/h3&gt;
&lt;p&gt;è¾“å‡ºæœ€å°‘ä¼šåœºæ•°ã€‚&lt;/p&gt;
&lt;h3 id=&#34;è¾“å…¥æ ·ä¾‹&#34;&gt;è¾“å…¥æ ·ä¾‹:&lt;/h3&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-in&#34; data-lang=&#34;in&#34;&gt;5
1 23
12 28
25 35
27 80
36 50 
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;è¾“å‡ºæ ·ä¾‹&#34;&gt;è¾“å‡ºæ ·ä¾‹:&lt;/h3&gt;
&lt;p&gt;åœ¨è¿™é‡Œç»™å‡ºç›¸åº”çš„è¾“å‡ºã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-out&#34; data-lang=&#34;out&#34;&gt;3
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;æ€è·¯&#34;&gt;æ€è·¯&lt;/h3&gt;
&lt;p&gt;é¦–å…ˆè¿™é“é¢˜å°±å¾ˆåƒä¹¦ä¸­é‚£é“åœ¨ä¸€ä¸ªä¼šåœºä¸­å®‰æ’å°½å¯èƒ½å¤šçš„æ´»åŠ¨ï¼Œä½†æ˜¯ï¼Œä¸èƒ½å®Œå…¨æŒ‰ä¹‹å‰é‚£ä¸ªæ€è·¯æ¥åšï¼&lt;/p&gt;
&lt;p&gt;è¿™é‡Œæ˜¯è¦ç”¨å°½å¯èƒ½å°‘çš„ä¼šåœºï¼Œè€Œä¸”ä»é¢˜ä¸­å¯ä»¥çœ‹å‡ºä¼šåœºçš„ç»“æŸæ—¶é—´æ²¡æœ‰é™åˆ¶ï¼Œåªè¦æ´»åŠ¨çš„å¼€å§‹æ—¶é—´æ¯”ä¸Šä¸€åœºè¦æ™šå°±è¡Œã€‚å¦‚æœæˆ‘ä»¬æŒ‰ä¹¦ä¸­çš„åŠæ³•æŠŠæ´»åŠ¨å…ˆæŒ‰ç»“æŸæ—¶é—´ä»å°åˆ°å¤§æ’åºï¼Œç„¶åå¯¹å½“å‰æœªå®‰æ’çš„æ´»åŠ¨ç”¨ä¸€ä¸ªä¼šåœºè¿›è¡Œå°½å¯èƒ½å¤šçš„å®‰æ’ï¼Œä¹‹åè‹¥è¿˜æ¯å®‰æ’å®Œåœ¨å¼€è¾Ÿä¸€ä¸ªæ–°çš„ä¼šåœºç»§ç»­ä¹‹å‰çš„æ“ä½œã€‚è¿™æ ·çš„ç®—æ³•æ˜¯æœ‰é—®é¢˜çš„ï¼Œå› ä¸ºè¿™æ ·çš„åœ¨ä¸€ä¸ªä¼šåœºä¸­å°½å¯èƒ½å¤šçš„å®‰æ’æ´»åŠ¨ï¼Œè€Œä»å…¨å±€æ¥çœ‹ï¼ˆè¿˜æœ‰è¿™é“é¢˜çš„ç‰¹ç‚¹ï¼šä¼šåœºç»“æŸæ—¶é—´æ— é™åˆ¶ï¼‰ï¼Œè¿™ç§ç­–ç•¥å¹¶ä¸èƒ½ä¿è¯æŠŠæ‰€æœ‰æ´»åŠ¨å®‰æ’åœ¨æœ€å°‘çš„ä¼šåœºï¼Œæ‰€ä»¥ä¸¤ä¸ªé—®é¢˜å¹¶ä¸èƒ½å®Œå…¨ç­‰åŒï¼Œè¿™å°±æ˜¯æˆ‘ä¸€å¼€å§‹çŠ¯çš„é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;å…¶å®åŸå› å°±åœ¨äºï¼šä¼šåœºç»“æŸæ—¶é—´æ— é™åˆ¶ï¼Œè¦ç”¨æœ€å°‘çš„ä¼šåœºã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ­£ç¡®è§£æ³•&lt;/strong&gt;æœ‰2ç§ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æŠŠæ´»åŠ¨&lt;strong&gt;æŒ‰å¼€å§‹æ—¶é—´&lt;/strong&gt;ä»å°åˆ°å¤§æ’ï¼Œ&lt;strong&gt;å½“å¼€å§‹æ—¶é—´ç›¸åŒåˆ™ç»“æŸæ—¶é—´æ—©çš„ä¼˜å…ˆ&lt;/strong&gt;ã€‚éå†æ´»åŠ¨å†ç”¨ä¹‹å‰çš„é‚£ç§åœ¨ä¸€ä¸ªä¼šåœºå®‰æ’å°½å¯èƒ½å¤šçš„æ´»åŠ¨ï¼Œå®Œäº†ä¹‹åå¼€è¾Ÿä¸€ä¸ªæ–°çš„ä¼šåœºç»§ç»­å®‰æ’ï¼Œç›´åˆ°å…¨éƒ¨æ´»åŠ¨å®‰æ’å®Œæ¯•ã€‚&lt;/li&gt;
&lt;li&gt;æŠŠæ´»åŠ¨&lt;strong&gt;æŒ‰ç»“æŸæ—¶é—´&lt;/strong&gt;ä»å°åˆ°å¤§æ’ï¼Œ&lt;strong&gt;å½“ç»“æŸæ—¶é—´ç›¸åŒåˆ™å¼€å§‹æ—¶é—´æ—©çš„ä¼˜å…ˆ&lt;/strong&gt;ã€‚éå†æ´»åŠ¨ï¼Œæ¯æ¬¡å†éå†ä¸€æ¬¡æ‰€æœ‰ä¼šåœºçœ‹ç»“æŸæ—¶é—´æ˜¯å¦æ»¡è¶³å¯ä»¥å®‰æ’ä¸‹ï¼Œéƒ½ä¸èƒ½å®‰æ’ä¸‹å°±æ–°å¼€ä¸€ä¸ªä¼šåœºï¼Œ&lt;strong&gt;ç„¶åæ¯æ¬¡è¿˜è¦å¯¹æ‰€æœ‰å·²ç»å¼€è¾Ÿçš„ä¼šåœºæŒ‰ç»“æŸæ—¶é—´è¿›è¡Œä»å¤§åˆ°å°å†æ¬¡æ’åº&lt;/strong&gt;ï¼Œè¿™æ ·ç›´åˆ°æ‰€æœ‰æ´»åŠ¨éå†å®‰æ’å®Œæ¯•ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;æ‰€ä»¥è¿™é“é¢˜æ˜¯è¦æŠŠæœ‰é™çš„æ´»åŠ¨å°½é‡å¡åœ¨æœ€å°‘çš„ä¼šåœºä¸­ï¼Œè¦ä»æ‰€æœ‰ä¼šåœºå…¨å±€å»è€ƒè™‘ï¼Œè€Œä¸”è¿™é“é¢˜çš„ç‰¹ç‚¹æ˜¯å•ä¸ªä¼šåœºçš„ç»“æŸæ—¶é—´æ²¡æœ‰é™åˆ¶ï¼Œæ‰€ä»¥ç¬¬ä¸€ç§è§£æ³•æ˜¯æŒ‰å¼€å§‹æ—¶é—´æ’çš„è€Œä¸ç”¨æŒ‰ç»“æŸæ—¶é—´ã€‚ç¬¬äºŒç§æŒ‰ç»“æŸæ—¶é—´çš„è¯å°±éœ€è¦æ¯æ¬¡é‡æ–°éå†æ‰€æœ‰ä¼šåœºï¼Œæ¯æ¬¡è¿˜é‡æ’ï¼Œä¿è¯ä»å…¨å±€å»è€ƒè™‘ã€‚&lt;/p&gt;
&lt;h3 id=&#34;ä»£ç &#34;&gt;ä»£ç &lt;/h3&gt;
&lt;h4 id=&#34;è§£æ³•1&#34;&gt;è§£æ³•1ï¼š&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// æŒ‰å¼€å§‹æ—¶é—´æ’åº
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;algorithm&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;using&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;namespace&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;std&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;cp&#34;&gt;#define MAX 666
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;activity&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;arrage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;activities&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MAX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kt&#34;&gt;bool&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;struct_compare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;activity&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;activity&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//ä¼˜å…ˆè¿›è¡Œæœ€å…ˆå¼€å§‹çš„æ´»åŠ¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//å½“å¼€å§‹æ—¶é—´ç›¸åŒæ—¶,ä¼˜å…ˆè¿›è¡Œæœ€æ—©ç»“æŸçš„æ´»åŠ¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;cin&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;cin&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;activities&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;cin&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;activities&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;activities&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;arrage&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// åˆå§‹åŒ–ä¼šåœºæ•°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;room&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// å¯¹æ´»åŠ¨&amp;#39;å¼€å§‹æ—¶é—´&amp;#39;è¿›è¡Œä»å°åˆ°å¤§æ’åº
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;sort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;activities&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;activities&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;struct_compare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// è®°å½•å½“å‰å®‰æ’ä¼šåœºçš„ç»“æŸæ—¶é—´ï¼Œè¢«å®‰æ’çš„ä¼šåœºæ•°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;lastest&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;arrage_num&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// å¦‚æœä¼šåœºè¿˜æ²¡æœ‰è¢«å…¨éƒ¨å®‰æ’å®Œ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;arrage_num&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// æ–°å¢ä¸€ä¸ªä¼šåœº
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;room&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;// åœ¨ä¸€ä¸ªä¼šåœºä¸­å®‰æ’å°½å¯èƒ½å¤šçš„æ´»åŠ¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;activities&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;arrage&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;activities&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;lastest&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;activities&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;arrage&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// æ ‡è®°æ´»åŠ¨ä¸ºå·²è¢«å®‰æ’
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;n&#34;&gt;arrage_num&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;lastest&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;activities&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// æ›´æ–°å½“å‰ä¼šåœºçš„ç»“æŸæ—¶é—´
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;lastest&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;//å¦å¤–ä¸€ç§å†™æ³•ï¼Œæ•ˆæœä¸€æ ·
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;    for (int i = 0; i &amp;lt; n; i++)
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;    {
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;        if (activities[i].arrage == 0)
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;        {
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;            room++;
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;            activities[i].arrage = 1;
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;            lastest = activities[i].end;
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;            for (int j = i + 1; j &amp;lt; n; j++)
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;            {
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;                if (activities[j].arrage == 0 &amp;amp;&amp;amp; activities[j].start &amp;gt;= lastest)
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;                {
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;                    activities[j].arrage = 1;
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;                    lastest = activities[j].end;
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;                }
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;            }
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;        }
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;    }
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;    */&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;cout&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;room&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;è§£æ³•2&#34;&gt;è§£æ³•2ï¼š&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span class=&#34;c1&#34;&gt;//æŒ‰ç»“æŸæ—¶é—´æ’åº
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;algorithm&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;using&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;namespace&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;std&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;cp&#34;&gt;#define MAX 666
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;k&#34;&gt;struct&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;activity&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;activities&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MAX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;end_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MAX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;};&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// è®°å½•æ¯ä¸ªä¼šåœºçš„ç»“æŸæ—¶é—´
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;room&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;            &lt;span class=&#34;c1&#34;&gt;// ä¼šåœºæ•°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;kt&#34;&gt;bool&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;struct_compare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;activity&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;activity&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//ä¼˜å…ˆè¿›è¡Œæœ€æ—©ç»“æŸçš„æ´»åŠ¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//å½“ç»“æŸæ—¶é—´ç›¸åŒæ—¶,ä¼˜å…ˆè¿›è¡Œæœ€æ—©å¼€å§‹çš„æ´»åŠ¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kt&#34;&gt;bool&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;dcmp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// ä»å¤§åˆ°å°æ’åº
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;cin&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;cin&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;activities&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;cin&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;activities&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// å¯¹æ´»åŠ¨æŒ‰&amp;#39;ç»“æŸæ—¶é—´&amp;#39;è¿›è¡Œæ’åº
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;sort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;activities&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;activities&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;struct_compare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// éå†æ´»åŠ¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;flag&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;                   &lt;span class=&#34;c1&#34;&gt;// æ ‡è®°æ˜¯å¦åœ¨å·²å¼€è¾Ÿçš„ä¼šåœºä¸­è¢«å®‰æ’
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;room&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// éå†å·²æœ‰ä¼šåœºå¯»æ‰¾åˆé€‚çš„
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;activities&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;end_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;end_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;activities&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;flag&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;break&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

        &lt;span class=&#34;c1&#34;&gt;// å·²æœ‰ä¼šåœºæ‰¾ä¸åˆ°åˆé€‚çš„å°±å¼€è¾Ÿä¸€ä¸ªæ–°çš„
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;flag&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;room&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;end_time&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;room&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;activities&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;].&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

        &lt;span class=&#34;c1&#34;&gt;// æ¯æ¬¡å®‰æ’å®Œä¸€ä¸ªæ´»åŠ¨éƒ½è¦å¯¹ä¼šåœºä»¬æŒ‰ç»“æŸæ—¶é—´ä»å¤§åˆ°å°é‡æ’
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;sort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end_time&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;end_time&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;room&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dcmp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;cout&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;room&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.nowcoder.net/n/513cf3005bcf4093a738e722f6c463e3&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å‚è€ƒåšæ–‡&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>DPåŠ¨æ€è§„åˆ’â€”â€”æŒ–åœ°é›·</title>
        <link>https://ccqstark.github.io/p/dp_digmines/</link>
        <pubDate>Thu, 22 Oct 2020 01:05:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/dp_digmines/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/dp_digmines/cover.png" alt="Featured image of post DPåŠ¨æ€è§„åˆ’â€”â€”æŒ–åœ°é›·" /&gt;&lt;h3 id=&#34;é¢˜ç›®&#34;&gt;é¢˜ç›®&lt;/h3&gt;
&lt;p&gt;åœ¨ä¸€ä¸ªåœ°å›¾ä¸Šæœ‰nä¸ªåœ°çª–ï¼ˆnâ‰¤200ï¼‰,æ¯ä¸ªåœ°çª–ä¸­åŸ‹æœ‰ä¸€å®šæ•°é‡çš„åœ°é›·ã€‚åŒæ—¶ï¼Œç»™å‡ºåœ°çª–ä¹‹é—´çš„è¿æ¥è·¯å¾„ï¼Œå¹¶è§„å®šè·¯å¾„éƒ½æ˜¯å•å‘çš„,ä¸”ä¿è¯éƒ½æ˜¯å°åºå·åœ°çª–æŒ‡å‘å¤§åºå·åœ°çª–ï¼Œä¹Ÿä¸å­˜åœ¨å¯ä»¥ä»ä¸€ä¸ªåœ°çª–å‡ºå‘ç»è¿‡è‹¥å¹²åœ°çª–ååˆå›åˆ°åŸæ¥åœ°çª–çš„è·¯å¾„ã€‚æŸäººå¯ä»¥ä»ä»»æ„ä¸€å¤„å¼€å§‹æŒ–åœ°é›·ï¼Œç„¶åæ²¿ç€æŒ‡å‡ºçš„è¿æ¥å¾€ä¸‹æŒ–ï¼ˆä»…èƒ½é€‰æ‹©ä¸€æ¡è·¯å¾„ï¼‰ï¼Œå½“æ— è¿æ¥æ—¶æŒ–åœ°é›·å·¥ä½œç»“æŸã€‚è®¾è®¡ä¸€ä¸ªæŒ–åœ°é›·çš„æ–¹æ¡ˆï¼Œä½¿ä»–èƒ½æŒ–åˆ°æœ€å¤šçš„åœ°é›·ã€‚&lt;/p&gt;
&lt;h4 id=&#34;è¾“å…¥æ ¼å¼&#34;&gt;è¾“å…¥æ ¼å¼:&lt;/h4&gt;
&lt;p&gt;ç¬¬ä¸€è¡Œï¼šåœ°çª–çš„ä¸ªæ•°ï¼›&lt;/p&gt;
&lt;p&gt;ç¬¬äºŒè¡Œï¼šä¸ºä¾æ¬¡æ¯ä¸ªåœ°çª–åœ°é›·çš„ä¸ªæ•°ï¼›&lt;/p&gt;
&lt;p&gt;ä¸‹é¢è‹¥å¹²è¡Œï¼š&lt;/p&gt;
&lt;p&gt;xi yi //è¡¨ç¤ºä»xiå¯åˆ°yiï¼Œxi&amp;lt;yiã€‚&lt;/p&gt;
&lt;p&gt;æœ€åä¸€è¡Œä¸º&amp;quot;0 0&amp;quot;è¡¨ç¤ºç»“æŸã€‚&lt;/p&gt;
&lt;h4 id=&#34;è¾“å‡ºæ ¼å¼&#34;&gt;è¾“å‡ºæ ¼å¼:&lt;/h4&gt;
&lt;p&gt;k1-k2âˆ’â€¦âˆ’kv //æŒ–åœ°é›·çš„é¡ºåº æŒ–åˆ°æœ€å¤šçš„é›·ã€‚&lt;/p&gt;
&lt;h4 id=&#34;è¾“å…¥æ ·ä¾‹&#34;&gt;è¾“å…¥æ ·ä¾‹:&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-in&#34; data-lang=&#34;in&#34;&gt;6
5 10 20 5 4 5
1 2
1 4
2 4
3 4
4 5
4 6
5 6
0 0
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;è¾“å‡ºæ ·ä¾‹&#34;&gt;è¾“å‡ºæ ·ä¾‹:&lt;/h4&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-out&#34; data-lang=&#34;out&#34;&gt;3-4-5-6
34
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;ä»£ç &#34;&gt;ä»£ç &lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;using&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;namespace&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;std&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;cp&#34;&gt;#define MAX 203
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;matrix&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MAX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MAX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// å­˜æ”¾é€šè·¯æƒ…å†µ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mines&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MAX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;        &lt;span class=&#34;c1&#34;&gt;// å­˜æ”¾å„å‘åœ°é›·æ•°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dp_mat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MAX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MAX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// å­˜æ”¾å­é—®é¢˜æœ€ä¼˜è§£
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MAX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;         &lt;span class=&#34;c1&#34;&gt;// å­˜æ”¾è·¯å¾„
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ans&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;last_update&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;// last_updateæ˜¯æœ€åä¸€ä¸ªæ›´æ–°æœ€å¤§å€¼çš„ç‚¹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;dig&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// ä¸€è¡Œè¡Œæ‰«
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// max_lastæ˜¯æ­¤ç‚¹ä¹‹å‰æ‰€æœ‰ç‚¹å¯ä»¥æŒ–åˆ°çš„æœ€å¤§åœ°é›·æ•°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;max_last&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;k&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;k&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;// åˆ¤æ–­ä¹‹å‰æ‰€æœ‰å¯ä»¥é€šå‘ç°åœ¨çš„ç‚¹ä¸­ï¼Œå¯ä»¥æŒ–åˆ°æœ€å¤§çš„åœ°é›·æ•°çš„è·¯å¾„çš„æœ€åä¸€ç‚¹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;matrix&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;// æŒ‰åˆ—æ–¹å‘æ‰«ï¼Œå¯ä»¥é€šå‘æœ¬ç‚¹çš„ç‚¹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dp_mat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;max_last&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;max_last&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dp_mat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// è·¯å¾„æ˜¯æ‰€è¿æ¥çš„ä¸Šä¸€ç‚¹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;// max_last + æœ¬ç‚¹åœ°é›·æ•° = ä»¥æœ¬ç‚¹ä½œä¸ºè·¯å¾„æœ«ç‚¹å¯ä»¥æŒ–åˆ°çš„æœ€å¤§åœ°é›·æ•°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;dp_mat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;max_last&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mines&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;

            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dp_mat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ans&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;// æ›´æ–°æœ€ç»ˆç­”æ¡ˆçš„æœ€å¤§åœ°é›·æ•°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;n&#34;&gt;ans&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dp_mat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;// è®°å½•æœ€åæ›´æ–°æœ€ç»ˆç­”æ¡ˆçš„é‚£ä¸ªç‚¹ï¼Œä½œä¸ºç­”æ¡ˆè·¯å¾„çš„æœ«å°¾ç‚¹ï¼Œç”¨æ•°ç»„å›æº¯å¯ä»¥æ‰“å°å‡ºå®Œæ•´è·¯å¾„
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;n&#34;&gt;last_update&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// é€’å½’å›æº¯æ‰“å°å®Œæ•´è·¯å¾„
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;print_path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;point&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;point&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;print_path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;point&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;point&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;last_update&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;cout&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;point&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;endl&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;else&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;cout&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;point&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;cin&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;cin&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mines&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cin&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;break&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;matrix&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;dig&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;print_path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;last_update&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;cout&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ans&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>DPåŠ¨æ€è§„åˆ’â€”â€”å•è°ƒé€’å¢æœ€é•¿å­åºåˆ—</title>
        <link>https://ccqstark.github.io/p/dp_increasing/</link>
        <pubDate>Wed, 21 Oct 2020 21:07:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/dp_increasing/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/dp_increasing/cover.png" alt="Featured image of post DPåŠ¨æ€è§„åˆ’â€”â€”å•è°ƒé€’å¢æœ€é•¿å­åºåˆ—" /&gt;&lt;h3 id=&#34;é¢˜ç›®&#34;&gt;é¢˜ç›®&lt;/h3&gt;
&lt;p&gt;è®¾è®¡ä¸€ä¸ªO(n2)æ—¶é—´çš„ç®—æ³•ï¼Œæ‰¾å‡ºç”±nä¸ªæ•°ç»„æˆçš„åºåˆ—çš„æœ€é•¿å•è°ƒé€’å¢å­åºåˆ—ã€‚&lt;/p&gt;
&lt;h4 id=&#34;è¾“å…¥æ ¼å¼&#34;&gt;è¾“å…¥æ ¼å¼:&lt;/h4&gt;
&lt;p&gt;è¾“å…¥æœ‰ä¸¤è¡Œï¼š ç¬¬ä¸€è¡Œï¼šnï¼Œä»£è¡¨è¦è¾“å…¥çš„æ•°åˆ—çš„ä¸ªæ•° ç¬¬äºŒè¡Œï¼šnä¸ªæ•°ï¼Œæ•°å­—ä¹‹é—´ç”¨ç©ºæ ¼æ ¼å¼€&lt;/p&gt;
&lt;h4 id=&#34;è¾“å‡ºæ ¼å¼&#34;&gt;è¾“å‡ºæ ¼å¼:&lt;/h4&gt;
&lt;p&gt;æœ€é•¿å•è°ƒé€’å¢å­åºåˆ—çš„é•¿åº¦&lt;/p&gt;
&lt;h4 id=&#34;è¾“å…¥æ ·ä¾‹&#34;&gt;è¾“å…¥æ ·ä¾‹:&lt;/h4&gt;
&lt;p&gt;åœ¨è¿™é‡Œç»™å‡ºä¸€ç»„è¾“å…¥ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-in&#34; data-lang=&#34;in&#34;&gt;5
1 3 5 2 9
&lt;/code&gt;&lt;/pre&gt;&lt;h4 id=&#34;è¾“å‡ºæ ·ä¾‹&#34;&gt;è¾“å‡ºæ ·ä¾‹:&lt;/h4&gt;
&lt;p&gt;åœ¨è¿™é‡Œç»™å‡ºç›¸åº”çš„è¾“å‡ºã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-out&#34; data-lang=&#34;out&#34;&gt;4
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;æ€è·¯&#34;&gt;æ€è·¯&lt;/h3&gt;
&lt;p&gt;ç”¨åŠ¨æ€è§„åˆ’çš„æ€æƒ³ï¼Œåˆ©ç”¨å­é—®é¢˜çš„æœ€ä¼˜è§£æ±‚æ›´å¤§ä¸€ç‚¹çš„å­é—®é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;è®¾ä¸€ä¸ªæ•°ç»„&lt;code&gt;dp[i]&lt;/code&gt;ç”¨äºå­˜æ”¾æ•°ç»„ä¸­ä»0åˆ°iä¸‹æ ‡çš„åºåˆ—ä¸­ï¼Œæœ€é•¿çš„é€’å¢å­åºåˆ—çš„é•¿åº¦&lt;/p&gt;
&lt;p&gt;åŒé‡éå†ï¼Œå¦‚æœarr[j]å°äºarr[i]ï¼Œåˆ™&lt;code&gt;dp[i]&lt;/code&gt;ä¸º&lt;code&gt;dp[j]+1&lt;/code&gt;å’Œ&lt;code&gt;dp[i]&lt;/code&gt;ä¸­è¾ƒå¤§çš„é‚£ä¸ªã€‚å³&lt;/p&gt;
&lt;p&gt;&lt;code&gt;dp[i] = max{ dp[j]+1, dp[i] }&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç”±äºæ¯æ¬¡é‡å¤´åˆéå†äº†ä¸€æ¬¡ï¼Œå¹¶æ¯æ¬¡éƒ½åˆ†ææœ€ä¼˜è§£ï¼Œé¿å…äº†&lt;code&gt;1 2 3 9 6 7 &lt;/code&gt;è¿™æ ·åœ¨æœ€å¤§æ•°åé¢è¿˜æœ‰2ä¸ªè¾ƒå°çš„æ•°å¯ä»¥äº§ç”Ÿæ›´é•¿é€’å¢å­åºåˆ—çš„æƒ…å†µå¯èƒ½çŠ¯çš„é”™è¯¯ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¹Ÿè¯´æ˜è¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦åªèƒ½æ˜¯O(n2)&lt;/p&gt;
&lt;h3 id=&#34;ä»£ç &#34;&gt;ä»£ç &lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// å•è°ƒé€’å¢æœ€é•¿å­åºåˆ—
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;using&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;namespace&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;std&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;cp&#34;&gt;#define MAX 666
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;arr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MAX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MAX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;longest_increasing&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(){&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// åˆå§‹åŒ–ç¬¬ä¸€ä¸ª
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// åŒé‡éå†
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;// åˆ©ç”¨å­é—®é¢˜æœ€ä¼˜è§£
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;arr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;arr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]){&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// æ‰¾å‡ºdp[]ä¸­æœ€å¤§çš„é‚£ä¸ªä½œä¸ºç­”æ¡ˆ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;max_len&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;max_len&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;max_len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;cin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;){&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;cin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;arr&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;cout&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;longest_increasing&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>[SpringBoot]æ•´åˆshiro&#43;JWTåšé‰´æƒ</title>
        <link>https://ccqstark.github.io/p/springboot_shiro_jwt/</link>
        <pubDate>Sat, 17 Oct 2020 16:52:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/springboot_shiro_jwt/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/springboot_shiro_jwt/cover.png" alt="Featured image of post [SpringBoot]æ•´åˆshiro&#43;JWTåšé‰´æƒ" /&gt;&lt;h3 id=&#34;æ·»åŠ ä¾èµ–&#34;&gt;æ·»åŠ ä¾èµ–&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- shiro --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.shiro&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;shiro-spring&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.4.0&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;

&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- JWT --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;com.auth0&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;java-jwt&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;3.11.0&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;io.jsonwebtoken&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;jjwt&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;0.9.1&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;jwtåŠ å¯†è§£å¯†éªŒè¯å·¥å…·ç±»&#34;&gt;JWTåŠ å¯†è§£å¯†éªŒè¯å·¥å…·ç±»&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.util&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.auth0.jwt.JWT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.auth0.jwt.JWTVerifier&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.auth0.jwt.algorithms.Algorithm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;io.jsonwebtoken.Claims&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;io.jsonwebtoken.JwtBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;io.jsonwebtoken.Jwts&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;io.jsonwebtoken.SignatureAlgorithm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.apache.commons.codec.binary.Base64&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.util.Date&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.util.HashMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.util.Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.util.UUID&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * æ€»çš„æ¥è¯´ï¼Œå·¥å…·ç±»ä¸­æœ‰ä¸‰ä¸ªæ–¹æ³•
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * è·å–JwtTokenï¼Œè·å–JwtTokenä¸­å°è£…çš„ä¿¡æ¯ï¼Œåˆ¤æ–­JwtTokenæ˜¯å¦å­˜åœ¨
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * 1. encode()ï¼Œå‚æ•°æ˜¯=ç­¾å‘äººï¼Œå­˜åœ¨æ—¶é—´ï¼Œä¸€äº›å…¶ä»–çš„ä¿¡æ¯=ã€‚è¿”å›å€¼æ˜¯JwtTokenå¯¹åº”çš„å­—ç¬¦ä¸²
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * 2. decode()ï¼Œå‚æ•°æ˜¯=JwtToken=ã€‚è¿”å›å€¼æ˜¯è·è½½éƒ¨åˆ†çš„é”®å€¼å¯¹
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * 3. isVerify()ï¼Œå‚æ•°æ˜¯=JwtToken=ã€‚è¿”å›å€¼æ˜¯è¿™ä¸ªJwtTokenæ˜¯å¦å­˜åœ¨
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * */&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;JwtUtil&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// åˆ›å»ºé»˜è®¤çš„ç§˜é’¥å’Œç®—æ³•ï¼Œä¾›æ— å‚çš„æ„é€ æ–¹æ³•ä½¿ç”¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;defaultbase64EncodedSecretKey&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;wdnmd&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SignatureAlgorithm&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;defaultsignatureAlgorithm&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SignatureAlgorithm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;HS256&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// æ— å‚æ„é€ ï¼Œä½¿ç”¨é»˜è®¤
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;JwtUtil&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;defaultbase64EncodedSecretKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;defaultsignatureAlgorithm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;base64EncodedSecretKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;final&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SignatureAlgorithm&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;signatureAlgorithm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// æœ‰å‚æ„é€ 
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;JwtUtil&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;secretKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SignatureAlgorithm&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;signatureAlgorithm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;base64EncodedSecretKey&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Base64&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;encodeBase64String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;secretKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getBytes&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;signatureAlgorithm&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;signatureAlgorithm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *è¿™é‡Œå°±æ˜¯äº§ç”Ÿjwtå­—ç¬¦ä¸²çš„åœ°æ–¹
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * jwtå­—ç¬¦ä¸²åŒ…æ‹¬ä¸‰ä¸ªéƒ¨åˆ†
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *  1. header
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *      -å½“å‰å­—ç¬¦ä¸²çš„ç±»å‹ï¼Œä¸€èˆ¬éƒ½æ˜¯â€œJWTâ€
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *      -å“ªç§ç®—æ³•åŠ å¯†ï¼Œâ€œHS256â€æˆ–è€…å…¶ä»–çš„åŠ å¯†ç®—æ³•
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *      æ‰€ä»¥ä¸€èˆ¬éƒ½æ˜¯å›ºå®šçš„ï¼Œæ²¡æœ‰ä»€ä¹ˆå˜åŒ–
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *  2. payload
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *      ä¸€èˆ¬æœ‰å››ä¸ªæœ€å¸¸è§çš„æ ‡å‡†å­—æ®µï¼ˆä¸‹é¢æœ‰ï¼‰
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *      iatï¼šç­¾å‘æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªjwtä»€ä¹ˆæ—¶å€™ç”Ÿæˆçš„
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *      jtiï¼šJWTçš„å”¯ä¸€æ ‡è¯†
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *      issï¼šç­¾å‘äººï¼Œä¸€èˆ¬éƒ½æ˜¯usernameæˆ–è€…userId
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *      expï¼šè¿‡æœŸæ—¶é—´
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * */&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;encode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;iss&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ttlMillis&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;claims&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//issç­¾å‘äººï¼ŒttlMillisç”Ÿå­˜æ—¶é—´ï¼Œclaimsæ˜¯æŒ‡è¿˜æƒ³è¦åœ¨jwtä¸­å­˜å‚¨çš„ä¸€äº›ééšç§ä¿¡æ¯
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;claims&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;claims&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HashMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nowMillis&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;currentTimeMillis&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;

        &lt;span class=&#34;n&#34;&gt;JwtBuilder&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;builder&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Jwts&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;builder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setClaims&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;claims&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;UUID&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;randomUUID&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;toString&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;())&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// è¿™ä¸ªæ˜¯JWTçš„å”¯ä¸€æ ‡è¯†ï¼Œä¸€èˆ¬è®¾ç½®æˆå”¯ä¸€çš„ï¼Œè¿™ä¸ªæ–¹æ³•å¯ä»¥ç”Ÿæˆå”¯ä¸€æ ‡è¯†
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setIssuedAt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Date&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;nowMillis&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// è¿™ä¸ªåœ°æ–¹å°±æ˜¯ä»¥æ¯«ç§’ä¸ºå•ä½ï¼Œæ¢ç®—å½“å‰ç³»ç»Ÿæ—¶é—´ç”Ÿæˆçš„iat
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setIssuer&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;iss&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// ç­¾å‘äººï¼Œä¹Ÿå°±æ˜¯JWTæ˜¯ç»™è°çš„ï¼ˆé€»è¾‘ä¸Šä¸€èˆ¬éƒ½æ˜¯usernameæˆ–è€…userIdï¼‰
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;signWith&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;signatureAlgorithm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;base64EncodedSecretKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//è¿™ä¸ªåœ°æ–¹æ˜¯ç”Ÿæˆjwtä½¿ç”¨çš„ç®—æ³•å’Œç§˜é’¥
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ttlMillis&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;// è¿‡æœŸæ—¶é—´ = å½“å‰æ—¶é—´ + ç”Ÿå­˜æ—¶é—´
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;kt&#34;&gt;long&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;expMillis&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;nowMillis&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ttlMillis&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;Date&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;exp&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Date&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;expMillis&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;// è¿‡æœŸæ—¶é—´ï¼Œè¿™ä¸ªä¹Ÿæ˜¯ä½¿ç”¨æ¯«ç§’ç”Ÿæˆçš„
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;builder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setExpiration&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;exp&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;builder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;compact&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;//ç›¸å½“äºencodeçš„é€†å‘ï¼Œä¼ å…¥jwtTokenç”Ÿæˆå¯¹åº”çš„usernameå’Œpasswordç­‰å­—æ®µã€‚Claimå°±æ˜¯ä¸€ä¸ªmap
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;//ä¹Ÿå°±æ˜¯æ‹¿åˆ°è·è½½éƒ¨åˆ†æ‰€æœ‰çš„é”®å€¼å¯¹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Claims&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;decode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;jwtToken&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

        &lt;span class=&#34;c1&#34;&gt;// å¾—åˆ° DefaultJwtParser
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Jwts&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;parser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;// è®¾ç½®ç­¾åçš„ç§˜é’¥
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setSigningKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;base64EncodedSecretKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;// è®¾ç½®éœ€è¦è§£æçš„ jwt
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;parseClaimsJws&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jwtToken&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getBody&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;//åˆ¤æ–­jwtTokenæ˜¯å¦åˆæ³•
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;isVerify&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;jwtToken&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//è¿™ä¸ªæ˜¯å®˜æ–¹çš„æ ¡éªŒè§„åˆ™ï¼Œè¿™é‡Œåªå†™äº†ä¸€ä¸ª&amp;#34;æ ¡éªŒç®—æ³•&amp;#34;ï¼Œå¯ä»¥è‡ªå·±åŠ 
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;Algorithm&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;algorithm&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;switch&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;signatureAlgorithm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HS256&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;algorithm&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Algorithm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;HMAC256&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Base64&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;decodeBase64&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;base64EncodedSecretKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;break&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;default&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;RuntimeException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;ä¸æ”¯æŒè¯¥ç®—æ³•&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;JWTVerifier&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;verifier&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;JWT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;require&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;algorithm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;build&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;verifier&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;verify&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jwtToken&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// æ ¡éªŒä¸é€šè¿‡ä¼šæŠ›å‡ºå¼‚å¸¸
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;c1&#34;&gt;//åˆ¤æ–­åˆæ³•çš„æ ‡å‡†ï¼š1. å¤´éƒ¨å’Œè·è½½éƒ¨åˆ†æ²¡æœ‰ç¯¡æ”¹è¿‡ã€‚2. æ²¡æœ‰è¿‡æœŸ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;JwtUtil&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;util&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;JwtUtil&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;wdnmd&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SignatureAlgorithm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;HS256&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//ä»¥tomä½œä¸ºç§˜é’¥ï¼Œä»¥HS256åŠ å¯†
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;map&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HashMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;username&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ccq&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;password&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;1428&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;age&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

        &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;jwtToken&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;util&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;encode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;ccqstark&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;30000&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

        &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jwtToken&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;util&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;decode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jwtToken&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;entrySet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;forEach&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;: &amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;entry&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getValue&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;});&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;å…³é—­shiroçš„session&#34;&gt;å…³é—­shiroçš„session&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.auth&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.apache.shiro.subject.Subject&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.apache.shiro.subject.SubjectContext&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.apache.shiro.web.mgt.DefaultWebSubjectFactory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// å…³é—­shiroçš„session
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;JwtDefaultSubjectFactory&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;extends&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DefaultWebSubjectFactory&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Subject&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;createSubject&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SubjectContext&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;context&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// ä¸åˆ›å»º session
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;context&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setSessionCreationEnabled&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;super&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;createSubject&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;context&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;ä½¿ç”¨usernamepasswordtoken&#34;&gt;ä½¿ç”¨UsernamePasswordToken&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.auth&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.apache.shiro.authc.AuthenticationToken&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;//è¿™ä¸ªå°±ç±»ä¼¼UsernamePasswordToken
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;JwtToken&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;implements&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;AuthenticationToken&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;jwt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;JwtToken&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;jwt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;jwt&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;jwt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//ç±»ä¼¼æ˜¯ç”¨æˆ·å
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getPrincipal&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;jwt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//ç±»ä¼¼å¯†ç 
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getCredentials&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;jwt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;//è¿”å›çš„éƒ½æ˜¯jwt
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;realméªŒè¯ç±»&#34;&gt;RealméªŒè¯ç±»&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.auth&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.util.JwtUtil&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;lombok.extern.slf4j.Slf4j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.apache.shiro.authc.*&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.apache.shiro.authz.AuthorizationInfo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.apache.shiro.realm.AuthorizingRealm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.apache.shiro.subject.PrincipalCollection&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@Slf4j&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;JwtRealm&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;extends&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;AuthorizingRealm&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * å¤šé‡å†™ä¸€ä¸ªsupport
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * æ ‡è¯†è¿™ä¸ªRealmæ˜¯ä¸“é—¨ç”¨æ¥éªŒè¯JwtToken
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * ä¸è´Ÿè´£éªŒè¯å…¶ä»–çš„tokenï¼ˆUsernamePasswordTokenï¼‰
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;supports&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;AuthenticationToken&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;token&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//è¿™ä¸ªtokenå°±æ˜¯ä»è¿‡æ»¤å™¨ä¸­ä¼ å…¥çš„jwtToken
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;token&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;instanceof&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;JwtToken&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;//æˆæƒ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;protected&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;AuthorizationInfo&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;doGetAuthorizationInfo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;PrincipalCollection&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;principals&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;//è®¤è¯
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;//è¿™ä¸ªtokenå°±æ˜¯ä»è¿‡æ»¤å™¨ä¸­ä¼ å…¥çš„jwtToken
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;protected&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;AuthenticationInfo&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;doGetAuthenticationInfo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;AuthenticationToken&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;token&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;AuthenticationException&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

        &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;jwt&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;token&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getPrincipal&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jwt&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;NullPointerException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;jwtToken ä¸å…è®¸ä¸ºç©º&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

        &lt;span class=&#34;c1&#34;&gt;//åˆ¤æ–­
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;JwtUtil&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;jwtUtil&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;JwtUtil&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jwtUtil&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;isVerify&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jwt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UnknownAccountException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

        &lt;span class=&#34;c1&#34;&gt;//ä¸‹é¢æ˜¯éªŒè¯è¿™ä¸ªuseræ˜¯å¦æ˜¯çœŸå®å­˜åœ¨çš„
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;username&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;jwtUtil&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;decode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jwt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;username&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//åˆ¤æ–­æ•°æ®åº“ä¸­usernameæ˜¯å¦å­˜åœ¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;åœ¨ä½¿ç”¨tokenç™»å½•&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SimpleAuthenticationInfo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jwt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jwt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;JwtRealm&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//è¿™é‡Œè¿”å›çš„æ˜¯ç±»ä¼¼è´¦å·å¯†ç çš„ä¸œè¥¿ï¼Œä½†æ˜¯jwtTokenéƒ½æ˜¯jwtå­—ç¬¦ä¸²ã€‚è¿˜éœ€è¦ä¸€ä¸ªè¯¥Realmçš„ç±»å
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;filterè¿‡æ»¤å™¨&#34;&gt;Filterè¿‡æ»¤å™¨&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.auth&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;lombok.extern.slf4j.Slf4j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.apache.shiro.web.filter.AccessControlFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;javax.servlet.ServletRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;javax.servlet.ServletResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;javax.servlet.http.HttpServletRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;javax.servlet.http.HttpServletResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.io.IOException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * è‡ªå®šä¹‰ä¸€ä¸ªFilterï¼Œç”¨æ¥æ‹¦æˆªæ‰€æœ‰çš„è¯·æ±‚åˆ¤æ–­æ˜¯å¦æºå¸¦Token
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * isAccessAllowed()åˆ¤æ–­æ˜¯å¦æºå¸¦äº†æœ‰æ•ˆçš„JwtToken
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * onAccessDenied()æ˜¯æ²¡æœ‰æºå¸¦JwtTokençš„æ—¶å€™è¿›è¡Œè´¦å·å¯†ç ç™»å½•ï¼Œç™»å½•æˆåŠŸå…è®¸è®¿é—®ï¼Œç™»å½•å¤±è´¥æ‹’ç»è®¿é—®
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * */&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@Slf4j&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;JwtFilter&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;extends&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;AccessControlFilter&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * 1. è¿”å›trueï¼Œshiroå°±ç›´æ¥å…è®¸è®¿é—®url
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * 2. è¿”å›falseï¼Œshiroæ‰ä¼šæ ¹æ®onAccessDeniedçš„æ–¹æ³•çš„è¿”å›å€¼å†³å®šæ˜¯å¦å…è®¸è®¿é—®url
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;protected&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;isAccessAllowed&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ServletRequest&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ServletResponse&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mappedValue&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Exception&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;warn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;isAccessAllowed æ–¹æ³•è¢«è°ƒç”¨&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//è¿™é‡Œå…ˆè®©å®ƒå§‹ç»ˆè¿”å›falseæ¥ä½¿ç”¨onAccessDenied()æ–¹æ³•
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * è¿”å›ç»“æœä¸ºtrueè¡¨æ˜ç™»å½•é€šè¿‡
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;protected&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;boolean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;onAccessDenied&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ServletRequest&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;servletRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ServletResponse&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;servletResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Exception&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;warn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;onAccessDenied æ–¹æ³•è¢«è°ƒç”¨&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//è¿™ä¸ªåœ°æ–¹å’Œå‰ç«¯çº¦å®šï¼Œè¦æ±‚å‰ç«¯å°†jwtTokenæ”¾åœ¨è¯·æ±‚çš„Headeréƒ¨åˆ†
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//æ‰€ä»¥ä»¥åå‘èµ·è¯·æ±‚çš„æ—¶å€™å°±éœ€è¦åœ¨Headerä¸­æ”¾ä¸€ä¸ªAuthorizationï¼Œå€¼å°±æ˜¯å¯¹åº”çš„Token
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;HttpServletRequest&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;HttpServletRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;servletRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;jwt&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;request&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getHeader&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Authorization&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;è¯·æ±‚çš„ Header ä¸­è—æœ‰ jwtToken {}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;jwt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;JwtToken&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;jwtToken&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;JwtToken&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jwt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;         * ä¸‹é¢å°±æ˜¯å›ºå®šå†™æ³•
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;         * */&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;// å§”æ‰˜ realm è¿›è¡Œç™»å½•è®¤è¯
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;c1&#34;&gt;//æ‰€ä»¥è¿™ä¸ªåœ°æ–¹æœ€ç»ˆè¿˜æ˜¯è°ƒç”¨JwtRealmè¿›è¡Œçš„è®¤è¯
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;getSubject&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;servletRequest&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;servletResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;).&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;login&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;jwtToken&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;//ä¹Ÿå°±æ˜¯subject.login(token)
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Exception&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;printStackTrace&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;onLoginFail&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;servletResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;//è°ƒç”¨ä¸‹é¢çš„æ–¹æ³•å‘å®¢æˆ·ç«¯è¿”å›é”™è¯¯ä¿¡æ¯
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//æ‰§è¡Œæ–¹æ³•ä¸­æ²¡æœ‰æŠ›å‡ºå¼‚å¸¸å°±è¡¨ç¤ºç™»å½•æˆåŠŸ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;//ç™»å½•å¤±è´¥æ—¶é»˜è®¤è¿”å› 401 çŠ¶æ€ç 
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;onLoginFail&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ServletResponse&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;IOException&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;HttpServletResponse&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;httpResponse&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;HttpServletResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;httpResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setStatus&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;HttpServletResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;SC_UNAUTHORIZED&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;httpResponse&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getWriter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;write&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;login error&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;shiroé…ç½®&#34;&gt;shiroé…ç½®&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.auth.*&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.apache.shiro.mgt.DefaultSessionStorageEvaluator&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.apache.shiro.mgt.DefaultSubjectDAO&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.apache.shiro.mgt.SubjectFactory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.apache.shiro.realm.Realm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.apache.shiro.spring.web.ShiroFilterFactoryBean&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.apache.shiro.web.filter.authc.AnonymousFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.apache.shiro.web.filter.authc.LogoutFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.apache.shiro.web.mgt.DefaultWebSecurityManager&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.context.annotation.Bean&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.context.annotation.Configuration&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;javax.servlet.Filter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.util.HashMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.util.LinkedHashMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.util.Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;//springBootæ•´åˆjwtå®ç°è®¤è¯æœ‰ä¸‰ä¸ªä¸ä¸€æ ·çš„åœ°æ–¹ï¼Œå¯¹åº”ä¸‹é¢abc
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;@Configuration&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;ShiroConfig&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * a. å‘Šè¯‰shiroä¸è¦ä½¿ç”¨é»˜è®¤çš„DefaultSubjectåˆ›å»ºå¯¹è±¡ï¼Œå› ä¸ºä¸èƒ½åˆ›å»ºSession
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Bean&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SubjectFactory&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;subjectFactory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;JwtDefaultSubjectFactory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@Bean&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Realm&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;realm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;JwtRealm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@Bean&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DefaultWebSecurityManager&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;securityManager&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;DefaultWebSecurityManager&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;securityManager&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DefaultWebSecurityManager&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;securityManager&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setRealm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;realm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
        &lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;         * b
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;         * */&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// å…³é—­ ShiroDAO åŠŸèƒ½
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;DefaultSubjectDAO&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;subjectDAO&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DefaultSubjectDAO&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;DefaultSessionStorageEvaluator&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;defaultSessionStorageEvaluator&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DefaultSessionStorageEvaluator&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// ä¸éœ€è¦å°† Shiro Session ä¸­çš„ä¸œè¥¿å­˜åˆ°ä»»ä½•åœ°æ–¹ï¼ˆåŒ…æ‹¬ Http Session ä¸­ï¼‰
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;defaultSessionStorageEvaluator&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setSessionStorageEnabled&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;subjectDAO&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setSessionStorageEvaluator&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;defaultSessionStorageEvaluator&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;securityManager&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setSubjectDAO&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;subjectDAO&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//ç¦æ­¢Subjectçš„getSessionæ–¹æ³•
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;securityManager&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setSubjectFactory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;subjectFactory&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;securityManager&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@Bean&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ShiroFilterFactoryBean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;shiroFilterFactoryBean&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;ShiroFilterFactoryBean&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;shiroFilter&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ShiroFilterFactoryBean&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;shiroFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setSecurityManager&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;securityManager&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;shiroFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setLoginUrl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/unauthenticated&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;shiroFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setUnauthorizedUrl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/unauthorized&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;cm&#34;&gt;/*
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;         * c. æ·»åŠ jwtè¿‡æ»¤å™¨ï¼Œå¹¶åœ¨ä¸‹é¢æ³¨å†Œ
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;         * ä¹Ÿå°±æ˜¯å°†jwtFilteræ³¨å†Œåˆ°shiroçš„Filterä¸­
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;         * æŒ‡å®šé™¤äº†loginå’Œlogoutä¹‹å¤–çš„è¯·æ±‚éƒ½å…ˆç»è¿‡jwtFilter
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;         * */&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Filter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;filterMap&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HashMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;//è¿™ä¸ªåœ°æ–¹å…¶å®å¦å¤–ä¸¤ä¸ªfilterå¯ä»¥ä¸è®¾ç½®ï¼Œé»˜è®¤å°±æ˜¯
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;filterMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;anon&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;AnonymousFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;filterMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;jwt&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;JwtFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;filterMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;logout&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;LogoutFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;shiroFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setFilters&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;filterMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

        &lt;span class=&#34;c1&#34;&gt;// æ‹¦æˆªå™¨
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;filterRuleMap&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;LinkedHashMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;filterRuleMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/login&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;anon&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;filterRuleMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/logout&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;logout&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;filterRuleMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/**&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;jwt&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;shiroFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setFilterChainDefinitionMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;filterRuleMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;shiroFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æµ‹è¯•controller&#34;&gt;æµ‹è¯•Controller&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.controller&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.util.JwtUtil&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;io.jsonwebtoken.SignatureAlgorithm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;lombok.extern.slf4j.Slf4j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.http.ResponseEntity&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.stereotype.Controller&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.web.bind.annotation.RequestMapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.util.HashMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.util.Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;nd&#34;&gt;@Slf4j&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@Controller&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;LoginController&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@RequestMapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/login&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;login&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;username:{},password:{}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

        &lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;map&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HashMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(!&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;tom&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;equals&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;||&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;123&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;equals&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;msg&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ç”¨æˆ·åå¯†ç é”™è¯¯&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;ok&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

        &lt;span class=&#34;n&#34;&gt;JwtUtil&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;jwtUtil&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;JwtUtil&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;wdnmd&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SignatureAlgorithm&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;HS256&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;chaim&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HashMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;chaim&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;username&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

        &lt;span class=&#34;c1&#34;&gt;// ç”Ÿå­˜æ—¶é—´åœ¨è¿™é‡Œè®¾ç½®
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;jwtToken&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;jwtUtil&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;encode&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;  &lt;span class=&#34;n&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1000&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;chaim&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

        &lt;span class=&#34;n&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;msg&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ç™»å½•æˆåŠŸ&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;token&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;jwtToken&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;ok&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@RequestMapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/testdemo&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;testdemo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;ok&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;æˆ‘çˆ±è›‹ç‚’é¥­&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯·æ±‚ç™»å½•æ¥å£ï¼Œå¯†ç æ­£ç¡®åè¿”å›ä¸€ä¸ª&lt;code&gt;token&lt;/code&gt;ï¼Œä»¥åæ¯æ¬¡è¯·æ±‚å¸¦ä¸Šè¿™ä¸ªtokenä»¥&lt;code&gt;header&lt;/code&gt;é‡Œçš„&lt;code&gt;Authorization&lt;/code&gt;å­—æ®µçš„å½¢å¼&lt;/p&gt;
&lt;p&gt;ä¹‹åçš„é¡µé¢éƒ½ä¼šç»è¿‡æ‹¦æˆªå™¨åˆ†é…åˆ°å¯¹åº”çš„è¿‡æ»¤å™¨è¿›è¡ŒéªŒè¯tokenæ˜¯å¦æœ‰æ•ˆï¼Œå®ç°äº†é‰´æƒã€‚&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[SpringBoot]ä½¿ç”¨é˜¿é‡Œäº‘OSSä¸Šä¼ æ–‡ä»¶</title>
        <link>https://ccqstark.github.io/p/springboot_oss/</link>
        <pubDate>Sat, 17 Oct 2020 10:54:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/springboot_oss/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/springboot_oss/cover.png" alt="Featured image of post [SpringBoot]ä½¿ç”¨é˜¿é‡Œäº‘OSSä¸Šä¼ æ–‡ä»¶" /&gt;&lt;h3 id=&#34;å¼€é€šæœåŠ¡&#34;&gt;å¼€é€šæœåŠ¡&lt;/h3&gt;
&lt;p&gt;ç™»å½•é˜¿é‡Œäº‘ï¼Œå¼€é€šOSSæœåŠ¡ï¼Œé»˜è®¤æŒ‰é‡è®¡è´¹ï¼Œä¸ºäº†ä¸šåŠ¡ç¨³å®šå¯ä»¥è´­ä¹°åŒ…æœˆåŒ…å¹´çš„èµ„æºåŒ…ã€‚&lt;/p&gt;
&lt;h3 id=&#34;å‡†å¤‡å·¥ä½œ&#34;&gt;å‡†å¤‡å·¥ä½œ&lt;/h3&gt;
&lt;p&gt;åˆ›å»ºBucketï¼Œå¦‚æœæ˜¯ä¸ºäº†ä½œä¸ºç½‘ç«™çš„é™æ€èµ„æºå­˜å‚¨ä¾›ç”¨æˆ·è®¿é—®çš„è¯æŠŠæƒé™è®¾ä¸º&lt;code&gt;å…¬å…±è¯»&lt;/code&gt;ï¼Œå¡«å†™ä¿¡æ¯ååˆ›å»ºæˆåŠŸï¼Œå¯ä»¥åœ¨Bucketä¸‹æ–°å»ºç›®å½•ä»€ä¹ˆçš„ã€‚&lt;/p&gt;
&lt;p&gt;å•ç‹¬åˆ›å»ºä¸€ä¸ªRAMå­ç”¨æˆ·ç”¨æ¥è°ƒç”¨APIï¼Œé€‰æ‹©ç¼–ç¨‹è®¿é—®ï¼Œåˆ›å»ºæˆåŠŸåä¸€å®šè¦æŠŠ&lt;code&gt;AccessKeyID&lt;/code&gt;å’Œ&lt;code&gt;AccessKeySecret&lt;/code&gt;ç­‰é‡è¦ä¿¡æ¯è®°ä¸‹æ¥ï¼Œåé¢é…ç½®æ–‡ä»¶è¦ç”¨åˆ°ã€‚&lt;/p&gt;
&lt;p&gt;ç„¶åè¦ç»™è¿™ä¸ªå­ç”¨æˆ·æ·»åŠ æƒé™&lt;code&gt;AliyunOSSFullAccess&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;mavenä¾èµ–&#34;&gt;Mavenä¾èµ–&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- OSS --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;com.aliyun.oss&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;aliyun-sdk-oss&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;3.4.2&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;exclusions&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;nt&#34;&gt;&amp;lt;exclusion&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.httpcomponents&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
            &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;httpclient&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
        &lt;span class=&#34;nt&#34;&gt;&amp;lt;/exclusion&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;/exclusions&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;

&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.httpcomponents&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;httpclient&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;4.4.1&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;é…ç½®æ–‡ä»¶&#34;&gt;é…ç½®æ–‡ä»¶&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;endpoint&lt;/code&gt;å°±æ˜¯åœ¨å­˜å‚¨æ¡¶çš„æ¦‚è§ˆé‡Œåœ°åŸŸèŠ‚ç‚¹ï¼Œå¡«å¤–ç½‘è®¿é—®é‚£ä¸ªå°±è¡Œ&lt;/p&gt;
&lt;p&gt;&lt;code&gt;url&lt;/code&gt;å¡«èµ„æºè®¿é—®çš„URLçš„å‰é¢éƒ¨åˆ†ï¼ˆå¡«åˆ°.com/ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;code&gt;accessKeyId&lt;/code&gt;å’Œ&lt;code&gt;accessKeySecret&lt;/code&gt;å°±æ˜¯åˆ›å»ºå­ç”¨æˆ·æ—¶é‚£ä¸ª&lt;/p&gt;
&lt;p&gt;&lt;code&gt;bucketName&lt;/code&gt;å°±æ˜¯å­˜å‚¨æ¡¶çš„åå­—&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;c&#34;&gt;# é˜¿é‡Œäº‘oss&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;oss&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;endpoint&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;*&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;*&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;accessKeyId&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;*&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;accessKeySecret&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;*&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;bucketName&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;*&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;é…ç½®ç±»&#34;&gt;é…ç½®ç±»&lt;/h3&gt;
&lt;p&gt;é¡¹ç›®çš„configç›®å½•ä¸‹æ–°å»ºOSSçš„é…ç½®ç±»&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.config&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;lombok.Data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.boot.context.properties.ConfigurationProperties&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.context.annotation.Configuration&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.stereotype.Component&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.io.Serializable&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @Description: é˜¿é‡Œäº‘ OSS é…ç½®ä¿¡æ¯
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @Author: ccq
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @Date: 2020/10/16
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@Component&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;//æ³¨å†Œbean
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;@Data&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@Configuration&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@ConfigurationProperties&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;prefix&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;oss&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;OSSConfig&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;implements&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Serializable&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;endpoint&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;accessKeyId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;accessKeySecret&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bucketName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;ä¸Šä¼ æ–‡ä»¶å·¥å…·ç±»&#34;&gt;ä¸Šä¼ æ–‡ä»¶å·¥å…·ç±»&lt;/h3&gt;
&lt;p&gt;é¡¹ç›®çš„utilç›®å½•ä¸‹æ–°å»ºè¿™ä¸Šä¼ å·¥å…·ç±»&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.util&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.aliyun.oss.ClientConfiguration&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.aliyun.oss.OSSClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.aliyun.oss.common.auth.DefaultCredentialProvider&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.config.OSSConfig&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.web.multipart.MultipartFile&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.io.IOException&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.util.UUID&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @Description: é˜¿é‡Œäº‘ oss ä¸Šä¼ å·¥å…·ç±»(é«˜ä¾èµ–ç‰ˆ)
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @Author: ccq
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @Date: 2020/10/17
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;OSSBootUtil&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;OSSBootUtil&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * oss å·¥å…·å®¢æˆ·ç«¯
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;volatile&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;OSSClient&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ossClient&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * ä¸Šä¼ æ–‡ä»¶è‡³é˜¿é‡Œäº‘ OSS
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * æ–‡ä»¶ä¸Šä¼ æˆåŠŸ,è¿”å›æ–‡ä»¶å®Œæ•´è®¿é—®è·¯å¾„
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * æ–‡ä»¶ä¸Šä¼ å¤±è´¥,è¿”å› null
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param ossConfig oss é…ç½®ä¿¡æ¯
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param file å¾…ä¸Šä¼ æ–‡ä»¶
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param fileDir æ–‡ä»¶ä¿å­˜ç›®å½•
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return oss ä¸­çš„ç›¸å¯¹æ–‡ä»¶è·¯å¾„
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;upload&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;OSSConfig&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ossConfig&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MultipartFile&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fileDir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;){&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// åˆå§‹åŒ–å®¢æˆ·ç«¯
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;initOSS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ossConfig&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// æ–‡ä»¶URL
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;StringBuilder&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fileUrl&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;StringBuilder&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;

        &lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;suffix&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getOriginalFilename&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;substring&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getOriginalFilename&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;lastIndexOf&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sc&#34;&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fileName&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;currentTimeMillis&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;-&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UUID&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;randomUUID&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;toString&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;().&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;substring&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;18&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;suffix&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fileDir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;endsWith&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;n&#34;&gt;fileDir&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fileDir&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;concat&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;fileUrl&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fileUrl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fileDir&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fileName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

            &lt;span class=&#34;c1&#34;&gt;// ä¸Šä¼ æ–‡ä»¶åˆ°æŒ‡å®šçš„å­˜å‚¨ç©ºé—´ï¼Œå¹¶å°†å…¶ä¿å­˜ä¸ºæŒ‡å®šçš„æ–‡ä»¶åç§°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;ossClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;putObject&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ossConfig&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getBucketName&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fileUrl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;toString&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getInputStream&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;

        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;IOException&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;n&#34;&gt;e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;printStackTrace&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
            &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;fileUrl&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fileUrl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;insert&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ossConfig&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getUrl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;fileUrl&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;toString&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * åˆå§‹åŒ– oss å®¢æˆ·ç«¯
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param ossConfig
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;OSSClient&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;initOSS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;OSSConfig&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ossConfig&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ossClient&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;kd&#34;&gt;synchronized&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;OSSBootUtil&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ossClient&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;ossClient&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;OSSClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ossConfig&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getEndpoint&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(),&lt;/span&gt;
                            &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DefaultCredentialProvider&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ossConfig&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getAccessKeyId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ossConfig&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getAccessKeySecret&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()),&lt;/span&gt;
                            &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ClientConfiguration&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
                &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ossClient&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æœåŠ¡å±‚&#34;&gt;æœåŠ¡å±‚&lt;/h3&gt;
&lt;p&gt;åœ¨é¡¹ç›®çš„serviceç›®å½•ä¸‹æ–°å»ºæœåŠ¡å±‚æ¥å£&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.service&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.model.ApiResult&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.web.multipart.MultipartFile&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @Description: å…¬å…±ä¸šåŠ¡
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @Author: ccq
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @Date: 2020/10/17
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;CommonService&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * ä¸Šä¼ æ–‡ä»¶è‡³é˜¿é‡Œäº‘ oss
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param file
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param uploadKey
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @throws Exception
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;ApiResult&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;uploadOSS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MultipartFile&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;uploadKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Exception&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ–°å»ºå®ç°ç±»&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.service&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.config.OSSConfig&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.model.ApiResult&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.util.OSSBootUtil&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.beans.factory.annotation.Autowired&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.stereotype.Service&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.web.multipart.MultipartFile&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.util.HashMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.util.Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @Description: å…¬å…±ä¸šåŠ¡å…·ä½“å®ç°ç±»
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @Author: ccq
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @Date: 2020/10/17
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@Service&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;commonService&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;CommonServiceImpl&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;implements&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CommonService&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;OSSConfig&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ossConfig&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * ä¸Šä¼ æ–‡ä»¶è‡³é˜¿é‡Œäº‘ oss
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param file
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param uploadKey
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @throws Exception
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Override&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ApiResult&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;uploadOSS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MultipartFile&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;uploadKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Exception&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

        &lt;span class=&#34;c1&#34;&gt;// é«˜ä¾èµ–ç‰ˆæœ¬ oss ä¸Šä¼ å·¥å…·
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ossFileUrlBoot&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;ossFileUrlBoot&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;OSSBootUtil&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;upload&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ossConfig&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;image/&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// æ³¨æ„è¿™é‡Œå¡«å†™çš„æ˜¯å­˜å‚¨æ¡¶ä¸­ä½ è¦å­˜æ”¾æ–‡ä»¶çš„ç›®å½•
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Object&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;resultMap&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HashMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;16&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;resultMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;ossFileUrlBoot&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ossFileUrlBoot&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ApiResult&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;resultMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;controllerä¸Šä¼ æµ‹è¯•&#34;&gt;Controllerä¸Šä¼ æµ‹è¯•&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.controller&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.model.ApiResult&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.service.CommonService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;lombok.extern.slf4j.Slf4j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.beans.factory.annotation.Autowired&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.http.HttpHeaders&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.http.HttpStatus&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.http.MediaType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.http.ResponseEntity&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.web.bind.annotation.RequestMapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.web.bind.annotation.RequestMethod&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.web.bind.annotation.RequestParam&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.web.bind.annotation.RestController&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.web.multipart.MultipartFile&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @Description: ä¸Šä¼ æ–‡ä»¶
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @Author: ccq
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; * @Date: 2020/10/17
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt; */&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@Slf4j&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@RestController&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@RequestMapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/upload&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;UploadController&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;CommonService&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;commonService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;


    &lt;span class=&#34;cm&#34;&gt;/**
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * ä¸Šä¼ æ–‡ä»¶è‡³é˜¿é‡Œäº‘ oss
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     *
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param file
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @param uploadKey
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @return
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     * @throws Exception
&lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;     */&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@RequestMapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;value&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;/oss&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;method&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;RequestMethod&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;POST&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;},&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;produces&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MediaType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;APPLICATION_JSON_VALUE&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;})&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;uploadOSS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;@RequestParam&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;value&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;file&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MultipartFile&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;uploadKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Exception&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;ApiResult&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;apiResult&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;commonService&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;uploadOSS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;file&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;uploadKey&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

        &lt;span class=&#34;n&#34;&gt;HttpHeaders&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;headers&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HttpHeaders&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;headers&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setContentType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MediaType&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;APPLICATION_JSON&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ResponseEntity&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;apiResult&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;headers&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HttpStatus&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;CREATED&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;


&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Postmanå·¥å…·ï¼Œç”¨POSTè¯·æ±‚ï¼Œåœ¨form-dataä¸­ç”¨fileå­—æ®µå¯¹åº”å›¾ç‰‡æˆ–å…¶ä»–ç±»å‹çš„æ–‡ä»¶ï¼Œç„¶åè¯·æ±‚æ¥å£&lt;/p&gt;
&lt;p&gt;è¿”å›çš„URLåœ¨æµè§ˆå™¨ä¸­å¯ä»¥ç”¨å…¬ç½‘è®¿é—®è¯´æ˜æˆåŠŸäº†ï¼&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[SpringBoot]æ•´åˆDruidæ•°æ®æº</title>
        <link>https://ccqstark.github.io/p/springboot_druid/</link>
        <pubDate>Sat, 17 Oct 2020 10:54:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/springboot_druid/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/springboot_druid/cover.png" alt="Featured image of post [SpringBoot]æ•´åˆDruidæ•°æ®æº" /&gt;&lt;h3 id=&#34;æ·»åŠ ä¾èµ–&#34;&gt;æ·»åŠ ä¾èµ–&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- druidæ•°æ®åº“è¿æ¥æ±  --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;com.alibaba&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;druid&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.1.21&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;

&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- MySqlæ•°æ®åº“é©±åŠ¨ --&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;mysql&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;mysql-connector-java&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;

 &lt;span class=&#34;c&#34;&gt;&amp;lt;!--åˆ†é¡µæ’ä»¶ --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;com.github.pagehelper&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;pagehelper-spring-boot-starter&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.0.0&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;

&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- log4jæ—¥å¿— --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;log4j&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;log4j&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.2.17&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æ·»åŠ é…ç½®&#34;&gt;æ·»åŠ é…ç½®&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;nt&#34;&gt;spring&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;datasource&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;username&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;password&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;root&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#serverTimezone=UTCè§£å†³æ—¶åŒºçš„æŠ¥é”™&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;url&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;jdbc:mysql://localhost:3306/mybatis?serverTimezone=UTC&amp;amp;useUnicode=true&amp;amp;characterEncoding=utf-8&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;driver-class-name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;com.mysql.cj.jdbc.Driver&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;com.alibaba.druid.pool.DruidDataSource&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#Spring Boot é»˜è®¤æ˜¯ä¸æ³¨å…¥è¿™äº›å±æ€§å€¼çš„ï¼Œéœ€è¦è‡ªå·±ç»‘å®š&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#druid æ•°æ®æºä¸“æœ‰é…ç½®&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;initialSize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;minIdle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;maxActive&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;maxWait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;60000&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;timeBetweenEvictionRunsMillis&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;60000&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;minEvictableIdleTimeMillis&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;300000&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;validationQuery&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;SELECT 1 FROM DUAL&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;testWhileIdle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;testOnBorrow&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;testOnReturn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;poolPreparedStatements&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#é…ç½®ç›‘æ§ç»Ÿè®¡æ‹¦æˆªçš„filtersï¼Œstat:ç›‘æ§ç»Ÿè®¡ã€log4jï¼šæ—¥å¿—è®°å½•ã€wallï¼šé˜²å¾¡sqlæ³¨å…¥&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#å¦‚æœå…è®¸æ—¶æŠ¥é”™  java.lang.ClassNotFoundException: org.apache.log4j.Priority&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;c&#34;&gt;#åˆ™å¯¼å…¥ log4j ä¾èµ–å³å¯ï¼ŒMaven åœ°å€ï¼šhttps://mvnrepository.com/artifact/log4j/log4j&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;filters&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;stat,wall,log4j&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;maxPoolPreparedStatementPerConnectionSize&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;20&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;useGlobalDataSourceStat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;connectionProperties&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;druid.stat.mergeSql=true;druid.stat.slowSqlMillis=500&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;æµ‹è¯•&#34;&gt;æµ‹è¯•&lt;/h3&gt;
&lt;p&gt;ç¼–å†™æµ‹è¯•ç±»&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@SpringBootTest&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;SpringbootQuickApplicationTests&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;DataSource&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dataSource&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@Test&lt;/span&gt;
    &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;contextLoads&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;throws&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SQLException&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

        &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dataSource&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getClass&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;

        &lt;span class=&#34;n&#34;&gt;Connection&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;connection&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;dataSource&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getConnection&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;println&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;connection&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

        &lt;span class=&#34;n&#34;&gt;connection&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;close&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿è¡Œåæ§åˆ¶å°å‡ºç°å¦‚ä¸‹druidè¿æ¥æ± ç›¸å…³å­—æ ·è¯´æ˜æˆåŠŸ&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;2020-10-15 10:40:34.179  INFO 11352 --- [           main] com.alibaba.druid.pool.DruidDataSource   : {dataSource-1} inited
DEBUG [main] - {conn-10005} pool-connect
com.alibaba.druid.proxy.jdbc.ConnectionProxyImpl@31db34da
DEBUG [main] - {conn-10005} pool-recycle
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;æ·»åŠ åå°ç›‘æ§&#34;&gt;æ·»åŠ åå°ç›‘æ§&lt;/h3&gt;
&lt;p&gt;é¡¹ç›®åº”ç”¨ç›®å½•ä¸‹çš„cofigç›®å½•æ·»åŠ &lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@Configuration&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;DruidConfig&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@ConfigurationProperties&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;prefix&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;spring.datasource&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Bean&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DataSource&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;druidDataSource&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;DruidDataSource&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@Bean&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// åå°ç›‘æ§
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ServletRegistrationBean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;statViewServlet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;

        &lt;span class=&#34;n&#34;&gt;ServletRegistrationBean&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;StatViewServlet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bean&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ServletRegistrationBean&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;StatViewServlet&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(),&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/druid/*&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

        &lt;span class=&#34;c1&#34;&gt;// å­˜å‚¨è´¦å·å¯†ç 
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;HashMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;initParameters&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HashMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;

        &lt;span class=&#34;c1&#34;&gt;// è®¾ç½®åå°ç™»å½•è´¦å·å¯†ç 
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;initParameters&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;loginUsername&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;admin&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;initParameters&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;loginPassword&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;123456&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

        &lt;span class=&#34;c1&#34;&gt;// è°éƒ½å¯ä»¥è®¿é—®
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;initParameters&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;allow&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

        &lt;span class=&#34;n&#34;&gt;bean&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setInitParameters&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;initParameters&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// è®¾ç½®åˆå§‹åŒ–å‚æ•°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bean&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// filter
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;FilterRegistrationBean&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;webStatFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;FilterRegistrationBean&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bean&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;FilterRegistrationBean&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;bean&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;WebStatFilter&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// è¢«è¿‡æ»¤çš„è¯·æ±‚
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;n&#34;&gt;Map&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;initParameters&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;HashMap&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;gt;();&lt;/span&gt;

        &lt;span class=&#34;n&#34;&gt;initParameters&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;put&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;exclusions&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;*.js,*.css,/druid/*&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;bean&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;setInitParameters&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;initParameters&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;bean&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿è¡Œé¡¹ç›®åæ‰“å¼€&lt;code&gt;localhost:8080/druid/&lt;/code&gt;å‡ºç°åå°ç›‘æ§ç™»å½•é¡µé¢è¯´æ˜æˆåŠŸ&lt;/p&gt;
</description>
        </item>
        <item>
        <title>[SpringBoot]æ•´åˆMybatis</title>
        <link>https://ccqstark.github.io/p/springboot_mybatis/</link>
        <pubDate>Sat, 17 Oct 2020 10:54:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/springboot_mybatis/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/springboot_mybatis/cover.png" alt="Featured image of post [SpringBoot]æ•´åˆMybatis" /&gt;&lt;p&gt;ä»¥æˆ‘çš„é¡¹ç›®ç›®å½•ç»“æ„ä¸ºä¾‹: &lt;code&gt;com.ccqstark.springbootquick&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;å¯¼å…¥ä¾èµ–&#34;&gt;å¯¼å…¥ä¾èµ–&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- springbootçš„mybatis --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.mybatis.spring.boot&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;mybatis-spring-boot-starter&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.1.1&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;é…ç½®&#34;&gt;é…ç½®&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;c&#34;&gt;#æ•´åˆmybatis&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;mybatis&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;type-aliases-package&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;com.ccqstark.springbootquick.pojo&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;mapper-locations&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;classpath:mybatis/mapper/*.xml&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;ç¼–å†™pojoç”¨äº†lombok&#34;&gt;ç¼–å†™POJO(ç”¨äº†Lombok)&lt;/h3&gt;
&lt;p&gt;åœ¨com.ccqstark.springbootquickä¸‹æ–°å»ºç›®å½•pojoï¼Œç„¶åæ–°å»ºç±»User.javaï¼Œç”¨äºå­˜å‚¨æ•°æ®çš„å¯¹è±¡ï¼ˆä¸æ•°æ®åº“ä¸­çš„è¡¨å¯¹åº”ï¼‰&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.pojo&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;lombok.AllArgsConstructor&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;lombok.Data&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;lombok.NoArgsConstructor&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;nd&#34;&gt;@Data&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@NoArgsConstructor&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@AllArgsConstructor&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;User&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pwd&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;ç¼–å†™mapper&#34;&gt;ç¼–å†™Mapper&lt;/h3&gt;
&lt;p&gt;åœ¨com.ccqstark.springbootquickä¸‹æ–°å»ºç›®å½•mapperï¼Œç„¶åæ–°å»ºUserMapper.javaï¼Œç”¨äºå†™æ¥å£ï¼ŒCRUDå‡½æ•°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.mapper&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick.pojo.User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.apache.ibatis.annotations.Mapper&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.springframework.stereotype.Repository&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;java.util.List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;// Mapperæ³¨è§£è¯´æ˜è¿™æ˜¯ä¸€ä¸ªmybatisçš„mapperç±»
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;//@Mapper  //å¦‚æœæœ‰æ‰«æçš„è¯è¿™é‡Œå¯ä»¥ä¸ç”¨å†™è¿™ä¸ªæ³¨è§£äº†
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;@Repository&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;interface&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;UserMapper&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;queryUserList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;

    &lt;span class=&#34;n&#34;&gt;User&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;queryByUserId&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;addUser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;User&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;updateUser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;User&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;user&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;

    &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;deleteUser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœæ˜¯ä»¥æ‰«æçš„å½¢å¼ï¼Œå°±æ˜¯åœ¨é¡¹ç›®çš„appå¯åŠ¨ç±»åŠ ä¸Šæ³¨è§£**@MapperScan**&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@SpringBootApplication&lt;/span&gt;
&lt;span class=&#34;c1&#34;&gt;// ä¹Ÿå¯ä»¥ç”¨ç€æ–¹å¼æ‰«æï¼Œå°±ä¸ç”¨ä¸€ä¸ªä¸ªå†™@Mapperäº†
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;@MapperScan&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;com.ccqstark.springbootquick.mapper&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;SpringbootQuickApplication&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;static&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;String&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;SpringApplication&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;run&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;SpringbootQuickApplication&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;åœ¨xmlé‡Œç¼–å†™sqlè¯­å¥&#34;&gt;åœ¨XMLé‡Œç¼–å†™SQLè¯­å¥&lt;/h3&gt;
&lt;p&gt;åœ¨resourcesç›®å½•ä¸‹æ–°å»ºmybatis/mapperç›®å½•ï¼Œå†åœ¨ä¸‹é¢æ–°å»ºxmlæ–‡ä»¶ï¼Œå¦‚è¿™é‡Œçš„UserMapper.xmlï¼Œåœ¨é‡Œé¢è®°å¾—é…å¥½&lt;strong&gt;namespace&lt;/strong&gt;ï¼Œç„¶åå°±å¯ä»¥å†™è‡ªå®šä¹‰SQLè¯­å¥å•¦&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;cp&#34;&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34; ?&amp;gt;&lt;/span&gt;
&lt;span class=&#34;cp&#34;&gt;&amp;lt;!DOCTYPE mapper
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;        PUBLIC &amp;#34;-//mybatis.org//DTD Mapper 3.0//EN&amp;#34;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;        &amp;#34;http://mybatis.org/dtd/mybatis-3-mapper.dtd&amp;#34;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;mapper&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;namespace=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;com.ccqstark.springbootquick.mapper.UserMapper&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- namespaceè¦é…å¥½ï¼Œå¦‚ä¸Šé¢çš„æ ¼å¼ï¼Œå¯¹åº”æºç ç›®å½•ä¸­çš„mapperæ¥å£ --&amp;gt;&lt;/span&gt;
   &lt;span class=&#34;c&#34;&gt;&amp;lt;!-- ä¸‹é¢å°±æ˜¯CRUDçš„SQLè¯­å¥ --&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;c&#34;&gt;&amp;lt;!-- idå¯¹åº”çš„å°±æ˜¯æ¥å£å®šä¹‰çš„å‡½æ•°å --&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;select&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;id=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;queryUserList&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;resultType=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;gt;&lt;/span&gt; // idå¯¹ç°æœ‰
        SELECT * FROM user
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;/select&amp;gt;&lt;/span&gt;

    &lt;span class=&#34;c&#34;&gt;&amp;lt;!-- #{id}å°±æ˜¯æ¨¡æ¿å¾…å¡«ç©ºä½--&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;select&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;id=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;queryByUserId&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;resultType=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;gt;&lt;/span&gt;
        SELECT * FROM user WHERE id = #{id}
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;/select&amp;gt;&lt;/span&gt;

    &lt;span class=&#34;nt&#34;&gt;&amp;lt;insert&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;id=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;addUser&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;parameterType=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;gt;&lt;/span&gt;
        INSERT into user (id,name,pwd) values (#{id},#{name},#{pwd})
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;/insert&amp;gt;&lt;/span&gt;

    &lt;span class=&#34;nt&#34;&gt;&amp;lt;update&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;id=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;updateUser&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;parameterType=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;gt;&lt;/span&gt;
        UPDATE user SET name=#{name},pwd=#{pwd} where id = #{id}
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;/update&amp;gt;&lt;/span&gt;

    &lt;span class=&#34;nt&#34;&gt;&amp;lt;delete&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;id=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;deleteUser&amp;#34;&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;parameterType=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;int&amp;#34;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;&amp;gt;&lt;/span&gt;
        DELETE FROM user WHERE id = #{id}
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;/delete&amp;gt;&lt;/span&gt;

&lt;span class=&#34;nt&#34;&gt;&amp;lt;/mapper&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;è°ƒç”¨æ¥è¿›è¡Œcrud&#34;&gt;è°ƒç”¨æ¥è¿›è¡ŒCRUD&lt;/h3&gt;
&lt;p&gt;åœ¨Controlleræˆ–è€…Serviceé‡Œè°ƒç”¨Mybatisè¿›è¡ŒCRUDï¼Œå…ˆ@Autowiredæ³¨å…¥ä¸€ä¸ªMapperï¼Œç„¶ååˆ©ç”¨è¿™ä¸ªæ¥å£ç±»å‹æŒ‡å‘çš„å¯¹è±¡å°±å¯ä»¥è°ƒç”¨æ¥å£é‡Œé¢çš„æ–¹æ³•äº†ã€‚è¿™äº›æ–¹æ³•å¯¹åº”çš„sqlè¯­å¥æ“ä½œå°±æ˜¯åœ¨xmlä¸­å®šä¹‰çš„ã€‚&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@RestController&lt;/span&gt;
&lt;span class=&#34;nd&#34;&gt;@RequestMapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/mybatis&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;UserController&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@Autowired&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;UserMapper&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;userMapper&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@PostMapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/query&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;queryUserList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;List&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;userList&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;userMapper&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;queryUserList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;();&lt;/span&gt;

        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;userList&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;

    &lt;span class=&#34;nd&#34;&gt;@PostMapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/create&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;createUser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;userMapper&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;addUser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;wuhu&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;5555&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;

        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ok&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;


    &lt;span class=&#34;nd&#34;&gt;@PostMapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/update&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;updateUser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;userMapper&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;updateUser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;qqq&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;33&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;));&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ok&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;


    &lt;span class=&#34;nd&#34;&gt;@PostMapping&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;/delete&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;String&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;deleteUser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;userMapper&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;deleteUser&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;#34;ok&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
        </item>
        <item>
        <title>[SpringBoot]æ•´åˆSLF4J-log4j</title>
        <link>https://ccqstark.github.io/p/springboot_slf4j-log4j/</link>
        <pubDate>Sat, 17 Oct 2020 10:54:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/springboot_slf4j-log4j/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/springboot_slf4j-log4j/cover.png" alt="Featured image of post [SpringBoot]æ•´åˆSLF4J-log4j" /&gt;&lt;h3 id=&#34;å¯¼å…¥ä¾èµ–&#34;&gt;å¯¼å…¥ä¾èµ–&lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-xml&#34; data-lang=&#34;xml&#34;&gt;&lt;span class=&#34;c&#34;&gt;&amp;lt;!-- SLF4j - log4j --&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.slf4j&lt;span class=&#34;nt&#34;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;slf4j-log4j12&lt;span class=&#34;nt&#34;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class=&#34;nt&#34;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.8.0-alpha2&lt;span class=&#34;nt&#34;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&#34;nt&#34;&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åè¦åœ¨IDEAä¸‹è½½æ’ä»¶Maven Helperä¸­æŠŠlogbackç›¸å…³çš„åŒ…ç»™Excludeï¼Œå¦åˆ™ä¼šå‡ºç°å†²çª&lt;/p&gt;
&lt;h3 id=&#34;é…ç½®&#34;&gt;é…ç½®&lt;/h3&gt;
&lt;p&gt;log4j.propertiesä¸­é…ç½®&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-properties&#34; data-lang=&#34;properties&#34;&gt;# rootLoggerå‚æ•°åˆ†åˆ«ä¸ºï¼šæ ¹Loggerçº§åˆ«ï¼Œè¾“å‡ºå™¨stdoutï¼Œè¾“å‡ºå™¨log
log4j.rootLogger = info,stdout,log

# è¾“å‡ºä¿¡æ¯åˆ°æ§åˆ¶å°
log4j.appender.stdout = org.apache.log4j.ConsoleAppender
log4j.appender.stdout.layout = org.apache.log4j.PatternLayout
log4j.appender.stdout.layout.ConversionPattern = %d [%-5p] %l %rms: %m%n

# è¾“å‡ºDEBUGçº§åˆ«ä»¥ä¸Šçš„æ—¥å¿—åˆ°D://log/debug.logï¼Œè¿™ä¸ªæ˜¯æ—¥å¿—æ–‡ä»¶å­˜æ”¾çš„è·¯å¾„ï¼Œæ ¹æ®æ—¶é—´æƒ…å†µè¿›è¡Œè®¾ç½®
log4j.appender.log = org.apache.log4j.DailyRollingFileAppender
log4j.appender.log.DatePattern = &#39;.&#39;yyyy-MM-dd
log4j.appender.log.File = D://log/debug.log
log4j.appender.log.Encoding = UTF-8
#log4j.appender.log.Threshold = INFO
log4j.appender.log.layout = org.apache.log4j.PatternLayout
log4j.appender.log.layout.ConversionPattern = %d [%-5p] (%c.%t): %m%n
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;æµ‹è¯•&#34;&gt;æµ‹è¯•&lt;/h3&gt;
&lt;p&gt;ç¼–å†™æµ‹è¯•ç±»ï¼Œä½¿ç”¨&lt;code&gt;@Slf4j&lt;/code&gt;æ³¨è§£ä¹‹å‰ç¡®ä¿ä½¿ç”¨äº†lombok&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;kn&#34;&gt;package&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;com.ccqstark.springbootquick&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;lombok.extern.slf4j.Slf4j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;org.junit.Test&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;nd&#34;&gt;@Slf4j&lt;/span&gt;
&lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kd&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;LoggerTest&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;

&lt;span class=&#34;c1&#34;&gt;//    private static final Logger log = LoggerFactory.getLogger(LoggerTest.class);
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
    &lt;span class=&#34;nd&#34;&gt;@Test&lt;/span&gt;
    &lt;span class=&#34;kd&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;TestSLF4j&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(){&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Current Time: {}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;currentTimeMillis&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Current Time: &amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;currentTimeMillis&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Current Time: {}&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;System&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;currentTimeMillis&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;());&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;trace&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;trace log&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;warn&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;warn log&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;debug&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;debug log&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;info&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;info log&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;error log&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;);&lt;/span&gt;
    &lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿è¡Œåè¾“å‡ºä»¥ä¸‹è¯´æ˜æˆåŠŸ&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;2020-10-15 16:36:45,459 [INFO ] com.ccqstark.springbootquick.LoggerTest.TestSLF4j(LoggerTest.java:13) 0ms: Current Time: 1602751005450
2020-10-15 16:36:45,464 [INFO ] com.ccqstark.springbootquick.LoggerTest.TestSLF4j(LoggerTest.java:14) 5ms: Current Time: 1602751005464
2020-10-15 16:36:45,465 [INFO ] com.ccqstark.springbootquick.LoggerTest.TestSLF4j(LoggerTest.java:15) 6ms: Current Time: 1602751005465
2020-10-15 16:36:45,466 [WARN ] com.ccqstark.springbootquick.LoggerTest.TestSLF4j(LoggerTest.java:17) 7ms: warn log
2020-10-15 16:36:45,466 [INFO ] com.ccqstark.springbootquick.LoggerTest.TestSLF4j(LoggerTest.java:19) 7ms: info log
2020-10-15 16:36:45,468 [ERROR] com.ccqstark.springbootquick.LoggerTest.TestSLF4j(LoggerTest.java:20) 9ms: error log
&lt;/code&gt;&lt;/pre&gt;&lt;h3 id=&#34;ç”¨æ³•&#34;&gt;ç”¨æ³•&lt;/h3&gt;
&lt;p&gt;æ·»åŠ æ³¨è§£&lt;code&gt;@Slf4j&lt;/code&gt;ï¼ˆç¡®ä¿ä½¿ç”¨äº†lombokï¼‰&lt;/p&gt;
&lt;p&gt;ç„¶åå¦‚æµ‹è¯•ç±»ä¸­&lt;code&gt;log.info&lt;/code&gt;æˆ–å…¶ä»–ç±»å‹çš„æ—¥å¿—ä¾¿å¯ä»¥ä½¿ç”¨äº†&lt;/p&gt;
</description>
        </item>
        <item>
        <title>DPåŠ¨æ€è§„åˆ’â€”â€”çŸ©é˜µé“¾ç›¸ä¹˜é—®é¢˜</title>
        <link>https://ccqstark.github.io/p/dp_matrix/</link>
        <pubDate>Mon, 12 Oct 2020 21:07:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/dp_matrix/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/dp_matrix/cover.png" alt="Featured image of post DPåŠ¨æ€è§„åˆ’â€”â€”çŸ©é˜µé“¾ç›¸ä¹˜é—®é¢˜" /&gt;&lt;h3 id=&#34;é—®é¢˜å¼•å…¥&#34;&gt;é—®é¢˜å¼•å…¥&lt;/h3&gt;
&lt;p&gt;å­¦è¿‡çº¿æ€§ä»£æ•°éƒ½çŸ¥é“çŸ©é˜µçš„ä¹˜æ³•ï¼Œæ¯”å¦‚è¯´çŸ©é˜µAÃ—Bï¼Œå°±æ˜¯Açš„æ¯ä¸€è¡Œä¸Šçš„å…ƒç´ åˆ†åˆ«å’ŒBçš„æ¯ä¸€åˆ—ä¸Šå¯¹åº”ä½ç½®çš„å…ƒç´ ç›¸ä¹˜å†æ€»ä½“ç›¸åŠ ï¼Œæ¯æ¬¡å¾—åˆ°ä¸€ä¸ªä½ç½®ä¸Šçš„å…ƒç´ çš„å€¼ã€‚&lt;/p&gt;
&lt;p&gt;å‡è®¾Aæ˜¯&lt;code&gt;p Ã— q&lt;/code&gt;ï¼ŒBæ˜¯&lt;code&gt;q Ã— r&lt;/code&gt;ï¼Œé‚£ç»“æœçŸ©é˜µå°±æ˜¯&lt;code&gt;p Ã— r&lt;/code&gt;ï¼Œå½“ç„¶ï¼Œèƒ½å¤Ÿç›¸ä¹˜çš„æ¡ä»¶æ˜¯Açš„åˆ—æ•°ç­‰äºBçš„è¡Œæ•°ã€‚&lt;/p&gt;
&lt;p&gt;è€ŒAÃ—Bæ€»å…±éœ€è¦åšçš„ä¹˜æ³•æ•°æ˜¯&lt;code&gt;p Ã— q Ã— r&lt;/code&gt;ï¼Œç”±çŸ©é˜µä¹˜æ³•çš„è¿‡ç¨‹å¯çŸ¥ã€‚&lt;/p&gt;
&lt;p&gt;å¯ä»¥å‘ç°ï¼Œå½“è‡³å°‘3ä¸ªçŸ©é˜µç›¸ä¹˜æ—¶ï¼Œæ¯”å¦‚&lt;code&gt;ABC&lt;/code&gt;ï¼Œ&lt;code&gt;(AB)C&lt;/code&gt;å’Œ&lt;code&gt;(A)BC&lt;/code&gt;ä¸¤ç§è®¡ç®—é¡ºåºæ‰€éœ€åšçš„ä¹˜æ³•æ•°æ˜¯ä¸åŒçš„ã€‚&lt;/p&gt;
&lt;p&gt;ç°åœ¨çš„é—®é¢˜æ˜¯ä¸€ä¸ªçŸ©é˜µé“¾ï¼Œæ¯”å¦‚&lt;code&gt;A Ã— B Ã— C Ã— D Ã— E Ã— F Ã— G&lt;/code&gt;ï¼Œè¦ä»¥ä»€ä¹ˆæ ·çš„é¡ºåºç›¸ä¹˜æ‰èƒ½å¾—ä½¿å¾—æ‰€éœ€åšçš„ä¹˜æ³•æ•°æœ€å°å‘¢ï¼Ÿ&lt;/p&gt;
&lt;h3 id=&#34;é¢˜ç›®&#34;&gt;é¢˜ç›®&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;è¾“å…¥æ ¼å¼:&lt;/strong&gt;
æ¯ä¸ªè¾“å…¥æ–‡ä»¶ä¸ºä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Œæ¯ä¸ªæµ‹è¯•ç”¨ä¾‹çš„ç¬¬ä¸€è¡Œç»™å‡ºä¸€ä¸ªæ­£æ•´æ•°(1â‰¤nâ‰¤100)ï¼Œè¡¨ç¤ºä¸€å…±æœ‰nä¸ªçŸ©é˜µAâ€‹1â€‹â€‹ ,Aâ€‹2â€‹â€‹ ,â€¦,Aâ€‹nâ€‹â€‹ ï¼Œç¬¬äºŒè¡Œç»™å‡ºn+1ä¸ªæ•´æ•°Pâ€‹0â€‹â€‹ ,Pâ€‹1â€‹â€‹ â€¦Pâ€‹nâ€‹â€‹ ï¼Œä»¥ç©ºæ ¼åˆ†éš”ï¼Œå…¶ä¸­1â‰¤Pâ€‹iâ€‹â€‹ â‰¤100(0â‰¤iâ‰¤n)ï¼Œç¬¬iä¸ªçŸ©é˜µAâ€‹iâ€‹â€‹ æ˜¯é˜¶ä¸ºPâ€‹iâˆ’1â€‹â€‹ âˆ—Pâ€‹iâ€‹â€‹ çš„çŸ©é˜µã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¾“å‡ºæ ¼å¼:&lt;/strong&gt;
è·å¾—ä¸Šè¿°çŸ©é˜µçš„ä¹˜ç§¯ï¼Œæ‰€éœ€çš„æœ€å°‘ä¹˜æ³•æ¬¡æ•°ã€‚&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;è¾“å…¥æ ·ä¾‹:&lt;/strong&gt;
åœ¨è¿™é‡Œç»™å‡ºä¸€ç»„è¾“å…¥ã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;5&lt;br&gt;
30 35 15 5 10 20&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;è¾“å‡ºæ ·ä¾‹:&lt;/strong&gt;
åœ¨è¿™é‡Œç»™å‡ºç›¸åº”çš„è¾“å‡ºã€‚ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;11875&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;æ€è·¯&#34;&gt;æ€è·¯&lt;/h3&gt;
&lt;p&gt;å¯ä»¥å…ˆæ±‚2ä¸ª2ä¸ªç›¸é‚»ç›¸ä¹˜çš„å€¼ï¼Œç„¶åç”¨ä»–ä»¬æ±‚3ä¸ª3ä¸ªç›¸ä¹˜çš„ï¼Œå†4ä¸ª&amp;hellip;ä¾ç…§æ­¤è§„å¾‹ç›´åˆ°nä¸ª&lt;/p&gt;
&lt;p&gt;å½“å‰ä¸ªæ•°é˜¶æ®µä¹Ÿéœ€è¦æŠŠæ¯ç§åˆ’åˆ†æ–¹æ¡ˆè¿›è¡Œå°è¯•ï¼Œå¹¶å¾—å‡ºæœ€å°çš„é‚£ç§ã€‚æ¯”å¦‚æˆ‘åœ¨ç®—4ä¸ª4ä¸ªç›¸ä¹˜çš„ï¼Œé‚£åˆ’åˆ†ä½ç½®å°±æœ‰3ä¸ªï¼Œæ¯ä¸ªéƒ½è¦éå†ç®—ä¸€æ¬¡ï¼Œæœ€åé€‰æœ€å°é‚£ä¸ªï¼Œä¸ºä¸‹ä¸€é˜¶æ®µä½¿ç”¨ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬åˆ©ç”¨äºŒç»´æ•°ç»„m[i][j]è¡¨ç¤ºç¬¬iä¸ªåˆ°ç¬¬jä¸ªçŸ©é˜µè¿ä¹˜çš„æœ€ä¼˜è§£ï¼Œæœ‰å¦‚ä¸‹å…¬å¼ã€‚&lt;/p&gt;
&lt;p&gt;å°±æ˜¯æ¯æ¬¡åˆ’åˆ†ä¸º2éƒ¨åˆ†ï¼Œ&lt;strong&gt;æ•´ä½“æœ€ä¼˜è§£=å·¦éƒ¨åˆ†æœ€ä¼˜è§£+å³éƒ¨åˆ†çš„æœ€ä¼˜è§£+ä¸¤è€…ç›¸ä¹˜æ‰€éœ€ä¹˜æ³•æ•°&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;çŸ©é˜µiçš„è¡Œæ•°ä¸º&lt;code&gt;p[i-1]&lt;/code&gt;ï¼Œåˆ—æ•°ä¸º&lt;code&gt;p[i]&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 702; 
			flex-basis: 1687px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/dp_matrix/1.png&#34; data-size=&#34;710x101&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/dp_matrix/1.png&#34;
			width=&#34;710&#34;
			height=&#34;101&#34;
			srcset=&#34;https://ccqstark.github.io/p/dp_matrix/1_hu41df461fda97076b907b58ce800c014c_7655_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/dp_matrix/1_hu41df461fda97076b907b58ce800c014c_7655_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬ç”¨ä¸€ä¸ªäºŒç»´çŸ©é˜µæ¥å­˜å‚¨å„é˜¶æ®µç»“æœï¼Œæ•°æ®å°±ä¸€æ­¥æ­¥å¾€å³ä¸Šè§’å¡«ä¸Šå»ï¼Œæœ€ç»ˆç­”æ¡ˆå°±åœ¨æœ€å³ä¸Šè§’ã€‚&lt;/p&gt;
&lt;p&gt;&lt;figure 
	&gt;
	&lt;a href=&#34;https://img-blog.csdnimg.cn/20200811190242676.png&#34; &gt;
		&lt;img src=&#34;https://img-blog.csdnimg.cn/20200811190242676.png&#34;
			
			
			
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;ä»£ç &#34;&gt;ä»£ç &lt;/h3&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// çŸ©é˜µé“¾ç›¸ä¹˜é—®é¢˜
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;iostream&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;#include&lt;/span&gt; &lt;span class=&#34;cpf&#34;&gt;&amp;lt;string.h&amp;gt;&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;
&lt;/span&gt;&lt;span class=&#34;cp&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;using&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;namespace&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;std&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

&lt;span class=&#34;k&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;MAX&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MAX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;      &lt;span class=&#34;c1&#34;&gt;// å­˜æ”¾è¡Œåˆ—æ•°ï¼Œå°±æ˜¯é¢˜ç›®è¾“å…¥çš„åºåˆ—
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MAX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;MAX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// å­˜æ”¾å±€éƒ¨å’Œæœ€ç»ˆç»“æœçš„çŸ©é˜µ
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;           &lt;span class=&#34;c1&#34;&gt;// éœ€è¦ç›¸ä¹˜çš„çŸ©é˜µä¸ªæ•°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;matrix&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;memset&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;sizeof&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// åˆå§‹åŒ–çŸ©é˜µä¸º0
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// åŒæ—¶è¿ç»­ç›¸ä¹˜çš„ä¸ªæ•°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;r&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;r&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;c1&#34;&gt;// ä»ç¬¬å‡ ä¸ªå¼€å§‹(åˆ°ç¬¬å‡ ç»„äº†)
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;        &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;r&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
            &lt;span class=&#34;c1&#34;&gt;// ç›¸ä¹˜é“¾çš„æœ€åä¸€ä¸ª
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;r&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;

            &lt;span class=&#34;c1&#34;&gt;// ä¸ºäº†é€šè¿‡æ¯”è¾ƒä»è€Œå¾—å‡ºæœ€å°çš„é‚£ä¸ªï¼Œè¦æœ‰ä¸€ä¸ªæ¯”è¾ƒçš„åˆå€¼ï¼Œè¿™é‡Œæ˜¯åˆ’åˆ†ç¬¬ä¸€ä¸ªå’Œå…¶ä½™çš„ä¸º2ç»„
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;n&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;

            &lt;span class=&#34;c1&#34;&gt;// ä¸€æ­¥æ­¥ç§»åŠ¨åˆ’åˆ†ç‚¹
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;            &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;k&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;k&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;// ä»¥kä½ç½®ä¸ºåˆ’åˆ†ç‚¹ï¼Œåˆ’åˆ†iåˆ°jçš„ç›¸ä¹˜é“¾
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;k&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;k&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
                &lt;span class=&#34;c1&#34;&gt;// æ¯”è¾ƒæ‰¾å‡ºæœ€å°çš„é‚£ä¸ª
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;                &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;t&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
                    &lt;span class=&#34;n&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;j&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
                &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
        &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;

&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;main&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;cin&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
    &lt;span class=&#34;c1&#34;&gt;// è¾“å…¥çš„æ•°å­—æ€»æ•°æ¯”çŸ©é˜µä¸ªæ•°å¤š1
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;n&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
        &lt;span class=&#34;n&#34;&gt;cin&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;p&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
    &lt;span class=&#34;n&#34;&gt;matrix&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;

    &lt;span class=&#34;c1&#34;&gt;// æœ€åç­”æ¡ˆä¼šåœ¨å³ä¸Šè§’å‡ºç°
&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;n&#34;&gt;cout&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;][&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://blog.csdn.net/qq_45405490/article/details/107911349&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;å‚è€ƒåšæ–‡&lt;/a&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>phpåå°å¼€å‘åŸºç¡€ç¯å¢ƒæ­å»ºæ•™ç¨‹</title>
        <link>https://ccqstark.github.io/p/php_env/</link>
        <pubDate>Sat, 10 Oct 2020 11:39:00 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/php_env/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/php_env/php.png" alt="Featured image of post phpåå°å¼€å‘åŸºç¡€ç¯å¢ƒæ­å»ºæ•™ç¨‹" /&gt;&lt;p&gt;â€œå·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨â€ï¼Œä½œä¸ºåç«¯æ¬ç –å·¥ï¼Œæˆ‘ä»¬æ•²ä»£ç ä¹‹å‰éœ€è¦ç»™æˆ‘ä»¬çš„ç”µè„‘é…ä¸Šæ‰€éœ€çš„è½¯ä»¶ç¯å¢ƒï¼Œè¿™æ ·æˆ‘ä»¬å†™çš„ä»£ç æ‰èƒ½è·‘èµ·æ¥ï¼ŒåŸåœ°èµ·é£ï¼&lt;/p&gt;
&lt;h2 id=&#34;ä¸‹è½½é›†æˆç¯å¢ƒå·¥å…·&#34;&gt;ä¸‹è½½é›†æˆç¯å¢ƒå·¥å…·&lt;/h2&gt;
&lt;p&gt;å¯ä»¥é€‰æ‹©xamppæˆ–phpenvï¼ˆäºŒé€‰ä¸€å°±è¡Œï¼‰&lt;/p&gt;
&lt;h3 id=&#34;xampp&#34;&gt;xampp&lt;/h3&gt;
&lt;p&gt;xampp = Apache + MySQL(MariaDB) + PHP + Perlï¼Œæ˜¯ä¸€ä¸ªé›†æˆç¯å¢ƒè½¯ä»¶ï¼Œè£…äº†ä¸€ä¸ªå°±å¯ä»¥è½»æ¾è·å¾—æœåŠ¡å™¨ï¼Œæ•°æ®åº“å’Œphpè¯­è¨€çš„ç¯å¢ƒï¼Œè½»æ¾å¿«æ·è€Œä¸”å…è´¹ï¼Œå”¯ä¸€çš„ç¼ºç‚¹å¯èƒ½æ˜¯å› ä¸ºæ˜¯å¤–ç½‘æ‰€ä»¥é€Ÿåº¦ç¨æ…¢æˆ–è€…å¯èƒ½éœ€è¦ç§‘å­¦ä¸Šç½‘&lt;/p&gt;
&lt;p&gt;å®˜ç½‘ä¸‹è½½ï¼š&lt;a class=&#34;link&#34; href=&#34;https://www.apachefriends.org/zh_cn/index.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.apachefriends.org/zh_cn/index.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;é€‰æ‹©è‡ªå·±çš„å¹³å°ï¼Œç„¶åç‚¹å‡»ä¸‹è½½ï¼Œå®Œæˆåè¿è¡Œexe&lt;/p&gt;
&lt;p&gt;æŒ‰æ™®é€šå®‰è£…æ­¥éª¤æ¥å°±å¥½ï¼Œä¸‹é¢è¿™ä¸ªç•Œé¢ä¹Ÿé»˜è®¤é€‰æ‹©å°±å¥½ï¼Œæœ‰äº›ç¯å¢ƒä¹‹åä¼šç”¨åˆ°&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 119; 
			flex-basis: 286px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/php_env/install.png&#34; data-size=&#34;516x432&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/php_env/install.png&#34;
			width=&#34;516&#34;
			height=&#34;432&#34;
			srcset=&#34;https://ccqstark.github.io/p/php_env/install_hue31cc14ecc65f74b5f882dbd70f42ad6_56886_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/php_env/install_hue31cc14ecc65f74b5f882dbd70f42ad6_56886_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å®‰è£…è·¯å¾„å»ºè®®å®‰è£…åœ¨Dç›˜ï¼Œç„¶åç­‰å¾…å®‰è£…å®Œæˆå°±å¯ä»¥äº†ï¼Œæ‰“å¼€è½¯ä»¶çœ‹åˆ°ä¸»é¢æ¿&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 141; 
			flex-basis: 340px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/php_env/control_panel.png&#34; data-size=&#34;724x511&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/php_env/control_panel.png&#34;
			width=&#34;724&#34;
			height=&#34;511&#34;
			srcset=&#34;https://ccqstark.github.io/p/php_env/control_panel_hu7aba9f8b091ef25a84dd8d679f587861_109275_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/php_env/control_panel_hu7aba9f8b091ef25a84dd8d679f587861_109275_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»&lt;code&gt;Apache&lt;/code&gt;å’Œ&lt;code&gt;start&lt;/code&gt;æŒ‰é’®ï¼Œç­‰å¾…å›¾æ ‡å˜ç»¿åå†ç‚¹å‡»&lt;code&gt;admin&lt;/code&gt;æŒ‰é’®æˆ–è€…æµè§ˆå™¨åœ°å€æ è¾“å…¥&lt;code&gt;localhost&lt;/code&gt;è¿›è¡Œè®¿é—®&lt;/p&gt;
&lt;p&gt;å¦‚æœå¯ä»¥çœ‹åˆ°æœåŠ¡å™¨ä¸»é¡µé¢è¯´æ˜æˆåŠŸ&lt;/p&gt;
&lt;p&gt;ç„¶åç‚¹å‡»&lt;code&gt;MySQL&lt;/code&gt;çš„&lt;code&gt;start&lt;/code&gt;å’Œ&lt;code&gt;admin&lt;/code&gt;ï¼Œæˆ–è€…åœ°å€æ è¾“å…¥&lt;code&gt;localhost/phpmyadmin/&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å‡ºç°ä¸€ä¸ªç™»å½•ç•Œé¢ï¼Œè´¦å·å¡«å†™&lt;code&gt;root&lt;/code&gt;ï¼Œå¯†ç ä¸ºç©ºä¸ç”¨å¡«ï¼Œç›´æ¥ç‚¹å‡»ç™»å½•ï¼Œå‡ºç°ä¸‹é¢ç”»é¢è¯´æ˜æˆåŠŸ&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 209; 
			flex-basis: 503px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/php_env/phpmyadmin.png&#34; data-size=&#34;1536x732&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/php_env/phpmyadmin.png&#34;
			width=&#34;1536&#34;
			height=&#34;732&#34;
			srcset=&#34;https://ccqstark.github.io/p/php_env/phpmyadmin_hueeb5a04033df17881c568a42cb09d2ef_176671_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/php_env/phpmyadmin_hueeb5a04033df17881c568a42cb09d2ef_176671_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;phpenv&#34;&gt;phpEnv&lt;/h3&gt;
&lt;p&gt;å¦‚æœxamppå®åœ¨å¤ªæ…¢æˆ–è€…æ ¹æœ¬æ— æ³•ä¸‹è½½ï¼Œä¹Ÿå¯ä»¥ç”¨phpEnv&lt;/p&gt;
&lt;p&gt;å®˜ç½‘ä¸‹è½½ï¼š&lt;a class=&#34;link&#34; href=&#34;https://www.phpenv.cn/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.phpenv.cn/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æ ¹æ®ä½ ç”µè„‘æ˜¯64ä½æˆ–è€…32ä½è¿›è¡Œé€‰æ‹©å¯¹åº”ç‰ˆæœ¬ä¸‹è½½ï¼Œå¦‚æœä¸çŸ¥é“è‡ªå·±ç”µè„‘æ˜¯å‡ ä½çš„å¯ä»¥&lt;a class=&#34;link&#34; href=&#34;https://jingyan.baidu.com/article/7f41ecec2f851a593d095c9b.html&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;ç‚¹å‡»æ•™ç¨‹&lt;/a&gt;æŸ¥çœ‹&lt;/p&gt;
&lt;p&gt;åŒæ ·å»ºè®®æ”¾åœ¨Dç›˜ï¼Œå…¶å®ƒçš„é»˜è®¤å°±è¡Œï¼Œè¿è¡Œåå‡ºç°ä¸‹é¢ç•Œé¢&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 141; 
			flex-basis: 338px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/php_env/phpenv.png&#34; data-size=&#34;550x390&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/php_env/phpenv.png&#34;
			width=&#34;550&#34;
			height=&#34;390&#34;
			srcset=&#34;https://ccqstark.github.io/p/php_env/phpenv_hu09deb755ced7358f7caf3c363107b008_30158_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/php_env/phpenv_hu09deb755ced7358f7caf3c363107b008_30158_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»&lt;code&gt;å¯åŠ¨æœåŠ¡&lt;/code&gt;ä¸Šé¢çš„å›¾æ ‡ï¼Œå†ç‚¹å‡»&lt;code&gt;æ‰“å¼€ä¸»é¡µ&lt;/code&gt;çš„å›¾æ ‡ï¼Œçœ‹åˆ°phpEnvçš„ä¸»é¡µé¢å°±è¯´æ˜æˆåŠŸäº†&lt;/p&gt;
&lt;p&gt;é¡µé¢æ‹‰åˆ°æœ€ä¸‹é¢å¦‚ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 377; 
			flex-basis: 905px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/php_env/phpenv_mysql.png&#34; data-size=&#34;1090x289&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/php_env/phpenv_mysql.png&#34;
			width=&#34;1090&#34;
			height=&#34;289&#34;
			srcset=&#34;https://ccqstark.github.io/p/php_env/phpenv_mysql_hu14ad14b930f9e9181f37a70a701c27d4_55080_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/php_env/phpenv_mysql_hu14ad14b930f9e9181f37a70a701c27d4_55080_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æ•°æ®åº“ç«¯å£å¡«&lt;code&gt;3306&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;ç”¨æˆ·åå¡«&lt;code&gt;root&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å¯†ç ä¹Ÿå¡«&lt;code&gt;root&lt;/code&gt;ï¼ˆæ³¨æ„ï¼šè¿™é‡Œå’Œxamppä¸ä¸€æ ·ï¼‰&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»è¿æ¥æŒ‰é’®åå†æŠŠé¡µé¢æ‹‰åˆ°æœ€ä¸‹é¢æ˜¾ç¤º&lt;code&gt;è¿æ¥æˆåŠŸ&lt;/code&gt;å°±è¡Œå•¦&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»é¡¶éƒ¨èœå•æ çš„&lt;code&gt;å¼€å§‹&lt;/code&gt;ï¼Œå†ç‚¹å‡»&lt;code&gt;phpMyAdmin&lt;/code&gt;ï¼Œç„¶åæŒ‰ä¸Šé¢xamppçš„å¯¹åº”å†…å®¹æ“ä½œå°±è¡Œ&lt;/p&gt;
&lt;h2 id=&#34;å®‰è£…ide&#34;&gt;å®‰è£…IDE&lt;/h2&gt;
&lt;p&gt;IDE(Integrated Development Environment)ï¼Œé›†æˆå¼€å‘ç¯å¢ƒï¼Œä¸ºå¼€å‘è€…æä¾›äº†åŸºæœ¬çš„ä»£ç ç¼–è¾‘å™¨çš„åŒæ—¶è¿˜æä¾›äº†è®¸å¤šé€‚ç”¨å·¥å…·ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œæ˜¯ç å†œå¼€å‘çš„åˆ©å™¨ã€‚&lt;/p&gt;
&lt;p&gt;phpè¯­è¨€æˆ‘ä»¬ä½¿ç”¨çš„æ¯”è¾ƒå¤šçš„æ˜¯&lt;code&gt;JetBrains&lt;/code&gt;å…¬å¸å‡ºçš„&lt;code&gt;PhpStorm&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å®˜ç½‘ä¸‹è½½ï¼š&lt;a class=&#34;link&#34; href=&#34;https://www.jetbrains.com/phpstorm/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.jetbrains.com/phpstorm/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è½¯ä»¶ä½“ç§¯è¾ƒå¤§ï¼Œå¦‚æœä½ ä¸æƒ³è£…å®ƒçš„è¯å¯ä»¥è‡ªå·±ä¸‹è½½&lt;code&gt;VSCode&lt;/code&gt;ç„¶åä¸‹è½½ç›¸åº”æ’ä»¶ï¼ˆè‡ªå·±æŸ¥ï¼‰&lt;/p&gt;
&lt;p&gt;ç”±äºè½¯ä»¶æ˜¯æ”¶è´¹çš„ï¼Œä½†æ˜¯æˆ‘ä»¬æ˜¯å­¦ç”Ÿï¼Œå¯ä»¥ç”¨å­¦æ ¡ç»™çš„é‚®ç®±è¿›è¡Œå­¦ç”Ÿè®¤è¯å°±å¯ä»¥åœ¨æ¯•ä¸šå‰éƒ½å…è´¹ä½¿ç”¨&lt;/p&gt;
&lt;p&gt;å­¦ç”Ÿè®¤è¯åœ°å€ï¼š&lt;a class=&#34;link&#34; href=&#34;https://www.jetbrains.com/community/education/#students&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.jetbrains.com/community/education/#students&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&#34;å­¦æ ¡é‚®ç®±è·å–æ–¹æ³•&#34;&gt;å­¦æ ¡é‚®ç®±è·å–æ–¹æ³•&lt;/h4&gt;
&lt;p&gt;è¿›å…¥å­¦æ ¡å®˜ç½‘ï¼Œè¿›å…¥æ™ºæ…§å¹¿å¤–ï¼Œ	åœ¨&lt;code&gt;ä¸ªäººäº‹åŠ¡&lt;/code&gt;ä¸­å¯ä»¥çœ‹åˆ°è‡ªå·±çš„é‚®ç®±åœ°å€ï¼Œä¸€èˆ¬æ˜¯&lt;code&gt;å­¦å·@gdufs.edu.cn&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 121; 
			flex-basis: 291px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/php_env/email.png&#34; data-size=&#34;311x256&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/php_env/email.png&#34;
			width=&#34;311&#34;
			height=&#34;256&#34;
			srcset=&#34;https://ccqstark.github.io/p/php_env/email_hu41879ea9664d19c8125be56eb0869360_7392_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/php_env/email_hu41879ea9664d19c8125be56eb0869360_7392_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;ä¸‹è½½ç ´è§£ç‰ˆä¹Ÿå¯ä»¥ï¼Œä½†å¯èƒ½æ¯”è¾ƒèŠ±æ—¶é—´&lt;/p&gt;
&lt;p&gt;æŒ‰æ­¥éª¤å®Œæˆåæ‰“å¼€phpstormï¼Œè¿›è¡Œä¸‹é¢çš„é…ç½®æµç¨‹&lt;/p&gt;
&lt;h3 id=&#34;1-æ–°å»ºä¸€ä¸ªé¡¹ç›®&#34;&gt;1. æ–°å»ºä¸€ä¸ªé¡¹ç›®&lt;/h3&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 52; 
			flex-basis: 125px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/php_env/new_project.png&#34; data-size=&#34;350x671&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/php_env/new_project.png&#34;
			width=&#34;350&#34;
			height=&#34;671&#34;
			srcset=&#34;https://ccqstark.github.io/p/php_env/new_project_hu43ab886b7565ef1ac2e56920c39e7c96_24975_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/php_env/new_project_hu43ab886b7565ef1ac2e56920c39e7c96_24975_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-é€‰æ‹©åˆ›å»ºè·¯å¾„&#34;&gt;2. é€‰æ‹©åˆ›å»ºè·¯å¾„&lt;/h3&gt;
&lt;p&gt;å»ºè®®æŠŠç›®å½•å»ºåœ¨é›†æˆç¯å¢ƒæŒ‡å®šçš„&lt;strong&gt;ç½‘ç»œæ ¹ç›®å½•&lt;/strong&gt;ä¸‹ï¼Œç›®å½•è·¯å¾„å¦‚ä¸‹ï¼ˆä»¥å®‰è£…åœ¨Dç›˜ä¸ºä¾‹ï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;xampp&lt;/strong&gt;ï¼š&lt;code&gt;D:\xampp\htdocs&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;phpEnv&lt;/strong&gt;ï¼š&lt;code&gt;D:\phpEnv\www\localhost&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 169; 
			flex-basis: 406px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/php_env/path.png&#34; data-size=&#34;793x468&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/php_env/path.png&#34;
			width=&#34;793&#34;
			height=&#34;468&#34;
			srcset=&#34;https://ccqstark.github.io/p/php_env/path_hu25cc411214a7879004a6c6cc7850ea82_23213_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/php_env/path_hu25cc411214a7879004a6c6cc7850ea82_23213_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;è·¯å¾„æœ€åè‡ªå®šä¹‰ä¸€ä¸ªé¡¹ç›®åï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œå«&lt;code&gt;test&lt;/code&gt;ï¼Œç„¶åç‚¹å‡»&lt;code&gt;creat&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-ä¿®æ”¹è¿è¡Œç›®å½•&#34;&gt;3. ä¿®æ”¹è¿è¡Œç›®å½•&lt;/h3&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 57; 
			flex-basis: 138px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/php_env/settings.png&#34; data-size=&#34;339x586&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/php_env/settings.png&#34;
			width=&#34;339&#34;
			height=&#34;586&#34;
			srcset=&#34;https://ccqstark.github.io/p/php_env/settings_hu34a57ba004a09d7083fd017907d7c8c4_18826_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/php_env/settings_hu34a57ba004a09d7083fd017907d7c8c4_18826_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å¦‚å›¾æ‰“å¼€è®¾ç½®&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 139; 
			flex-basis: 334px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/php_env/deployment.png&#34; data-size=&#34;998x715&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/php_env/deployment.png&#34;
			width=&#34;998&#34;
			height=&#34;715&#34;
			srcset=&#34;https://ccqstark.github.io/p/php_env/deployment_hub07e4845204002a469a177b46ae686d1_31669_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/php_env/deployment_hub07e4845204002a469a177b46ae686d1_31669_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;é€‰æ‹©&lt;code&gt;Deployment&lt;/code&gt;ï¼Œç‚¹å‡»é¡¶éƒ¨&lt;code&gt;+&lt;/code&gt;å·ï¼Œé€‰æ‹©&lt;code&gt;Local or mounted folder&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 139; 
			flex-basis: 334px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/php_env/url.png&#34; data-size=&#34;998x715&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/php_env/url.png&#34;
			width=&#34;998&#34;
			height=&#34;715&#34;
			srcset=&#34;https://ccqstark.github.io/p/php_env/url_huab950ead77d67777e5aed2475a6d2e1f_32218_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/php_env/url_huab950ead77d67777e5aed2475a6d2e1f_32218_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Folder&lt;/code&gt;å°±å¡«å†™è‡ªå·±å®‰è£…çš„é›†æˆç¯å¢ƒè½¯ä»¶çš„&lt;strong&gt;ç½‘ç»œæ ¹ç›®å½•&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Web server URL&lt;/code&gt;è®°å¾—è¦åœ¨æœ€åè¡¥ä¸Š&lt;strong&gt;æ–œæ†å’Œå½“å‰é¡¹ç›®å&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»å³ä¸‹è§’çš„&lt;code&gt;Apply&lt;/code&gt;å’Œ&lt;code&gt;OK&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;4-hello-world&#34;&gt;4. Hello World!&lt;/h3&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 129; 
			flex-basis: 311px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/php_env/new_file.png&#34; data-size=&#34;913x704&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/php_env/new_file.png&#34;
			width=&#34;913&#34;
			height=&#34;704&#34;
			srcset=&#34;https://ccqstark.github.io/p/php_env/new_file_hu2f525efb151ab03d64f55c2d2a812ae7_45131_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/php_env/new_file_hu2f525efb151ab03d64f55c2d2a812ae7_45131_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å¯¹é¡¹ç›®æ–‡ä»¶å¤¹å³é”®æ–°å»ºä¸€ä¸ªphpæ–‡ä»¶ï¼Œè‡ªå®šä¹‰å‘½åï¼Œç„¶åå¼€å§‹å†™ä¸‹ç¬¬ä¸€è¡Œphpä»£ç å§ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
    &lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;hello world!&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é¼ æ ‡ç§»åˆ°å³ä¸Šè§’é€‰æ‹©ä¸€ä¸ªæµè§ˆå™¨è¿è¡Œï¼Œæˆ–è€…å³é”®å¹¶é€‰æ‹©&lt;code&gt;run&lt;/code&gt;ï¼Œæˆ–è€…å¿«æ·é”®&lt;code&gt;Ctrl+Shift+F10&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 291; 
			flex-basis: 700px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/php_env/brower.png&#34; data-size=&#34;388x133&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/php_env/brower.png&#34;
			width=&#34;388&#34;
			height=&#34;133&#34;
			srcset=&#34;https://ccqstark.github.io/p/php_env/brower_hu46f655240c42d24b7222a03fd64bdc5c_4918_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/php_env/brower_hu46f655240c42d24b7222a03fd64bdc5c_4918_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å¦‚æœå‡ºç°äº†æé†’ä½ é€‰æ‹©phpè§£é‡Šå™¨çš„æƒ…å†µ&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 946; 
			flex-basis: 2271px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/php_env/language_level.png&#34; data-size=&#34;757x80&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/php_env/language_level.png&#34;
			width=&#34;757&#34;
			height=&#34;80&#34;
			srcset=&#34;https://ccqstark.github.io/p/php_env/language_level_hu6cfe5241e8b2a4ab92bf7e05d467bc9b_3848_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/php_env/language_level_hu6cfe5241e8b2a4ab92bf7e05d467bc9b_3848_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å°±é€‰æ‹©ä¸€ä¸ªå·²æœ‰çš„ç‰ˆæœ¬å°±è¡Œï¼Œåœ¨&lt;code&gt;settings&lt;/code&gt; &lt;strong&gt;-&amp;gt;&lt;/strong&gt; &lt;code&gt;Languages&amp;amp;Frameworks&lt;/code&gt;  &lt;strong&gt;-&amp;gt;&lt;/strong&gt; &lt;code&gt;PHP&lt;/code&gt;ä¹Ÿå¯ä»¥è®¾ç½®&lt;/p&gt;
&lt;p&gt;ç‚¹å‡»è¿è¡Œåå‡ºç°&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 288; 
			flex-basis: 692px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/php_env/hello_world.png&#34; data-size=&#34;358x124&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/php_env/hello_world.png&#34;
			width=&#34;358&#34;
			height=&#34;124&#34;
			srcset=&#34;https://ccqstark.github.io/p/php_env/hello_world_hu0efec59b83c1fcf5080df2cfb0bff2d1_4155_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/php_env/hello_world_hu0efec59b83c1fcf5080df2cfb0bff2d1_4155_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;æˆ–è€…æ˜¯&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 219; 
			flex-basis: 526px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/php_env/hello_world2.png&#34; data-size=&#34;748x341&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/php_env/hello_world2.png&#34;
			width=&#34;748&#34;
			height=&#34;341&#34;
			srcset=&#34;https://ccqstark.github.io/p/php_env/hello_world2_hufe459786a09a401819265a40b14788a9_9729_480x0_resize_box_3.png 480w, https://ccqstark.github.io/p/php_env/hello_world2_hufe459786a09a401819265a40b14788a9_9729_1024x0_resize_box_3.png 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;å¤§åŠŸå‘Šæˆï¼ç°åœ¨å¯ä»¥æ„‰å¿«åœ°æ•²ä»£ç äº†ï¼&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œè¿™æ˜¯ä¸ºäº†æ–¹ä¾¿æœ¬åœ°å¼€å‘è€Œå®‰è£…çš„é›†æˆç¯å¢ƒï¼Œæœ‰å…´è¶£çš„å°æœ‹å‹å¯ä»¥è‡ªå·±å°è¯•åˆ†åˆ«å®‰è£…æ¯ä¸ªç¯å¢ƒæˆ–è€…åœ¨Linuxä¸Šè¿›è¡Œç¼–è¯‘å®‰è£…&lt;/p&gt;
&lt;p&gt;PHPerç°åœ¨å¯ä»¥å¸¦ç€ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€å¼€å†²äº†ï¼&lt;/p&gt;
&lt;p&gt;&lt;figure 
	
		class=&#34;gallery-image&#34; 
		style=&#34;
			flex-grow: 160; 
			flex-basis: 384px&#34;
	&gt;
	&lt;a href=&#34;https://ccqstark.github.io/p/php_env/phper.jpg&#34; data-size=&#34;640x400&#34;&gt;
		&lt;img src=&#34;https://ccqstark.github.io/p/php_env/phper.jpg&#34;
			width=&#34;640&#34;
			height=&#34;400&#34;
			srcset=&#34;https://ccqstark.github.io/p/php_env/phper_hu98a7534b1df32e1ac5c10182a8537bd9_22265_480x0_resize_q75_box.jpg 480w, https://ccqstark.github.io/p/php_env/phper_hu98a7534b1df32e1ac5c10182a8537bd9_22265_1024x0_resize_q75_box.jpg 1024w&#34;
			loading=&#34;lazy&#34;
			&gt;
	&lt;/a&gt;
	
&lt;/figure&gt;&lt;/p&gt;
</description>
        </item>
        <item>
        <title>ä½¿ç”¨Hugo&#43;github/giteeæ­å»ºä¸ªäººåšå®¢</title>
        <link>https://ccqstark.github.io/p/%E4%BD%BF%E7%94%A8hugo-github/gitee%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</link>
        <pubDate>Sun, 04 Oct 2020 02:44:33 +0800</pubDate>
        
        <guid>https://ccqstark.github.io/p/%E4%BD%BF%E7%94%A8hugo-github/gitee%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</guid>
        <description>&lt;img src="https://ccqstark.github.io/p/%E4%BD%BF%E7%94%A8hugo-github/gitee%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/hugo.png" alt="Featured image of post ä½¿ç”¨Hugo&#43;github/giteeæ­å»ºä¸ªäººåšå®¢" /&gt;&lt;h3 id=&#34;åŸºæœ¬æ“ä½œ&#34;&gt;åŸºæœ¬æ“ä½œ&lt;/h3&gt;
&lt;h4 id=&#34;ä¸‹è½½hugo&#34;&gt;ä¸‹è½½hugo&lt;/h4&gt;
&lt;p&gt;é¦–å…ˆè¦æœ‰Golangçš„ç¯å¢ƒ&lt;/p&gt;
&lt;p&gt;ç„¶ååœ¨GitHubä¸Šé€‰æ‹©å¯¹åº”å¹³å°ä¸‹è½½&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://github.com/gohugoio/hugo/releases&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://github.com/gohugoio/hugo/releases&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Windowsä¸‹è½½å®Œè¦è®¾ç½®ç¯å¢ƒå˜é‡&lt;/p&gt;
&lt;h4 id=&#34;åˆ›å»ºæ–°çš„ç«™ç‚¹&#34;&gt;åˆ›å»ºæ–°çš„ç«™ç‚¹&lt;/h4&gt;
&lt;p&gt;&lt;code&gt;hugo new site &amp;lt;path&amp;gt; &lt;/code&gt;&lt;/p&gt;
&lt;p&gt;åœ¨æŒ‡å®šè·¯å¾„ä¸‹åˆ›å»ºåšå®¢ç«™ç‚¹ç›®å½•ï¼Œç›®å½•æœ€åæ˜¯åšå®¢ç«™ç‚¹å&lt;/p&gt;
&lt;h4 id=&#34;æ‰¾åˆ°å¿ƒä»ªä¸»é¢˜&#34;&gt;æ‰¾åˆ°å¿ƒä»ªä¸»é¢˜&lt;/h4&gt;
&lt;p&gt;åœ¨ä¸‹é¢è¿™ä¸ªç½‘ç«™ä¸Šæ‰¾åˆ°å–œæ¬¢çš„ä¸»é¢˜ï¼ŒæŒ‰ç…§å„è‡ªçš„æ–‡æ¡£è¿›è¡Œè®¾ç½®&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://themes.gohugo.io/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://themes.gohugo.io/&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&#34;æœ¬åœ°é¢„è§ˆ&#34;&gt;æœ¬åœ°é¢„è§ˆ&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;hugo server -t hugo-theme-stack --buildDrafts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&amp;lt;theme&amp;gt;çš„ä½ç½®å¡«å†™ä¸»é¢˜çš„åç§°&lt;/p&gt;
&lt;h4 id=&#34;åˆ›å»ºåšå®¢&#34;&gt;åˆ›å»ºåšå®¢&lt;/h4&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;hugo new post/blog.md
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åšå®¢çš„markdownæ–‡ä»¶ä¸€å¼€å§‹éƒ½æ˜¯æ”¾åœ¨&lt;code&gt;\content\post&lt;/code&gt;ç›®å½•ä¸‹&lt;/p&gt;
&lt;h4 id=&#34;åˆ›å»ºgithubgiteeä»“åº“&#34;&gt;åˆ›å»ºGitHub/Giteeä»“åº“&lt;/h4&gt;
&lt;p&gt;GithubæŠŠä»“åº“å‘½åä¸º&lt;code&gt;&amp;lt;name&amp;gt;.github.io&lt;/code&gt;å³å¯å¼€å¯åšå®¢æ‰˜ç®¡æœåŠ¡&lt;/p&gt;
&lt;p&gt;Giteeç›´æ¥å‘½åä¸ºè‡ªå·±çš„ç”¨æˆ·åï¼Œä¸€å­—ä¸å·®ï¼ŒåŒæ—¶éœ€è¦æ‰‹åŠ¨å¼€å¯Gitee PageæœåŠ¡&lt;/p&gt;
&lt;h4 id=&#34;éƒ¨ç½²åˆ°è¿œç«¯ä»“åº“&#34;&gt;éƒ¨ç½²åˆ°è¿œç«¯ä»“åº“&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;ç”Ÿæˆ&lt;code&gt;\public&lt;/code&gt;ç›®å½•&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;hugo --theme&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;hugo-theme-stack --baseUrl&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;https://ccqstark.github.io/&amp;#34;&lt;/span&gt; --buildDrafts
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ ¹æ®å…·ä½“ä»“åº“ä¿®æ”¹ï¼Œä¹Ÿå¯ä»¥æ˜¯&lt;code&gt;&amp;quot;https://ccqstark.gitee.io/&amp;quot;&lt;/code&gt;
ç„¶åcdè¿›&lt;code&gt;public&lt;/code&gt;ç›®å½•
åœ¨è¿™ä¸ªç›®å½•ä¸‹åˆ›å»ºgitä»“åº“ï¼Œéƒ¨ç½²ä¹Ÿæ˜¯éƒ¨ç½²è¿™ä¸ªç›®å½•ä¸­çš„å†…å®¹&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸‰éƒ¨æ›²&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;git add .
git commit -m &lt;span class=&#34;s1&#34;&gt;&amp;#39;...&amp;#39;&lt;/span&gt;
git push github master
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;æ›´æ–°åšå®¢&#34;&gt;æ›´æ–°åšå®¢&lt;/h4&gt;
&lt;p&gt;è¦æ–°å¢ä¸€ç¯‡åšå®¢å°±ç»§ç»­æŒ‰ä¸‹é¢è¿™ä¸ªæ­¥éª¤èµ°&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;hugo new post/name.md
hugo --theme&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;hugo-theme-stack --baseUrl&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;https://ccqstark.github.io/&amp;#34;&lt;/span&gt; --buildDrafts
&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; public
git add .
git commit -m &lt;span class=&#34;s1&#34;&gt;&amp;#39;...&amp;#39;&lt;/span&gt;
git push github master
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¦‚æœåªæ˜¯æ›´æ–°å°±é‡æ–°è¿è¡Œç”Ÿæˆ&lt;code&gt;\public&lt;/code&gt;ç›®å½•çš„å‘½ä»¤ï¼Œå†é‡æ–°éƒ¨ç½²å³å¯&lt;/p&gt;
&lt;h3 id=&#34;ä¸»é¢˜stacké…ç½®&#34;&gt;ä¸»é¢˜Stacké…ç½®&lt;/h3&gt;
&lt;p&gt;æ­¤åšå®¢çš„ä¸»é¢˜ç”¨çš„æ˜¯&lt;code&gt;Stack&lt;/code&gt;ï¼Œä¸‹é¢æ˜¯ä¸»é¢˜åœ°å€ï¼Œå¯ä»¥æ‰¾åˆ°æ–‡æ¡£å’ŒDemo&lt;/p&gt;
&lt;p&gt;&lt;a class=&#34;link&#34; href=&#34;https://themes.gohugo.io/hugo-theme-stack/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://themes.gohugo.io/hugo-theme-stack/&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&#34;iconè®¾ç½®&#34;&gt;iconè®¾ç½®&lt;/h4&gt;
&lt;p&gt;ä½¿ç”¨&lt;code&gt;.ico&lt;/code&gt;æ–‡ä»¶ç±»å‹çš„å›¾æ ‡ï¼Œå¹¶å°†å…¶æ”¾ç½®åœ¨&lt;code&gt;\public&lt;/code&gt;ç›®å½•ä¸‹&lt;/p&gt;
&lt;p&gt;&lt;code&gt;\layouts\partials\head&lt;/code&gt;ä¸‹æ–°å»ºä¸€ä¸ª&lt;code&gt;custom.html&lt;/code&gt;ï¼Œå†™ä¸Š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&amp;lt;link &lt;span class=&#34;nv&#34;&gt;rel&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;shortcut icon&amp;#34;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;href&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;https://ccqstark.github.io/icon.ico&amp;#34;&lt;/span&gt;/&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä¸ºäº†è®¿é—®ç¨³å®šä¹Ÿå¯ä»¥æ”¹ä¸ºgitee&lt;/p&gt;
&lt;h4 id=&#34;æ–‡ç« å¤–éƒ¨å±•ç¤ºå›¾&#34;&gt;æ–‡ç« å¤–éƒ¨å±•ç¤ºå›¾&lt;/h4&gt;
&lt;p&gt;åœ¨&lt;code&gt;\content\post&lt;/code&gt;ç›®å½•ä¸‹åˆ›å»ºåšå®¢æ—¶ï¼Œå…ˆåˆ›å»ºåšå®¢æ ‡é¢˜å‘½åçš„æ–‡ä»¶å¤¹ï¼Œå†åœ¨å…¶ä¸‹åˆ›å»ºmdæ–‡ä»¶&lt;code&gt;index.md&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;å›¾ç‰‡ä¹Ÿæ˜¯æ”¾åœ¨å…¶ä¸‹ï¼Œåœ¨mdæ–‡ä»¶å¼€å¤´çš„è®¾ç½®ä¸­æ·»åŠ &lt;code&gt;image: &amp;quot;image.jpg&amp;quot;&lt;/code&gt;å³å¯&lt;/p&gt;
&lt;h4 id=&#34;tagså’Œåˆ†ç±»&#34;&gt;Tagså’Œåˆ†ç±»&lt;/h4&gt;
&lt;p&gt;æ–‡ç« å¼€å¤´è®¾ç½®&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;tags:
    - Spring
categories:
    - Tech
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;ä¸€ä¸ªæ˜¯æ‰“æ ‡ç­¾ï¼Œä¸€ä¸ªæ˜¯åˆ†ç±»&lt;/p&gt;
&lt;h4 id=&#34;aboutå’Œarchives&#34;&gt;Aboutå’ŒArchives&lt;/h4&gt;
&lt;p&gt;åœ¨&lt;code&gt;\content\page&lt;/code&gt;ç›®å½•ä¸‹åˆ›å»º&lt;code&gt;about.md&lt;/code&gt;å’Œ&lt;code&gt;archives.md&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;about.md&lt;/code&gt;ç”¨äºå†™ä¸ªäººä¿¡æ¯é¡µé¢ï¼Œéœ€è¦æ–‡ç« é¡¶éƒ¨çš„è®¾ç½®å†™æ³•æ”¹ä¸ºå­—æ®µåŠ å†’å·çš„å½¢å¼ï¼Œé…ç½®&lt;code&gt;slug&lt;/code&gt;ä¸º&lt;code&gt;about&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;archives.md&lt;/code&gt;ç”¨äºåˆ†ç±»å’Œå½’æ¡£é¡µé¢ï¼Œç”¨exampleSiteçš„å°±è¡Œï¼Œä¸ç”¨åšä»»ä½•ä¿®æ”¹&lt;/p&gt;
&lt;h4 id=&#34;categories&#34;&gt;Categories&lt;/h4&gt;
&lt;p&gt;åœ¨&lt;code&gt;\content\categories&lt;/code&gt;ç›®å½•ä¸‹åˆ›å»ºä»¥å„åˆ†ç±»å‘½åçš„æ–‡ä»¶å¤¹&lt;/p&gt;
&lt;p&gt;å„åˆ†ç±»çš„æ–‡ä»¶å¤¹ä¸‹æ”¾ç½®&lt;code&gt;_index.md&lt;/code&gt;å’Œåˆ†ç±»çš„å±•ç¤ºå›¾&lt;/p&gt;
&lt;p&gt;&lt;code&gt;_index.md&lt;/code&gt;ä¸­çš„å†…å®¹å°±æ˜¯æ™®é€šæ–‡ç« é¡¶éƒ¨çš„é…ç½®é¡¹ï¼Œæ³¨æ„å›¾ç‰‡åé…ç½®å¯¹äº†å°±è¡Œ&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
