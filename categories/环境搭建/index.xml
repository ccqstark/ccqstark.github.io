<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>ç¯å¢ƒæ­å»º on ccq&#39;s blog</title>
    <link>https://ccqstark.github.io/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</link>
    <description>Recent content in ç¯å¢ƒæ­å»º on ccq&#39;s blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Fri, 29 Jan 2021 21:26:00 +0800</lastBuildDate><atom:link href="https://ccqstark.github.io/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>[Elastic]ElasticSearch å®‰å…¨</title>
      <link>https://ccqstark.github.io/p/x_pack/</link>
      <pubDate>Fri, 29 Jan 2021 21:26:00 +0800</pubDate>
      
      <guid>https://ccqstark.github.io/p/x_pack/</guid>
      <description>ElacticSearchç´¢å¼•ä¸­æœ‰å¤§é‡çš„æ•°æ®ï¼Œå¦‚æœæ²¡æœ‰ä¸€äº›å®‰å…¨æªæ–½çš„è¯ä¼šè®©ç³»ç»Ÿå¤„äºä¸€ä¸ªååˆ†å±é™©çš„å¤„å¢ƒï¼Œå¼•å‘çš„ç›¸å…³å®‰å…¨äº‹ä»¶å¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« ã€‚
ä½ çš„Elasticsearchåœ¨&amp;quot;è£¸å¥”&amp;quot;å—ï¼Ÿ
è€ŒElaticSearchå®˜æ–¹çš„é«˜çº§å®‰å…¨æœåŠ¡æ˜¯æ”¶è´¹çš„ï¼Œä¸»è¦ç»™ä¼ä¸šæä¾›ã€‚ä½†æ˜¯ä»6.8å’Œ7.1ç‰ˆæœ¬å¼€å§‹ï¼ŒåŸºç¡€å®‰å…¨åŠŸèƒ½å°±å…è´¹äº†ï¼Œè€Œä¸”å·²ç»é›†æˆåœ¨é‡Œé¢ä¸ç”¨é¢å¤–å®‰è£…ã€‚
é™¤æ­¤ä¹‹å¤–è¯¸å¦‚Search Guardã€ReadonlyRESTã€Nginx ç­‰å¼€æºå…è´¹ç­‰æ–¹æ³•æ¥è¾¾åˆ°å®‰å…¨çš„ç›®çš„ï¼Œè¿™é‡Œä»‹ç»çš„æ˜¯ä½¿ç”¨å®˜æ–¹çš„x-packçš„åŸºç¡€å®‰å…¨åŠŸèƒ½ï¼Œå¯¹äºå°é¡¹ç›®æ¥è¯´å¤Ÿç”¨äº†ã€‚
æœ¬æ–‡ç‰ˆæœ¬ä¸º7.10.1
ä¿®æ”¹é…ç½®æ–‡ä»¶ åœ¨elasticsearch.ymlé‡Œæ–°å¢
xpack.security.enabled:truexpack.security.transport.ssl.enabled:trueä¹‹åé‡å¯ es
åœ¨esç›®å½•ä¸‹æ‰§è¡Œ elasticsearch-setup-passwords interactive ç„¶åè¾“å…¥å¤šä¸ªç”¨æˆ·çš„å¯†ç 
Initiating the setup of passwords for reserved users elastic,apm_system,kibana,logstash_system,beats_system,remote_monitoring_user. You will be prompted to enter passwords as the process progresses. Please confirm that you would like to continue [y/N]y Enter password for [elastic]: Reenter password for [elastic]: Passwords do not match. Try again. Enter password for [elastic]: Reenter password for [elastic]: Enter password for [apm_system]: Reenter password for [apm_system]: Enter password for [kibana]: Reenter password for [kibana]: Enter password for [logstash_system]: Reenter password for [logstash_system]: Enter password for [beats_system]: Reenter password for [beats_system]: Enter password for [remote_monitoring_user]: Reenter password for [remote_monitoring_user]: Changed password for user [apm_system] Changed password for user [kibana] Changed password for user [logstash_system] Changed password for user [beats_system] Changed password for user [remote_monitoring_user] Changed password for user [elastic] å…¶ä¸­elasticç”¨æˆ·ç›¸å½“ä¸esçš„rootç”¨æˆ·ï¼Œä¹‹åä½¿ç”¨eså’Œkibanaéœ€è¦è¿™ä¸ªç”¨æˆ·çš„å¯†ç </description>
    </item>
    
    <item>
      <title>[Elastic]ä½¿ç”¨logstashåŒæ­¥MySQLæ•°æ®</title>
      <link>https://ccqstark.github.io/p/logstash_mysql/</link>
      <pubDate>Thu, 28 Jan 2021 21:26:00 +0800</pubDate>
      
      <guid>https://ccqstark.github.io/p/logstash_mysql/</guid>
      <description>å®‰è£…logstash åœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨esè¿›è¡Œæœç´¢ï¼Œæˆ‘ä»¬å°±è¦æŠŠmysqlæ•°æ®åº“ä¸­çš„æ•°æ®åŒæ­¥åˆ°esç´¢å¼•åº“ä¸­ã€‚è¿›è¡Œè¿™é¡¹è¿‡ç¨‹çš„å·¥å…·å¾ˆå¤šï¼Œæ¯”å¦‚go-mysql-elasticsearchï¼Œcanalç­‰ç­‰ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ELKç»„åˆä¸­çš„logsatsh æ¥å®Œæˆã€‚è¿™é‡ŒåŒæ ·ç”¨dockeræ¥éƒ¨ç½²logstashå®¹å™¨ã€‚
æ‹‰å–é•œåƒ docker pull logstash:7.10.1 å¯åŠ¨å®¹å™¨ å¯åŠ¨åè¿›å…¥å®¹å™¨å†…ï¼Œä¿®æ”¹jvmå¯åŠ¨çš„å†…å­˜è®¾ç½®ï¼Œåœ°å€ä¸º/usr/share/logstash/config/jvm.options
# ä¿®æ”¹jvmå†…å­˜åˆ†é… vi jvm.options # ä¿®æ”¹ä¸‹é¢çš„å‚æ•°ï¼Œå•ä½å¯ä»¥ä¸ºgå’Œm -Xms256m -Xmx256m ä¿®æ”¹åé‡å¯å®¹å™¨å³å¯
ä¸‹è½½æ’ä»¶ä¸ä¾èµ–åŒ… docker exec -it logstash bash å®‰è£…logstash-input-jdbcæ’ä»¶
bin/logstash-plugin install logstash-input-jdbc å¦‚æœå‡ºç°ä»¥ä¸‹ERRORï¼Œè¯´æ˜logstashé‡Œæœ¬èº«å·²ç»åŒ…å«æœ‰è¿™ä¸ªæ’ä»¶äº†ï¼Œå°±æ— éœ€å®‰è£…ã€‚7.10.1çš„ç‰ˆæœ¬æ˜¯å·²ç»è‡ªå¸¦äº†ã€‚
ERROR: Installation aborted, plugin &amp;#39;logstash-input-jdbc&amp;#39; is already provided by &amp;#39;logstash-integration-jdbc&amp;#39; ä¸‹è½½mysql-connector-javaï¼Œä¹Ÿå°±æ˜¯jdbcé©±åŠ¨
MySQLå®˜æ–¹ä¸‹è½½åœ°å€ï¼šhttps://downloads.mysql.com/archives/c-j/
ä¸‹è½½å¯¹åº”ç‰ˆæœ¬åæœ¬åœ°è§£å‹ï¼Œä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œç„¶åç”¨docker cpå‘½ä»¤å¤åˆ¶åˆ°logstashå®¹å™¨ä¸­
åªéœ€è¦å…¶ä¸­çš„jaråŒ…å³å¯
# æŠŠæ–‡ä»¶å¤åˆ¶åˆ°å®¹å™¨å†… docker cp [jaråŒ…è·¯å¾„] logstash:[å®¹å™¨å†…è·¯å¾„] åœ¨/usr/share/logstashç›®å½•ä¸‹æ–°å»ºmysql/ç›®å½•ï¼ŒæŠŠjaråŒ…å¤åˆ¶åˆ°è¿™é‡Œ
åŒæ­¥é…ç½®æ–‡ä»¶ åœ¨åˆšåˆšçš„mysqlç›®å½•ä¸‹æ–°å»ºjdbc.conf æ–‡ä»¶ï¼Œæ¥é…ç½®åŒæ­¥æ“ä½œ
 å•è¡¨åŒæ­¥  input { jdbc { # jaråŒ…çš„ç»å¯¹è·¯å¾„ jdbc_driver_library =&amp;gt; &amp;#34;/usr/share/logstash/mysql/mysql-connector-java-5.1.48.jar&amp;#34; jdbc_driver_class =&amp;gt; &amp;#34;com.mysql.jdbc.Driver&amp;#34; # æ•°æ®åº“è¿æ¥ä¿¡æ¯ jdbc_connection_string =&amp;gt; &amp;#34;jdbc:mysql://[ip]:3306/[åº“å]?</description>
    </item>
    
    <item>
      <title>[Elastic]ä½¿ç”¨dockerå®‰è£…ElasticSearch &#43; Kibana</title>
      <link>https://ccqstark.github.io/p/es_docker/</link>
      <pubDate>Wed, 27 Jan 2021 21:26:00 +0800</pubDate>
      
      <guid>https://ccqstark.github.io/p/es_docker/</guid>
      <description>å®‰è£…ElasticSearch æ‹‰å–é•œåƒ docker pull elasticsearch:7.10.1 å¯åŠ¨å®¹å™¨ åŒæ—¶æŒ‚è½½ç›®å½•ï¼ˆåŒ…æ‹¬é…ç½®æ–‡ä»¶å’Œdataï¼‰ï¼ˆæŒ‚è½½å‡ºæ¥çš„ä½ç½®è‡ªå·±å®šä¹‰ï¼‰
docker run --name elasticsearch -p 9200:9200 -p 9300:9300 -e ES_JAVA_OPTS=&amp;#34;-Xms256m -Xmx256m&amp;#34; -d \ -v /home/es/config/elasticsearch.yml:/usr/share/elasticsearch/config/elasticsearch.yml \ -v /home/es/data:/usr/share/elasticsearch/data elasticsearch:7.10.1 æ³¨æ„è¿™é‡Œè¿˜è®¾ç½®äº†JVMçš„å†…å­˜å¤§å°ï¼Œé»˜è®¤ä¸º2Gï¼Œæœ‰ç‚¹å¤§ï¼Œå¾ˆå¯èƒ½ä¼šå› ä¸ºå†…å­˜ä¸å¤Ÿè€Œæ— æ³•æ­£å¸¸å¯åŠ¨ã€‚å¯ä»¥åƒæˆ‘è¿™é‡Œæ”¹ä¸º256mæˆ–è€…å…¶ä»–å€¼ã€‚
å¯èƒ½å‡ºç°çš„é”™è¯¯ æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker logs elasticsearch å¦‚æœå‡ºç°ä»¥ä¸‹é”™è¯¯
max virtual memory areas vm.max_map_count [65530] is too low, increase to at least [262144] åˆ™è¦ä¿®æ”¹æœåŠ¡å™¨é…ç½®
vim /etc/sysctl.conf æ·»åŠ è¿™è¡Œ
vm.max_map_count=262144 ç«‹å³ç”Ÿæ•ˆ, æ‰§è¡Œï¼š
/sbin/sysctl -p å¯¹æŒ‚è½½çš„å®¿ä¸»æœºdataç›®å½•å¯èƒ½å‡ºç°æƒé™ä¸è¶³é—®é¢˜
chmod 777 [å®¿ä¸»æœºdataç›®å½•] é…ç½®è·¨åŸŸ åˆ°æŒ‚è½½å‡ºæ¥åˆ°ä½ç½®ç¼–è¾‘é…ç½®æ–‡ä»¶
vim elasticsearch.yml æ·»åŠ ä»¥ä¸‹å‡ è¡Œ
network.host:0.0.0.0discovery.type:single-nodehttp.cors.enabled:truehttp.cors.allow-origin:&amp;#34;*&amp;#34;åŒæ—¶å®‰å…¨ç»„å’Œé˜²ç«å¢™è®°å¾—æ‰“å¼€å¯¹åº”ç«¯å£
è®°å¾—æ¯æ¬¡ä¿®æ”¹å®Œé…ç½®éƒ½è¦é‡å¯ docker restart elasticsearch æµè§ˆå™¨è®¿é—®æµ‹è¯• http://[IP]:9200 çœ‹åˆ°ç±»ä¼¼ä»¥ä¸‹çš„jsonå°±æˆåŠŸäº†</description>
    </item>
    
    <item>
      <title>Jenkins &#43; docker &#43; springboot å®Œç¾é…åˆå…¨æµç¨‹æ•™ç¨‹</title>
      <link>https://ccqstark.github.io/p/jenkins_docker_springboot/</link>
      <pubDate>Sat, 09 Jan 2021 23:01:00 +0800</pubDate>
      
      <guid>https://ccqstark.github.io/p/jenkins_docker_springboot/</guid>
      <description>DevOpsç°åœ¨éå¸¸æµè¡Œï¼ŒCI/CDæŒç»­é›†æˆã€æŒç»­éƒ¨ç½²ä¹Ÿå¤§ç«ï¼Œè€ŒJenkinså°±æ˜¯è‡ªåŠ¨åŒ–éƒ¨ç½²ä¸»è¦çš„å·¥å…·ä¹‹ä¸€ã€‚
è¿™ç¯‡åšå®¢å°±æ¥è¯¦ç»†ä»‹ç»ç”¨jenkinsæ¥å®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²springbooté¡¹ç›®çš„dockerå®¹å™¨ï¼Œå ªç§°ä¿å§†çº§æ•™å­¦äº†ã€‚
ç”¨dockeræ‹‰å–jenkinsé•œåƒï¼Œå¯åŠ¨Jenkinså®¹å™¨ è¿™é‡Œé‡‡ç”¨çš„jenkinsæœ¬èº«ä¹Ÿæ˜¯ç”¨dockerå®¹å™¨éƒ¨ç½²çš„ï¼Œä¸å¾—ä¸è¯´dockerç¡®å®å¥½ç”¨ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥è¿è¡Œåœ¨ä¸»æœºä¸Š
é¦–å…ˆæ‹‰å–Jenkinsé•œåƒ docker pull jenkins/jenkins âš ï¸æ³¨æ„ï¼šåˆ‡å‹¿docker pull jenkinsï¼Œå·²ç»åºŸå¼ƒ
å¯åŠ¨Jenkinså®¹å™¨ docker run -u root -itd --name jenkins \ -p 6001:8080 \ -v $(which docker):/usr/bin/docker \ -v /var/run/docker.sock:/var/run/docker.sock -e TZ=&amp;#34;Asia/Shanghai&amp;#34; \ -v /etc/localtime:/etc/localtime:ro \ -v /volume1/docker/jenkins:/var/jenkins_home \ jenkins/jenkins  -p 6001:8080Jenkinsé»˜è®¤ç½‘é¡µè®¿é—®ç«¯å£ä¸º8080ï¼Œå°†ç«¯å£æ˜ å°„åˆ°å¤–éƒ¨ä¸»æœº6001ç«¯å£ -v $(which docker):/usr/bin/docker -v /var/run/docker.sock:/var/run/docker.sockä½¿Jenkinså†…éƒ¨å¯ä»¥ä½¿ç”¨dockerå‘½ä»¤ -e TZ=&amp;quot;Asia/Shanghai&amp;quot; -v /etc/localtime:/etc/localtime:roé…ç½®Jenkinså®¹å™¨çš„æ—¶åŒº -v /volume1/docker/jenkins:/var/jenkins_home å°†Jenkinsçš„é…ç½®æ˜ å°„åˆ°å¤–éƒ¨ä¸»æœºå·ï¼Œå®¹å™¨åˆ é™¤ä»å¯ä¿ç•™é…ç½®  æµ‹è¯•Jenkinså®¹å™¨å†…éƒ¨ # è¿›å…¥Jenkinsçš„å®¹å™¨å†…éƒ¨ docker exec -it jenkins bash # åˆ¤æ–­dockerå‘½ä»¤æ˜¯å¦æ­£å¸¸æ‰§è¡Œ docker info è®¿é—®Jenkinsç½‘é¡µç«¯ ç”¨http://ä¸»æœºIP:6001 å°±å¯ä»¥è®¿é—®Jenkinsçš„ç½‘é¡µç«¯äº†</description>
    </item>
    
    <item>
      <title>[docker]ç”¨dockeréƒ¨ç½²nginx</title>
      <link>https://ccqstark.github.io/p/docker_nginx/</link>
      <pubDate>Fri, 08 Jan 2021 15:46:00 +0800</pubDate>
      
      <guid>https://ccqstark.github.io/p/docker_nginx/</guid>
      <description>å¦‚æœæ˜¯å•ä½“åº”ç”¨çš„è¯nginxç”¨dockeréƒ¨ç½²å…¶å®æ˜¯æ›´éº»çƒ¦çš„ï¼Œä¸è¿‡æ—¢ç„¶æ“ä½œè¿‡å°±è®°å½•ä¸€ä¸‹ã€‚
æ‹‰å–nginxé•œåƒ docker pull nginx è¿˜æ˜¯ä¸€æ ·ï¼Œé»˜è®¤æ˜¯æ‹‰å–latestç‰ˆæœ¬ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©æƒ³è¦çš„ç‰¹å®šç‰ˆæœ¬
å¯åŠ¨å¹¶æŒ‚è½½htmlç›®å½• docker container run \  -d \  -p 80:80 \  --name mynginx \  --v [æœ¬æœºæŒ‚è½½ç›®å½•]:/usr/share/nginx/html \  nginx å¤åˆ¶å‡ºé…ç½®æ–‡ä»¶ docker container cp mynginx:/etc/nginx . å°†å¤åˆ¶å‡ºæ¥çš„æ–‡ä»¶å¤¹æ”¹åå¹¶ç§»åŠ¨åˆ°ä½ æƒ³è¦çš„ç›®å½•ä¸‹ï¼Œç„¶åæŠŠå®¹å™¨åœæ­¢å¹¶åˆ é™¤
æŒ‚è½½é…ç½®æ–‡ä»¶ç›®å½• æœ€åä¸€æ­¥å°±æ˜¯é‡æ–°å¯åŠ¨ä¸€ä¸ªå®¹å™¨å¹¶æŠŠhtmlå’Œé…ç½®æ–‡ä»¶ç›®å½•éƒ½æŒ‚è½½äº†
docker run \  --name test-nginx \  -v [æœ¬æœºæŒ‚è½½htmlç›®å½•]:/usr/share/nginx/html \  -v [æœ¬æœºæŒ‚è½½nginxç›®å½•]:/etc/nginx \  -p 80:80 \  -d \  nginx è®¿é—®ä¸€ä¸‹è¯•è¯•å°±å¯ä»¥äº†ï¼
å‚è€ƒï¼š
Nginx å®¹å™¨æ•™ç¨‹</description>
    </item>
    
    <item>
      <title>[docker]ç”¨dockeréƒ¨ç½²SpringBooté¡¹ç›®</title>
      <link>https://ccqstark.github.io/p/docker_springboot/</link>
      <pubDate>Thu, 07 Jan 2021 21:39:00 +0800</pubDate>
      
      <guid>https://ccqstark.github.io/p/docker_springboot/</guid>
      <description>è¿™ç¯‡æ–‡ç« ä»‹ç»çš„æ˜¯æŠŠæ•´ä¸ªSpringbootåç«¯é¡¹ç›®éƒ¨ç½²åˆ°dockerå®¹å™¨ä¸­ï¼Œå½“ç„¶åŒ…æ‹¬mysqlå’Œredis
æŒ‰ä¸‹é¢æ­¥éª¤ä¸€æ­¥æ­¥æ¥
æœ¬åœ°æ‰“å‡ºjaråŒ… ä»¥Mavençš„è¯ç›´æ¥å°±IDEAé‡Œæ‰“å‡ºjaråŒ…åˆ°targetç›®å½•ä¸‹ï¼Œè¿™ä¸€æ­¥å’Œä»¥å‰ä¸€æ ·
ç¼–å†™Dockerfile å¯ä»¥ç”¨IDEAé‡Œçš„æ’ä»¶æ¥å†™ï¼Œä¹Ÿå¯ä»¥è‡ªå·±å†™dockerfile
åœ¨é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹æ–°å»ºä¸€ä¸ªæ–‡ä»¶Dockerfile
FROMopenjdk:8MAINTAINERccqstarkADD /target/[é¡¹ç›®jaråŒ…å].jar app.jarEXPOSE8080ENTRYPOINT [&amp;#34;java&amp;#34;,&amp;#34;-jar&amp;#34;,&amp;#34;/app.jar&amp;#34;]âš ï¸æ³¨æ„ï¼šADDåä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯é¡¹ç›®jaråŒ…çš„ç›¸å¯¹è·¯å¾„ï¼Œç¬¬äºŒæ˜¯æŠŠjaråŒ…åœ¨å®¹å™¨å†…é‡æ–°å‘½çš„å
æ„å»ºé•œåƒ åœ¨Dockerfileæ‰€åœ¨æ–‡ä»¶å¤¹ä¸‹è¿è¡Œbuild å‘½ä»¤ï¼Œæ³¨æ„æœ€åæœ‰ä¸€ä¸ª.
docker build -f Dockerfile -t [é•œåƒå]:[ç‰ˆæœ¬tag] .æ„å»ºä¹‹åç”¨docker images æŸ¥çœ‹ä¸€ä¸‹è‡ªå·±æ„æ¶çš„é•œåƒ
æ„å»ºå®Œä¹‹åæœ¬åœ°runä¸€ä¸‹å®¹å™¨æµ‹è¯•ä¸‹
pushä¸Šä¼ åˆ°é•œåƒä»“åº“ å…¶å®ä¹Ÿå¯ä»¥æŠŠjaråŒ…ä¸Šä¼ æœåŠ¡å™¨åç”¨æœåŠ¡å™¨çš„dockeræ¥æ„å»ºå’Œè¿è¡Œ
ä½†è¿™é‡Œé‡‡ç”¨çš„æ˜¯æŠŠæœ¬åœ°æ„å»ºçš„é•œåƒä¸Šä¼ åˆ°repositoryï¼Œç›¸å½“äºé•œåƒä»“åº“ï¼Œå…¶ä»–äººæƒ³ç”¨è¿™ä¸ªé•œåƒå°±å¯ä»¥ä»é‚£æ‹‰å–ä¸‹æ¥ä½¿ç”¨ã€‚
repositoryå¯ä»¥æ˜¯å®˜æ–¹çš„Docker Hubï¼Œä½†æ˜¯æ¯”è¾ƒæ…¢ï¼Œä¹Ÿå¯ä»¥èŠ±é’±ä¸Šä¼ åˆ°é˜¿é‡Œäº‘çš„å®¹å™¨é•œåƒæœåŠ¡å°±ä¼šå¿«å¾ˆå¤š
è¿™é‡Œæ˜¯ä¸Šä¼ åˆ°docker hubï¼Œé¦–å…ˆè¦ç™»é™†è‡ªå·±åˆ°dockerè´¦å·ï¼Œæ²¡æœ‰çš„è¯å¯ä»¥å»å®˜ç½‘æ³¨å†Œä¸€ä¸ª
docker login -u [è´¦æˆ·å] è¾“å…¥å¯†ç æˆåŠŸåç™»é™†
åœ¨pushä¹‹å‰è¦ç»™é•œåƒæ‰“ä¸ªtagï¼Œè¿™æ ·æ‰èƒ½ä¸Šä¼ åˆ°è‡ªå·±è´¦å·å¯¹åº”çš„ä»“åº“ä¸‹
docker tag [é•œåƒå] [è´¦æˆ·å]/[é•œåƒä»“åº“å]:latest ä¹‹åå°±å¯ä»¥ä¸Šä¼ äº†
docker push [è´¦æˆ·å]/[é•œåƒä»“åº“å]:latest pullæ‹‰å–é•œåƒ docker pull [è´¦æˆ·å]/[é•œåƒä»“åº“å]:[tag] åœ¨æœåŠ¡å™¨ä¸Šæ‹‰å–åˆ°é•œåƒåå°±å¯ä»¥å¯åŠ¨å®¹å™¨äº†
docker run -it -d -p [å¯¹å¤–æš´éœ²ç«¯å£]:8080 app:[tag] éƒ¨ç½²MySQLå®¹å™¨ # æ‹‰å–mysqlé•œåƒ docker pull mysql:5.7 # è·‘èµ·æ¥ docker run \ -d \ -p 3306:3306 \ -v /home/mysql/conf:/etc/mysql/conf.</description>
    </item>
    
    <item>
      <title>[docker]åˆè¯†Dockerfile</title>
      <link>https://ccqstark.github.io/p/dockerfile/</link>
      <pubDate>Wed, 06 Jan 2021 21:13:00 +0800</pubDate>
      
      <guid>https://ccqstark.github.io/p/dockerfile/</guid>
      <description>Dockerfileä»‹ç» dockfileæ˜¯ç”¨æ¥æ„å»ºdockeré•œåƒçš„æ–‡ä»¶ï¼Œå‘½ä»¤å‚æ•°è„šæœ¬
ğŸ’¡æ„å»ºæ­¥éª¤ï¼š
 ç¼–å†™dockerfileè„šæœ¬ ç”¨docker buildå‘½ä»¤æ„å»ºä¸€ä¸ªé•œåƒ ç”¨docker runè¿è¡Œé•œåƒ ç”¨docker pushå‘å¸ƒé•œåƒï¼ˆDockerHubã€é˜¿é‡Œäº‘ä»“åº“ï¼‰  åœ¨å®˜ç½‘ç‚¹å‡»é•œåƒä¼šè·³è½¬åˆ°githubå¯¹åº”çš„dockerfile
å¯ä»¥å‘ç°è¿™äº›é•œåƒä¹Ÿæ˜¯é€šè¿‡dockerfileæ¥æ„å»ºçš„
  ä¸Šå›¾æ˜¯centosçš„dockerfileï¼Œå…¶ä¸­scratchæ˜¯æœ€åŸºæœ¬çš„ï¼Œ90%éƒ½æ˜¯åŸºäºè¿™ä¸ªé•œåƒã€‚
ç„¶åADD å°±æ˜¯æ·»åŠ æ¥ä¸€å±‚centosç›¸å…³çš„é•œåƒæ–‡ä»¶
å®˜æ–¹å¾ˆå¤šé•œåƒéƒ½æ˜¯åŸºç¡€åŒ…ï¼ŒåŠŸèƒ½å¾ˆå°‘ï¼Œå¾ˆå¤šæˆ‘ä»¬éœ€è¦çš„éƒ½æ²¡æœ‰ï¼Œæ‰€ä»¥æˆ‘ä»¬é€šå¸¸éƒ½ä¼šæ„å»ºè‡ªå·±çš„é•œåƒã€‚
æ¯”å¦‚æˆ‘ä»¬å¯ä»¥ç›´æ¥æ„å»ºä¸€ä¸ªcentos+jdk+tomcat+mysqlçš„é•œåƒï¼Œä¸å°±ç›´æ¥æœ‰æ¥ä¸€ä¸ªå¯ä»¥è¿è¡Œjavawebé¡¹ç›®çš„ç¯å¢ƒé•œåƒäº†å—ï¼Ÿ
Dockerfileæ„å»ºè¿‡ç¨‹ åŸºæœ¬è§„åˆ™  æ¯ä¸ªå…³é”®å­—ï¼ˆä¿ç•™å­—ï¼‰éƒ½æ˜¯å¤§å†™çš„ æ‰§è¡Œé¡ºåºæ˜¯ä»ä¸Šåˆ°ä¸‹çš„ &amp;ldquo;#&amp;rdquo; è¡¨ç¤ºæ³¨é‡Š æ¯ä¸€ä¸ªæŒ‡ä»¤éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„é•œåƒå±‚ï¼Œå¹¶æäº¤    ä»¥å‰å¼€å‘äº¤ä»˜éƒ½æ˜¯ç”¨jaråŒ…æˆ–waråŒ…ï¼Œç°åœ¨äº‘åŸç”Ÿæ—¶ä»£äº¤ä»˜çš„å°±æ˜¯dockeré•œåƒï¼Œdockeré•œåƒä¹Ÿé€æ¸æˆä¸ºä¼ä¸šäº¤ä»˜æ ‡å‡†ï¼Œè€Œæ„å»ºdockeré•œåƒå°±éœ€è¦å­¦ä¼šç¼–å†™dockerfile
ä»€ä¹ˆæ˜¯äº‘åŸç”Ÿï¼ŸèŠèŠäº‘åŸç”Ÿçš„ä»Šç”Ÿ_é˜¿é‡Œäº‘å¼€å‘è€…-CSDNåšå®¢
Dockerfileå¸¸ç”¨æŒ‡ä»¤    æŒ‡ä»¤å…³é”®å­— ä½œç”¨     FROM æ„å»ºé•œåƒæ‰€ç”¨çš„åŸºç¡€é•œåƒ   MAINTAINER é•œåƒä½œè€…ï¼Œä¸€èˆ¬æ˜¯å§“å+é‚®ç®±   RUN é•œåƒæ„å»ºæ—¶è¿è¡Œçš„å‘½ä»¤   ADD ä¸ºé•œåƒæ·»åŠ å†…å®¹   WORKDIR é•œåƒçš„å·¥ä½œç›®å½•   VOLUME æŒ‚è½½ç›®å½•   EXPOSE æš´éœ²çš„ç«¯å£   CMD å®¹å™¨å¯åŠ¨æ—¶éœ€è¦è¿è¡Œçš„å‘½ä»¤ï¼Œåªæœ‰æœ€åä¸€ä¸ªä¼šç”Ÿæ•ˆï¼Œå¯è¢«æ›¿ä»£   ENTRYPOINT ä¹Ÿæ˜¯æŒ‡å®šå¯åŠ¨æ—¶éœ€è¦è¿è¡Œçš„å‘½ä»¤ï¼Œä½†æ˜¯å¯ä»¥è¿½åŠ    ONBUILD æ„å»ºä¸€ä¸ªè¢«ç»§æ‰¿çš„dockerfileæ—¶ä¼šè¿è¡ŒONBUILDçš„æŒ‡ä»¤ã€‚è§¦å‘æŒ‡ä»¤   COPY ç±»ä¼¼ADDï¼Œå°†æ–‡ä»¶æ‹·è´åˆ°é•œåƒä¸­   ENV æ„å»ºæ—¶è®¾ç½®çš„ç¯å¢ƒå˜é‡    å®è·µï¼šæ„å»ºè‡ªå·±çš„centos ä¸¾ä¸ªä¾‹å­ï¼š</description>
    </item>
    
    <item>
      <title>[docker]å®¹å™¨æ•°æ®å·</title>
      <link>https://ccqstark.github.io/p/docker_volumes/</link>
      <pubDate>Wed, 06 Jan 2021 16:51:00 +0800</pubDate>
      
      <guid>https://ccqstark.github.io/p/docker_volumes/</guid>
      <description>æŠŠå®¹å™¨å†…çš„ç›®å½•æŒ‚è½½åˆ°å®¿ä¸»æœºçš„æŸä¸€ä¸ªç›®å½•ä¸‹ï¼Œå®ç°åŒå‘åŒæ­¥ã€‚
ä¹Ÿå°±æ˜¯è¯´ä¸¤è€…éƒ½æŒ‡å‘äº†åŒä¸€æ–‡ä»¶ç›®å½•ä¸‹ï¼Œåœ¨å…¶ä¸­ä¸€ç«¯æ‰€åšçš„ä¿®æ”¹éƒ½ä¼šåŒæ­¥ã€‚
å¥½å¤„ï¼š
 MySQLæ•°æ®æŒä¹…åŒ–ï¼Œä¸ä¼šå› ä¸ºåˆ äº†å®¹å™¨å°±æ²¡äº† æ–¹ä¾¿ä¿®æ”¹æ–‡ä»¶ï¼Œæ¯”å¦‚nginxçš„é…ç½®æ–‡ä»¶  åŸºæœ¬ä½¿ç”¨ bind mounts ä»¥å¯åŠ¨ä¸€ä¸ªcentoså®¹å™¨ä¸ºä¾‹
docker run -it -v [å®¿ä¸»æœºç›®å½•]:[å®¹å™¨å†…ç›®å½•] centos /bin/bash -it ï¼š-té€‰é¡¹è®©Dockeråˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯ï¼ˆpseudo-ttyï¼‰å¹¶ç»‘å®šåˆ°å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¸Šï¼Œ -i åˆ™è®©å®¹å™¨çš„æ ‡å‡†è¾“å…¥ä¿æŒæ‰“å¼€ï¼Œé€šå¸¸å†™æˆ-it
-v ï¼šæŒ‚è½½å·æ‰€éœ€å‚æ•°ï¼Œåé¢çš„æ˜ å°„æ˜¯[å®¿ä¸»æœºç›®å½•]:[å®¹å™¨å†…ç›®å½•]
ç”¨æ­¤å‘½ä»¤æŸ¥çœ‹å®¹å™¨å‚æ•°
docker inspect [å®¹å™¨id]   å¦‚ä¸Šå›¾ï¼Œåœ¨Mounts å­—æ®µä¸­å¯ä»¥çœ‹åˆ°ï¼š
Source è¡¨ç¤ºå®¿ä¸»æœºä¸­è¢«æ˜ å°„çš„ç›®å½•
Destination è¡¨ç¤ºå®¹å™¨å†…è¦æ˜ å°„çš„ç›®å½•
è¿™ç§æŒ‚è½½æ–¹å¼ç§°ä¸ºbind mounts
å®è·µï¼šMySQLæŒ‚è½½ æ‹‰å–mysqlé•œåƒ docker search mysql docker pull mysql:5.7 å¯åŠ¨å®¹å™¨ -d åå°è¿è¡Œ
-p ç«¯å£æ˜ å°„
-v æ•°æ®å·æŒ‚è½½
â€”name å®¹å™¨åå­—
docker run \ -d \ -p 3310:3306 \ -v /home/mysql/conf:/etc/mysql/conf.d \ -v /home/mysql/data:/var/lib/mysql \ -e MYSQL_ROOT_PASSWORD=[ä½ é…ç½®çš„mysqlå¯†ç ] \ --name [å®¹å™¨å] \ mysql:5.</description>
    </item>
    
    <item>
      <title>phpåå°å¼€å‘åŸºç¡€ç¯å¢ƒæ­å»ºæ•™ç¨‹</title>
      <link>https://ccqstark.github.io/p/php_env/</link>
      <pubDate>Sat, 10 Oct 2020 11:39:00 +0800</pubDate>
      
      <guid>https://ccqstark.github.io/p/php_env/</guid>
      <description>â€œå·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨â€ï¼Œä½œä¸ºåç«¯æ¬ç –å·¥ï¼Œæˆ‘ä»¬æ•²ä»£ç ä¹‹å‰éœ€è¦ç»™æˆ‘ä»¬çš„ç”µè„‘é…ä¸Šæ‰€éœ€çš„è½¯ä»¶ç¯å¢ƒï¼Œè¿™æ ·æˆ‘ä»¬å†™çš„ä»£ç æ‰èƒ½è·‘èµ·æ¥ï¼ŒåŸåœ°èµ·é£ï¼
ä¸‹è½½é›†æˆç¯å¢ƒå·¥å…· å¯ä»¥é€‰æ‹©xamppæˆ–phpenvï¼ˆäºŒé€‰ä¸€å°±è¡Œï¼‰
xampp xampp = Apache + MySQL(MariaDB) + PHP + Perlï¼Œæ˜¯ä¸€ä¸ªé›†æˆç¯å¢ƒè½¯ä»¶ï¼Œè£…äº†ä¸€ä¸ªå°±å¯ä»¥è½»æ¾è·å¾—æœåŠ¡å™¨ï¼Œæ•°æ®åº“å’Œphpè¯­è¨€çš„ç¯å¢ƒï¼Œè½»æ¾å¿«æ·è€Œä¸”å…è´¹ï¼Œå”¯ä¸€çš„ç¼ºç‚¹å¯èƒ½æ˜¯å› ä¸ºæ˜¯å¤–ç½‘æ‰€ä»¥é€Ÿåº¦ç¨æ…¢æˆ–è€…å¯èƒ½éœ€è¦ç§‘å­¦ä¸Šç½‘
å®˜ç½‘ä¸‹è½½ï¼šhttps://www.apachefriends.org/zh_cn/index.html
é€‰æ‹©è‡ªå·±çš„å¹³å°ï¼Œç„¶åç‚¹å‡»ä¸‹è½½ï¼Œå®Œæˆåè¿è¡Œexe
æŒ‰æ™®é€šå®‰è£…æ­¥éª¤æ¥å°±å¥½ï¼Œä¸‹é¢è¿™ä¸ªç•Œé¢ä¹Ÿé»˜è®¤é€‰æ‹©å°±å¥½ï¼Œæœ‰äº›ç¯å¢ƒä¹‹åä¼šç”¨åˆ°
 
å®‰è£…è·¯å¾„å»ºè®®å®‰è£…åœ¨Dç›˜ï¼Œç„¶åç­‰å¾…å®‰è£…å®Œæˆå°±å¯ä»¥äº†ï¼Œæ‰“å¼€è½¯ä»¶çœ‹åˆ°ä¸»é¢æ¿
 
ç‚¹å‡»Apacheå’ŒstartæŒ‰é’®ï¼Œç­‰å¾…å›¾æ ‡å˜ç»¿åå†ç‚¹å‡»adminæŒ‰é’®æˆ–è€…æµè§ˆå™¨åœ°å€æ è¾“å…¥localhostè¿›è¡Œè®¿é—®
å¦‚æœå¯ä»¥çœ‹åˆ°æœåŠ¡å™¨ä¸»é¡µé¢è¯´æ˜æˆåŠŸ
ç„¶åç‚¹å‡»MySQLçš„startå’Œadminï¼Œæˆ–è€…åœ°å€æ è¾“å…¥localhost/phpmyadmin/
å‡ºç°ä¸€ä¸ªç™»å½•ç•Œé¢ï¼Œè´¦å·å¡«å†™rootï¼Œå¯†ç ä¸ºç©ºä¸ç”¨å¡«ï¼Œç›´æ¥ç‚¹å‡»ç™»å½•ï¼Œå‡ºç°ä¸‹é¢ç”»é¢è¯´æ˜æˆåŠŸ
 
phpEnv å¦‚æœxamppå®åœ¨å¤ªæ…¢æˆ–è€…æ ¹æœ¬æ— æ³•ä¸‹è½½ï¼Œä¹Ÿå¯ä»¥ç”¨phpEnv
å®˜ç½‘ä¸‹è½½ï¼šhttps://www.phpenv.cn/
æ ¹æ®ä½ ç”µè„‘æ˜¯64ä½æˆ–è€…32ä½è¿›è¡Œé€‰æ‹©å¯¹åº”ç‰ˆæœ¬ä¸‹è½½ï¼Œå¦‚æœä¸çŸ¥é“è‡ªå·±ç”µè„‘æ˜¯å‡ ä½çš„å¯ä»¥ç‚¹å‡»æ•™ç¨‹æŸ¥çœ‹
åŒæ ·å»ºè®®æ”¾åœ¨Dç›˜ï¼Œå…¶å®ƒçš„é»˜è®¤å°±è¡Œï¼Œè¿è¡Œåå‡ºç°ä¸‹é¢ç•Œé¢
 
ç‚¹å‡»å¯åŠ¨æœåŠ¡ä¸Šé¢çš„å›¾æ ‡ï¼Œå†ç‚¹å‡»æ‰“å¼€ä¸»é¡µçš„å›¾æ ‡ï¼Œçœ‹åˆ°phpEnvçš„ä¸»é¡µé¢å°±è¯´æ˜æˆåŠŸäº†
é¡µé¢æ‹‰åˆ°æœ€ä¸‹é¢å¦‚ä¸‹
 
æ•°æ®åº“ç«¯å£å¡«3306
ç”¨æˆ·åå¡«root
å¯†ç ä¹Ÿå¡«rootï¼ˆæ³¨æ„ï¼šè¿™é‡Œå’Œxamppä¸ä¸€æ ·ï¼‰
ç‚¹å‡»è¿æ¥æŒ‰é’®åå†æŠŠé¡µé¢æ‹‰åˆ°æœ€ä¸‹é¢æ˜¾ç¤ºè¿æ¥æˆåŠŸå°±è¡Œå•¦
ç‚¹å‡»é¡¶éƒ¨èœå•æ çš„å¼€å§‹ï¼Œå†ç‚¹å‡»phpMyAdminï¼Œç„¶åæŒ‰ä¸Šé¢xamppçš„å¯¹åº”å†…å®¹æ“ä½œå°±è¡Œ
å®‰è£…IDE IDE(Integrated Development Environment)ï¼Œé›†æˆå¼€å‘ç¯å¢ƒï¼Œä¸ºå¼€å‘è€…æä¾›äº†åŸºæœ¬çš„ä»£ç ç¼–è¾‘å™¨çš„åŒæ—¶è¿˜æä¾›äº†è®¸å¤šé€‚ç”¨å·¥å…·ï¼ŒåŠŸèƒ½å¼ºå¤§ï¼Œæ˜¯ç å†œå¼€å‘çš„åˆ©å™¨ã€‚
phpè¯­è¨€æˆ‘ä»¬ä½¿ç”¨çš„æ¯”è¾ƒå¤šçš„æ˜¯JetBrainså…¬å¸å‡ºçš„PhpStorm
å®˜ç½‘ä¸‹è½½ï¼šhttps://www.jetbrains.com/phpstorm/
è½¯ä»¶ä½“ç§¯è¾ƒå¤§ï¼Œå¦‚æœä½ ä¸æƒ³è£…å®ƒçš„è¯å¯ä»¥è‡ªå·±ä¸‹è½½VSCodeç„¶åä¸‹è½½ç›¸åº”æ’ä»¶ï¼ˆè‡ªå·±æŸ¥ï¼‰
ç”±äºè½¯ä»¶æ˜¯æ”¶è´¹çš„ï¼Œä½†æ˜¯æˆ‘ä»¬æ˜¯å­¦ç”Ÿï¼Œå¯ä»¥ç”¨å­¦æ ¡ç»™çš„é‚®ç®±è¿›è¡Œå­¦ç”Ÿè®¤è¯å°±å¯ä»¥åœ¨æ¯•ä¸šå‰éƒ½å…è´¹ä½¿ç”¨
å­¦ç”Ÿè®¤è¯åœ°å€ï¼šhttps://www.jetbrains.com/community/education/#students
å­¦æ ¡é‚®ç®±è·å–æ–¹æ³• è¿›å…¥å­¦æ ¡å®˜ç½‘ï¼Œè¿›å…¥æ™ºæ…§å¹¿å¤–ï¼Œ	åœ¨ä¸ªäººäº‹åŠ¡ä¸­å¯ä»¥çœ‹åˆ°è‡ªå·±çš„é‚®ç®±åœ°å€ï¼Œä¸€èˆ¬æ˜¯å­¦å·@gdufs.edu.cn
 
ä¸‹è½½ç ´è§£ç‰ˆä¹Ÿå¯ä»¥ï¼Œä½†å¯èƒ½æ¯”è¾ƒèŠ±æ—¶é—´
æŒ‰æ­¥éª¤å®Œæˆåæ‰“å¼€phpstormï¼Œè¿›è¡Œä¸‹é¢çš„é…ç½®æµç¨‹
1. æ–°å»ºä¸€ä¸ªé¡¹ç›®  
2. é€‰æ‹©åˆ›å»ºè·¯å¾„ å»ºè®®æŠŠç›®å½•å»ºåœ¨é›†æˆç¯å¢ƒæŒ‡å®šçš„ç½‘ç»œæ ¹ç›®å½•ä¸‹ï¼Œç›®å½•è·¯å¾„å¦‚ä¸‹ï¼ˆä»¥å®‰è£…åœ¨Dç›˜ä¸ºä¾‹ï¼‰ï¼š
xamppï¼šD:\xampp\htdocs
phpEnvï¼šD:\phpEnv\www\localhost</description>
    </item>
    
  </channel>
</rss>
